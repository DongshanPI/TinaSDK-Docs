<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Tina SDK Docs Start Page."><meta name=author content=100askTeam><link href=https://github.com/DongshanPI/TinaSDK-Docs.git/Linux_UART_%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/ rel=canonical><link rel=icon href=../favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.14"><title>Linux UART 开发指南 - 全志Linux Tina-SDK开发完全手册</title><link rel=stylesheet href=../assets/stylesheets/main.342714a4.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../stylesheets/extra.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-LZX4K52CZ1"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-LZX4K52CZ1",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-LZX4K52CZ1",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#linux-uart class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=https://tina.100ask.net title="全志Linux Tina-SDK开发完全手册" class="md-header__button md-logo" aria-label="全志Linux Tina-SDK开发完全手册" data-md-component=logo> <svg id=图层_1 data-name="图层 1" xmlns=http://www.w3.org/2000/svg viewbox="0 0 400 400"><defs><style>.cls-1{fill:#151f45;fill-rule:evenodd;}</style></defs><title>东山派1号LOGO定稿</title><path class=cls-1 d=M339.43,62.45A195.41,195.41,0,0,0,61.92,337.64l-.08.2.55.27.67.67A195.41,195.41,0,1,0,339.43,62.45ZM208.26,19.36a181,181,0,0,1,121.26,53c2.44,2.48,4.83,5,7.15,7.59H208.26Zm0,166.87h44.23v-14H208.26v-35.9H269l5.19,0c11.24-.11,20.56-.23,30.47,6.14,20.17,12.89,15.49,40.5,15.49,40.57l-.08.44c-3.18,34.71-41.83,31.18-42,31.18l-.55,0H208.26ZM19.89,200.62A181.39,181.39,0,0,1,194.22,19.36V80H149.68c-4,0-6.06,0-8.22-.08-11-.23-23.75-.47-33.26,1.77C100.61,83.45,92.12,86.91,85,93.52s-12.58,16.31-13.88,30.35h.08a10.59,10.59,0,0,0-.36,1.53c-.15,1.34-.35,3.23-.43,5.51-.39,11.71,2,34.28,23.28,47.3,14.43,8.8,28.58,8.49,43.6,8.14,2.24,0,4.52-.12,8.49-.12h48.4v28.31H20.4C20.05,209.94,19.89,205.3,19.89,200.62Zm174.33-64.33v35.9h-48.4c-1.88,0-5.34.12-8.76.2-12.9.27-25.09.55-36-6.14C85.83,157,84.13,140.11,84.45,131.34l0-1.22.12,0,.47-5C86,115,89.76,108.22,94.59,103.7s11.13-7.08,16.79-8.42c8-1.84,19.74-1.65,29.84-1.45,3.7.08,7.32.16,8.46.16h44.54v28.27H152.67v14ZM22,228.57H194.22v19.07A157.63,157.63,0,0,0,68.88,324.59,180.64,180.64,0,0,1,22,228.57ZM294.92,356c-.59.4-1.18.75-1.81,1.1-.9.55-1.85,1.11-2.79,1.58a6.64,6.64,0,0,1-.95.55,181.66,181.66,0,0,1-176.3,0c-.27-.16-.59-.32-.86-.47-.91-.51-1.81-1.07-2.72-1.58l-2-1.18a180,180,0,0,1-28.31-21.15,143.82,143.82,0,0,1,248.49-4.09A179.72,179.72,0,0,1,294.92,356Zm42.74-35.78a158,158,0,0,0-129.4-72.85V228.57h69.12c4.6.32,52.1,2.52,56.58-43.6.36-2.36,5.27-37.08-21.74-54.38-13.41-8.61-24.65-8.49-38.14-8.33H208.26V94H348a181.41,181.41,0,0,1-10.34,226.19Z /><path class=cls-1 d=M294.92,356a30,30,0,0,1-3.93-2c-11.52-5-17.07-9.2-21.43-12.94-2.28-1.92-6.84-6.13-8.26-8.14-8.81-12.58-9.75-9.86-12-6-1.14,2-8.1,9.59-9.87,11.16a58,58,0,0,1-15.29,9.6,58.91,58.91,0,0,1-31.81,3.93c-33.81-5.35-34.68-28.23-45.1-27.48-3.77,10.34-23.51,25.4-36.25,30.43-1.1.43-2.24.9-3.46,1.37-1.53.59-3.11,1.18-4.8,1.69l-6,1.66c-2.52,1-1.14.35-2.28,1.33,1.37.75-.32.4,1.69.47,2.71.08,10-2.67,13.4-4l1-.39c5.46-2.16,9.55-4.64,13.76-6.8l-8.81,6.45c-.47.31-1.33.82-1.65,1l-1.53,1.3-.59.51,1.45,0,65.7-1.54-8.8-4.24c-2.84-1.77-7.16-5.35-8.65-7.9,15.09,14.15,42.73,17.45,64.12,9.55,4.76-1.77,13.37-6.84,15.77-9.52-6.09,8.22-11.8,9.17-18.13,12.47-1.73.86-.9.39-1.8,1.1l68.09.12h1.5a7.13,7.13,0,0,0-.55-.55c-2.68-2.4-8.34-4.88-11-8.1,3.81,1.69,8.65,4.28,13.8,6.52a62.09,62.09,0,0,0,11.28,3.74,15.82,15.82,0,0,0,2,.24c1.93-.08.47.19,1.77-.44C306,358.79,299.4,357.61,294.92,356Zm-83-76.51c-1.53-2.32-2.83-4.36-4.48-7.35-8.34-15.34-9.87,2.32-22.14,16.12-7.55,8.49-22.1,19.66-32.16,22.84,1.18.95-1.46,5.47,11.6-2.75,3.77-2.36,5.86-3.81,9.16-5.86a.3.3,0,0,1-.16-.08c-.16-.15.12-.74.87-1.73a22.41,22.41,0,0,1,2.08-1.81c1-.74,2-1.49,3-2.16a24,24,0,0,1,4.05-2.2,24.51,24.51,0,0,1,4.95-1.61,24.85,24.85,0,0,1,5-.47h28.74A102.79,102.79,0,0,1,211.88,279.45Zm-24.14,18.76a20.53,20.53,0,0,0-4.41.82,34,34,0,0,0-5.11,1.93,29.38,29.38,0,0,1-3.14,1.37c-1.46,3.23-1.54,2.72-8,7.24-3.18,2.24-7.47,4.24-10.26,6.72,3.07,5.58,12.07,11.29,18.09,14.31,1.3.63,2.71,1.26,4.21,1.85a7.93,7.93,0,0,1,2.12-3.89l3.07-3.3a18.45,18.45,0,0,0,2.47-4.53,39.27,39.27,0,0,0,1.89-6.21A65.14,65.14,0,0,0,189.9,307c.28-2.71.43-4.91.43-6.6v-2.28C189.62,298.13,188.8,298.17,187.74,298.21Zm61.06,14.94.78-1.3a59.82,59.82,0,0,1-11.08-5.94c-.47-.27-.91-.59-1.38-.86-1.22-.75-2.44-1.62-3.66-2.52-.59-.43-.94-.71-.94-.71-2.28-1.81-4.56-3.81-6.76-5.93v2.24h-10.7c-.47,1.81-.82,3.3-1,4.44a53.25,53.25,0,0,0-.63,5.7,71.55,71.55,0,0,0-.23,8.22c0,2.12.15,4.17.35,6.21s.43,3.74.71,5.15a4.23,4.23,0,0,0,1.06,2.6,2.37,2.37,0,0,0,1.34.43,5.31,5.31,0,0,0,2-.47c1-.36,1.57-.63,2-.83a1.43,1.43,0,0,1,.94-.23,1.21,1.21,0,0,1,.71.51c.12.27-.28.7-1.3,1.33a13.2,13.2,0,0,1-1.53.83c-.59.27-1.54.75-2.83,1.41s-2.28,1.18-2.95,1.54a15.09,15.09,0,0,1-1.85.86,1.27,1.27,0,0,1-1.38-.08c-.19-.07-.43-.43-.7-1a12,12,0,0,1-.67-3.3c-.2-1.61-.32-2.95-.4-4.09s-.07-3.34-.11-6.57,0-5.54.11-7a65.82,65.82,0,0,1,1.11-7.7,35.56,35.56,0,0,1,1.53-5.74l.82-2.24h-19c0,.94,0,2.12,0,3.61s-.08,3.86-.2,7.08-.43,6.53-.87,9.75a58.42,58.42,0,0,1-1.73,8.46,30.58,30.58,0,0,1-2.28,6,6.57,6.57,0,0,1-1.29,1.89,58.67,58.67,0,0,0,15.61,2,63,63,0,0,0,26.18-6.33,51.9,51.9,0,0,0,16.16-12l0-.08a7.77,7.77,0,0,1,.63-.66l.08-.08c.23-.28.51-.55.74-.87a7.6,7.6,0,0,0,.56-.59l0,0c-6.88-5.38-16.67-9.24-19.7-15.76,6.72,4.24,11.44,8.1,19.58,11.79A10.52,10.52,0,0,0,248.8,313.15Z /><path class=cls-1 d=M94.4,356.25s1.51,13.27,20.32,7,0,.6,0,.6L152.2,340l-46.33,16.24Z /><polygon class=cls-1 points="285.18 360.33 299.87 364.24 295.9 358.28 280.17 349.47 276.37 351.72 285.18 360.33"/><path class=cls-1 d=M153.67,312.3l6.26,7.88,18.67-4.47-1.21-13-1.32-.66s-3,.14-3,.72S153.67,312.3,153.67,312.3Z /><path class=cls-1 d=M249.32,312.18l-.81,1.34c-.57.9-1.38,2.13-2.23,3.23a7.4,7.4,0,0,1-.52.65c-.25.33-.53.61-.77.9l-.08.08a6.48,6.48,0,0,0-.65.7l0,.08c-.69.61.44-.86.44-.86l-22.8-9.51,2.47-9.11,7.41,2.09,1,.73c1.25.94,2.51,1.84,3.76,2.61.49.29.93.62,1.42.9A61.07,61.07,0,0,0,249.32,312.18Z /><path class=cls-1 d=M109.89,361.78s154.27-.06,184.2,2.46l-8.8-7.65L244,340l-28.67,15.32H186.72L156.21,340s-17.87,12.11-18,12.12S109.89,361.78,109.89,361.78Z /></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 全志Linux Tina-SDK开发完全手册 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Linux UART 开发指南 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <div class=md-header__option> <div class=md-select> <button class="md-header__button md-icon" aria-label=选择当前语言> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24z"/></svg> </button> <div class=md-select__inner> <ul class=md-select__list> <li class=md-select__item> <a href=/en/ hreflang=en class=md-select__link> English </a> </li> <li class=md-select__item> <a href=/zh/ hreflang=zh class=md-select__link> 中文 </a> </li> </ul> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=查找> <a href=javascript:void(0) class="md-search__icon md-icon" title=分享 aria-label=分享 data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/DongshanPI/TinaSDK-Docs/ title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> DongshanPI/TinaSDK-Docs </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> 0.站点指南 </a> </li> <li class=md-tabs__item> <a href=../SdkModule/Linux_SystemSoftware_DevelopmentGuide-01/ class=md-tabs__link> 1.构建工具使用 </a> </li> <li class=md-tabs__item> <a href=../SdkModule/Linux_U-boot_DevelopmentGuide-01/ class=md-tabs__link> 2.Bootloader开发 </a> </li> <li class=md-tabs__item> <a href=../SdkModule/Linux_SID_DevelopmentGuide-01/ class=md-tabs__link> 3.Linux驱动开发 </a> </li> <li class=md-tabs__item> <a href=../SdkModule/Linux_PWM_DevelopmentGuide-01/ class=md-tabs__link> 4.基础组件软件库 </a> </li> <li class=md-tabs__item> <a href=../SdkModule/Linux_Deploy_DevelopmentGuide-01/ class=md-tabs__link> 5.系统开发 </a> </li> <li class=md-tabs__item> <a href=../ProjectActualCombat/GUI-LvglExample-01/ class=md-tabs__link> 6.应用示例与项目 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://tina.100ask.net title="全志Linux Tina-SDK开发完全手册" class="md-nav__button md-logo" aria-label="全志Linux Tina-SDK开发完全手册" data-md-component=logo> <svg id=图层_1 data-name="图层 1" xmlns=http://www.w3.org/2000/svg viewbox="0 0 400 400"><defs><style>.cls-1{fill:#151f45;fill-rule:evenodd;}</style></defs><title>东山派1号LOGO定稿</title><path class=cls-1 d=M339.43,62.45A195.41,195.41,0,0,0,61.92,337.64l-.08.2.55.27.67.67A195.41,195.41,0,1,0,339.43,62.45ZM208.26,19.36a181,181,0,0,1,121.26,53c2.44,2.48,4.83,5,7.15,7.59H208.26Zm0,166.87h44.23v-14H208.26v-35.9H269l5.19,0c11.24-.11,20.56-.23,30.47,6.14,20.17,12.89,15.49,40.5,15.49,40.57l-.08.44c-3.18,34.71-41.83,31.18-42,31.18l-.55,0H208.26ZM19.89,200.62A181.39,181.39,0,0,1,194.22,19.36V80H149.68c-4,0-6.06,0-8.22-.08-11-.23-23.75-.47-33.26,1.77C100.61,83.45,92.12,86.91,85,93.52s-12.58,16.31-13.88,30.35h.08a10.59,10.59,0,0,0-.36,1.53c-.15,1.34-.35,3.23-.43,5.51-.39,11.71,2,34.28,23.28,47.3,14.43,8.8,28.58,8.49,43.6,8.14,2.24,0,4.52-.12,8.49-.12h48.4v28.31H20.4C20.05,209.94,19.89,205.3,19.89,200.62Zm174.33-64.33v35.9h-48.4c-1.88,0-5.34.12-8.76.2-12.9.27-25.09.55-36-6.14C85.83,157,84.13,140.11,84.45,131.34l0-1.22.12,0,.47-5C86,115,89.76,108.22,94.59,103.7s11.13-7.08,16.79-8.42c8-1.84,19.74-1.65,29.84-1.45,3.7.08,7.32.16,8.46.16h44.54v28.27H152.67v14ZM22,228.57H194.22v19.07A157.63,157.63,0,0,0,68.88,324.59,180.64,180.64,0,0,1,22,228.57ZM294.92,356c-.59.4-1.18.75-1.81,1.1-.9.55-1.85,1.11-2.79,1.58a6.64,6.64,0,0,1-.95.55,181.66,181.66,0,0,1-176.3,0c-.27-.16-.59-.32-.86-.47-.91-.51-1.81-1.07-2.72-1.58l-2-1.18a180,180,0,0,1-28.31-21.15,143.82,143.82,0,0,1,248.49-4.09A179.72,179.72,0,0,1,294.92,356Zm42.74-35.78a158,158,0,0,0-129.4-72.85V228.57h69.12c4.6.32,52.1,2.52,56.58-43.6.36-2.36,5.27-37.08-21.74-54.38-13.41-8.61-24.65-8.49-38.14-8.33H208.26V94H348a181.41,181.41,0,0,1-10.34,226.19Z /><path class=cls-1 d=M294.92,356a30,30,0,0,1-3.93-2c-11.52-5-17.07-9.2-21.43-12.94-2.28-1.92-6.84-6.13-8.26-8.14-8.81-12.58-9.75-9.86-12-6-1.14,2-8.1,9.59-9.87,11.16a58,58,0,0,1-15.29,9.6,58.91,58.91,0,0,1-31.81,3.93c-33.81-5.35-34.68-28.23-45.1-27.48-3.77,10.34-23.51,25.4-36.25,30.43-1.1.43-2.24.9-3.46,1.37-1.53.59-3.11,1.18-4.8,1.69l-6,1.66c-2.52,1-1.14.35-2.28,1.33,1.37.75-.32.4,1.69.47,2.71.08,10-2.67,13.4-4l1-.39c5.46-2.16,9.55-4.64,13.76-6.8l-8.81,6.45c-.47.31-1.33.82-1.65,1l-1.53,1.3-.59.51,1.45,0,65.7-1.54-8.8-4.24c-2.84-1.77-7.16-5.35-8.65-7.9,15.09,14.15,42.73,17.45,64.12,9.55,4.76-1.77,13.37-6.84,15.77-9.52-6.09,8.22-11.8,9.17-18.13,12.47-1.73.86-.9.39-1.8,1.1l68.09.12h1.5a7.13,7.13,0,0,0-.55-.55c-2.68-2.4-8.34-4.88-11-8.1,3.81,1.69,8.65,4.28,13.8,6.52a62.09,62.09,0,0,0,11.28,3.74,15.82,15.82,0,0,0,2,.24c1.93-.08.47.19,1.77-.44C306,358.79,299.4,357.61,294.92,356Zm-83-76.51c-1.53-2.32-2.83-4.36-4.48-7.35-8.34-15.34-9.87,2.32-22.14,16.12-7.55,8.49-22.1,19.66-32.16,22.84,1.18.95-1.46,5.47,11.6-2.75,3.77-2.36,5.86-3.81,9.16-5.86a.3.3,0,0,1-.16-.08c-.16-.15.12-.74.87-1.73a22.41,22.41,0,0,1,2.08-1.81c1-.74,2-1.49,3-2.16a24,24,0,0,1,4.05-2.2,24.51,24.51,0,0,1,4.95-1.61,24.85,24.85,0,0,1,5-.47h28.74A102.79,102.79,0,0,1,211.88,279.45Zm-24.14,18.76a20.53,20.53,0,0,0-4.41.82,34,34,0,0,0-5.11,1.93,29.38,29.38,0,0,1-3.14,1.37c-1.46,3.23-1.54,2.72-8,7.24-3.18,2.24-7.47,4.24-10.26,6.72,3.07,5.58,12.07,11.29,18.09,14.31,1.3.63,2.71,1.26,4.21,1.85a7.93,7.93,0,0,1,2.12-3.89l3.07-3.3a18.45,18.45,0,0,0,2.47-4.53,39.27,39.27,0,0,0,1.89-6.21A65.14,65.14,0,0,0,189.9,307c.28-2.71.43-4.91.43-6.6v-2.28C189.62,298.13,188.8,298.17,187.74,298.21Zm61.06,14.94.78-1.3a59.82,59.82,0,0,1-11.08-5.94c-.47-.27-.91-.59-1.38-.86-1.22-.75-2.44-1.62-3.66-2.52-.59-.43-.94-.71-.94-.71-2.28-1.81-4.56-3.81-6.76-5.93v2.24h-10.7c-.47,1.81-.82,3.3-1,4.44a53.25,53.25,0,0,0-.63,5.7,71.55,71.55,0,0,0-.23,8.22c0,2.12.15,4.17.35,6.21s.43,3.74.71,5.15a4.23,4.23,0,0,0,1.06,2.6,2.37,2.37,0,0,0,1.34.43,5.31,5.31,0,0,0,2-.47c1-.36,1.57-.63,2-.83a1.43,1.43,0,0,1,.94-.23,1.21,1.21,0,0,1,.71.51c.12.27-.28.7-1.3,1.33a13.2,13.2,0,0,1-1.53.83c-.59.27-1.54.75-2.83,1.41s-2.28,1.18-2.95,1.54a15.09,15.09,0,0,1-1.85.86,1.27,1.27,0,0,1-1.38-.08c-.19-.07-.43-.43-.7-1a12,12,0,0,1-.67-3.3c-.2-1.61-.32-2.95-.4-4.09s-.07-3.34-.11-6.57,0-5.54.11-7a65.82,65.82,0,0,1,1.11-7.7,35.56,35.56,0,0,1,1.53-5.74l.82-2.24h-19c0,.94,0,2.12,0,3.61s-.08,3.86-.2,7.08-.43,6.53-.87,9.75a58.42,58.42,0,0,1-1.73,8.46,30.58,30.58,0,0,1-2.28,6,6.57,6.57,0,0,1-1.29,1.89,58.67,58.67,0,0,0,15.61,2,63,63,0,0,0,26.18-6.33,51.9,51.9,0,0,0,16.16-12l0-.08a7.77,7.77,0,0,1,.63-.66l.08-.08c.23-.28.51-.55.74-.87a7.6,7.6,0,0,0,.56-.59l0,0c-6.88-5.38-16.67-9.24-19.7-15.76,6.72,4.24,11.44,8.1,19.58,11.79A10.52,10.52,0,0,0,248.8,313.15Z /><path class=cls-1 d=M94.4,356.25s1.51,13.27,20.32,7,0,.6,0,.6L152.2,340l-46.33,16.24Z /><polygon class=cls-1 points="285.18 360.33 299.87 364.24 295.9 358.28 280.17 349.47 276.37 351.72 285.18 360.33"/><path class=cls-1 d=M153.67,312.3l6.26,7.88,18.67-4.47-1.21-13-1.32-.66s-3,.14-3,.72S153.67,312.3,153.67,312.3Z /><path class=cls-1 d=M249.32,312.18l-.81,1.34c-.57.9-1.38,2.13-2.23,3.23a7.4,7.4,0,0,1-.52.65c-.25.33-.53.61-.77.9l-.08.08a6.48,6.48,0,0,0-.65.7l0,.08c-.69.61.44-.86.44-.86l-22.8-9.51,2.47-9.11,7.41,2.09,1,.73c1.25.94,2.51,1.84,3.76,2.61.49.29.93.62,1.42.9A61.07,61.07,0,0,0,249.32,312.18Z /><path class=cls-1 d=M109.89,361.78s154.27-.06,184.2,2.46l-8.8-7.65L244,340l-28.67,15.32H186.72L156.21,340s-17.87,12.11-18,12.12S109.89,361.78,109.89,361.78Z /></svg> </a> 全志Linux Tina-SDK开发完全手册 </label> <div class=md-nav__source> <a href=https://github.com/DongshanPI/TinaSDK-Docs/ title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> DongshanPI/TinaSDK-Docs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <div class="md-nav__link md-nav__container"> <a href=.. class="md-nav__link "> <span class=md-ellipsis> 0.站点指南 </span> </a> <label class="md-nav__link " for=__nav_1 id=__nav_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> 0.站点指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SupportHardware/ class=md-nav__link> <span class=md-ellipsis> 配套硬件 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> 1.构建工具使用 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> 1.构建工具使用 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class=md-ellipsis> TinaSDK_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> TinaSDK_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_SystemSoftware_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_SystemSoftware_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> Tina环境搭建 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_SystemSoftware_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> Tina编译与烧写 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_SystemSoftware_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> uboot与kernel定制开发 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_SystemSoftware_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 系统定制开发 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> 2.Bootloader开发 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> 2.Bootloader开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> U-boot_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> U-boot_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_U-boot_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_U-boot_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 编译方法介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_U-boot_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> U-Boot功能与配置 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_U-boot_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> U-Boot常用命令介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_U-boot_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 调试方法与烧写 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_U-boot_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> 常用接口函数 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> 3.Linux驱动开发 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> 3.Linux驱动开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex=0> <span class=md-ellipsis> SID_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> SID_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_SID_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_SID_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块描述 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_SID_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块设计 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_SID_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 接口设计 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_SID_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 可测试性与其他说明 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> GPIO_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> GPIO_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_GPIO_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_GPIO_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_GPIO_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块配置 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_GPIO_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 模块接口说明 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_GPIO_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 使用示例 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_GPIO_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> MIPI_CSI_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> MIPI_CSI_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_MIPI_CSI_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_MIPI_CSI_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_MIPI_CSI_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> V4L2接口描述 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_MIPI_CSI_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 模块使用范例 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_MIPI_CSI_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> MMC_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> MMC_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_MMC_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_MMC_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_MMC_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块接口说明 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_MMC_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex=0> <span class=md-ellipsis> RTC_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> RTC_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_RTC_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_RTC_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_RTC_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块配置介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_RTC_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 接口描述 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_RTC_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 模块使用范例 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_RTC_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_6> <label class=md-nav__link for=__nav_4_6 id=__nav_4_6_label tabindex=0> <span class=md-ellipsis> SPI_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_6_label aria-expanded=false> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> SPI_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_SPI_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_SPI_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_SPI_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 接口描述 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_SPI_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 模块使用范例 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_SPI_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_7> <label class=md-nav__link for=__nav_4_7 id=__nav_4_7_label tabindex=0> <span class=md-ellipsis> Standby_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_7_label aria-expanded=false> <label class=md-nav__title for=__nav_4_7> <span class="md-nav__icon md-icon"></span> Standby_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_Standby_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Standby_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Standby_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_8> <label class=md-nav__link for=__nav_4_8 id=__nav_4_8_label tabindex=0> <span class=md-ellipsis> TWI_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_8_label aria-expanded=false> <label class=md-nav__title for=__nav_4_8> <span class="md-nav__icon md-icon"></span> TWI_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_TWI_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_TWI_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_TWI_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块接口说明 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_TWI_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 模块使用范例 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_TWI_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_9> <label class=md-nav__link for=__nav_4_9 id=__nav_4_9_label tabindex=0> <span class=md-ellipsis> UART_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_9_label aria-expanded=false> <label class=md-nav__title for=__nav_4_9> <span class="md-nav__icon md-icon"></span> UART_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_UART_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_UART_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_UART_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块配置介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_UART_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 接口描述 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_UART_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 模块使用范例 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_UART_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_10> <label class=md-nav__link for=__nav_4_10 id=__nav_4_10_label tabindex=0> <span class=md-ellipsis> USB_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_10_label aria-expanded=false> <label class=md-nav__title for=__nav_4_10> <span class="md-nav__icon md-icon"></span> USB_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_USB_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_USB_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_USB_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_USB_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 附录 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_11> <label class=md-nav__link for=__nav_4_11 id=__nav_4_11_label tabindex=0> <span class=md-ellipsis> Key_快速配置使用指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_11_label aria-expanded=false> <label class=md-nav__title for=__nav_4_11> <span class="md-nav__icon md-icon"></span> Key_快速配置使用指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_Key_Quick_Configuration_UserGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Key_Quick_Configuration_UserGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Key_Quick_Configuration_UserGuide-03/ class=md-nav__link> <span class=md-ellipsis> GPIO-Key </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Key_Quick_Configuration_UserGuide-04/ class=md-nav__link> <span class=md-ellipsis> ADC-Key </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Key_Quick_Configuration_UserGuide-05/ class=md-nav__link> <span class=md-ellipsis> AXP-Key </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_12> <label class=md-nav__link for=__nav_4_12 id=__nav_4_12_label tabindex=0> <span class=md-ellipsis> PMU_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_12_label aria-expanded=false> <label class=md-nav__title for=__nav_4_12> <span class="md-nav__icon md-icon"></span> PMU_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_PMU_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_PMU_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_PMU_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块使用范例 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_PMU_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_13> <label class=md-nav__link for=__nav_4_13 id=__nav_4_13_label tabindex=0> <span class=md-ellipsis> Wi-Fi_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_13_label aria-expanded=false> <label class=md-nav__title for=__nav_4_13> <span class="md-nav__icon md-icon"></span> Wi-Fi_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_Wi-Fi_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Wi-Fi_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> Wi-Fi简介 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Wi-Fi_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> Wi-Fi模组移植 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Wi-Fi_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> Wi-Fi_manager与Softap介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Wi-Fi_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 常见问题 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> 4.基础组件软件库 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> 4.基础组件软件库 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1> <label class=md-nav__link for=__nav_5_1 id=__nav_5_1_label tabindex=0> <span class=md-ellipsis> PWM_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> PWM_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_PWM_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_PWM_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> MPP_sample_使用说明 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> MPP_sample_使用说明 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_MPP_Sample_Instructions-01/ class=md-nav__link> <span class=md-ellipsis> 简述 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_MPP_Sample_Instructions-02/ class=md-nav__link> <span class=md-ellipsis> 配置编译测试 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_MPP_Sample_Instructions-03/ class=md-nav__link> <span class=md-ellipsis> 分类情况 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_MPP_Sample_Instructions-04/ class=md-nav__link> <span class=md-ellipsis> 各平台支持情况 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_MPP_Sample_Instructions-05/ class=md-nav__link> <span class=md-ellipsis> 测试方法 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_MPP_Sample_Instructions-06/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class=md-ellipsis> Camera_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Camera_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_Camera_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Camera_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Camera_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块开发 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Camera_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 模块配置 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Camera_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 模块调试常见问题 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Camera_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> camera功能测试 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_4> <label class=md-nav__link for=__nav_5_4 id=__nav_5_4_label tabindex=0> <span class=md-ellipsis> E907_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> E907_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_E907_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_E907_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 启动E907环境 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_E907_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> AMP环境搭建 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_E907_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 开发使用 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_E907_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 其他 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_5> <label class=md-nav__link for=__nav_5_5 id=__nav_5_5_label tabindex=0> <span class=md-ellipsis> LCD_调试指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> LCD_调试指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_LCD_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_LCD_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_LCD_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 硬件参数说明 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_LCD_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 调试方法 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_LCD_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_LCD_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> 总结 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_6> <label class=md-nav__link for=__nav_5_6 id=__nav_5_6_label tabindex=0> <span class=md-ellipsis> Display_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_6_label aria-expanded=false> <label class=md-nav__title for=__nav_5_6> <span class="md-nav__icon md-icon"></span> Display_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_Display_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Display_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Display_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块接口概述 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Display_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 操作与接口说明 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Display_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 输出设备介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Display_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> IOCTL接口描述 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Display_DevelopmentGuide-07/ class=md-nav__link> <span class=md-ellipsis> sysfs接口描述 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Display_DevelopmentGuide-08/ class=md-nav__link> <span class=md-ellipsis> 数据结构 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Display_DevelopmentGuide-09/ class=md-nav__link> <span class=md-ellipsis> 调试 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_7> <label class=md-nav__link for=__nav_5_7 id=__nav_5_7_label tabindex=0> <span class=md-ellipsis> 图形系统_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_7_label aria-expanded=false> <label class=md-nav__title for=__nav_5_7> <span class="md-nav__icon md-icon"></span> 图形系统_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_GraphicsSystem_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_GraphicsSystem_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> MiniGUI </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_GraphicsSystem_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> QT </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_GraphicsSystem_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> EFL与GTK+ </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_GraphicsSystem_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> WebKitGtk与DirectFB </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_GraphicsSystem_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> Wayland </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_GraphicsSystem_DevelopmentGuide-07/ class=md-nav__link> <span class=md-ellipsis> LVGL </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_GraphicsSystem_DevelopmentGuide-08/ class=md-nav__link> <span class=md-ellipsis> Flutter </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_8> <label class=md-nav__link for=__nav_5_8 id=__nav_5_8_label tabindex=0> <span class=md-ellipsis> 音频_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_8_label aria-expanded=false> <label class=md-nav__title for=__nav_5_8> <span class="md-nav__icon md-icon"></span> 音频_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_AudioFrequency_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_AudioFrequency_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_AudioFrequency_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 常用工具及调试方法 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_AudioFrequency_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 常用接口说明 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_AudioFrequency_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 开机音乐功能 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_AudioFrequency_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> 各平台音频模块注意事项 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_9> <label class=md-nav__link for=__nav_5_9 id=__nav_5_9_label tabindex=0> <span class=md-ellipsis> WiFi_RF测试_使用指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_9_label aria-expanded=false> <label class=md-nav__title for=__nav_5_9> <span class="md-nav__icon md-icon"></span> WiFi_RF测试_使用指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_WiFi_RFTest_UserGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_WiFi_RFTest_UserGuide-02/ class=md-nav__link> <span class=md-ellipsis> WiFi测试 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_WiFi_RFTest_UserGuide-03/ class=md-nav__link> <span class=md-ellipsis> XRADIO系列模组 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_WiFi_RFTest_UserGuide-04/ class=md-nav__link> <span class=md-ellipsis> RTL系列模组 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_WiFi_RFTest_UserGuide-05/ class=md-nav__link> <span class=md-ellipsis> SRRC认证 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_10> <label class=md-nav__link for=__nav_5_10 id=__nav_5_10_label tabindex=0> <span class=md-ellipsis> 各平台多媒体格式支持列表 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_10_label aria-expanded=false> <label class=md-nav__title for=__nav_5_10> <span class="md-nav__icon md-icon"></span> 各平台多媒体格式支持列表 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_Support_List_Multimedia_Formats_Each_Platform-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Support_List_Multimedia_Formats_Each_Platform-02/ class=md-nav__link> <span class=md-ellipsis> 芯片 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_11> <label class=md-nav__link for=__nav_5_11 id=__nav_5_11_label tabindex=0> <span class=md-ellipsis> 配网_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_11_label aria-expanded=false> <label class=md-nav__title for=__nav_5_11> <span class="md-nav__icon md-icon"></span> 配网_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_Distribution_Network_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Distribution_Network_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> wifimanager-v2.0配网 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Distribution_Network_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 测试说明 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_12> <label class=md-nav__link for=__nav_5_12 id=__nav_5_12_label tabindex=0> <span class=md-ellipsis> 网络性能_参考指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_12_label aria-expanded=false> <label class=md-nav__title for=__nav_5_12> <span class="md-nav__icon md-icon"></span> 网络性能_参考指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_Network_Performance_Reference_Guide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Network_Performance_Reference_Guide-02/ class=md-nav__link> <span class=md-ellipsis> Wi-Fi性能测试 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Network_Performance_Reference_Guide-03/ class=md-nav__link> <span class=md-ellipsis> 蓝牙与WIFI蓝牙共存测试 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> 5.系统开发 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> 5.系统开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_1> <label class=md-nav__link for=__nav_6_1 id=__nav_6_1_label tabindex=0> <span class=md-ellipsis> 系统配置_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> 系统配置_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_Deploy_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与配置介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Deploy_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 系统配置介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Deploy_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 设备树介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Deploy_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 设备树的使用与调试 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Deploy_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 分区表说明 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> <span class=md-ellipsis> 系统调试_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> 系统调试_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_SystemDebug_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_SystemDebug_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 调试方法及工具 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3> <label class=md-nav__link for=__nav_6_3 id=__nav_6_3_label tabindex=0> <span class=md-ellipsis> 系统裁剪_参考指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> 系统裁剪_参考指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_SystemClipping_Reference_Guide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_SystemClipping_Reference_Guide-02/ class=md-nav__link> <span class=md-ellipsis> 系统裁剪介绍 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_4> <label class=md-nav__link for=__nav_6_4 id=__nav_6_4_label tabindex=0> <span class=md-ellipsis> 启动优化_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_4_label aria-expanded=false> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> 启动优化_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_systemStartup_Optimization-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_systemStartup_Optimization-02/ class=md-nav__link> <span class=md-ellipsis> 启动速度优化简介 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_systemStartup_Optimization-03/ class=md-nav__link> <span class=md-ellipsis> Tina启动速度优化 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_5> <label class=md-nav__link for=__nav_6_5 id=__nav_6_5_label tabindex=0> <span class=md-ellipsis> SPINAND_UBI_离线烧录_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_5_label aria-expanded=false> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> SPINAND_UBI_离线烧录_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_Spinubi_OfflineBurning_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Spinubi_OfflineBurning_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 数据布局说明 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Spinubi_OfflineBurning_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 调整内存说明 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_6> <label class=md-nav__link for=__nav_6_6 id=__nav_6_6_label tabindex=0> <span class=md-ellipsis> NOR_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6_6> <span class="md-nav__icon md-icon"></span> NOR_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_NOR_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_NOR_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_NOR_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 接口描述 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_NOR_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 使用例子 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_7> <label class=md-nav__link for=__nav_6_7 id=__nav_6_7_label tabindex=0> <span class=md-ellipsis> SPINAND 开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_7_label aria-expanded=false> <label class=md-nav__title for=__nav_6_7> <span class="md-nav__icon md-icon"></span> SPINAND 开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_SPINAND_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_SPINAND_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 流程设计 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_SPINAND_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块配置 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_8> <label class=md-nav__link for=__nav_6_8 id=__nav_6_8_label tabindex=0> <span class=md-ellipsis> 存储_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_8_label aria-expanded=false> <label class=md-nav__title for=__nav_6_8> <span class="md-nav__icon md-icon"></span> 存储_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_Save_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Save_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 分区管理 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Save_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 系统挂载 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Save_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 文件系统支持情况 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Save_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> UBI_VS._NFTL </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Save_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> rootfs_data及UDISK </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Save_DevelopmentGuide-07/ class=md-nav__link> <span class=md-ellipsis> 关键数据保护 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_9> <label class=md-nav__link for=__nav_6_9 id=__nav_6_9_label tabindex=0> <span class=md-ellipsis> OTA_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_9_label aria-expanded=false> <label class=md-nav__title for=__nav_6_9> <span class="md-nav__icon md-icon"></span> OTA_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_OTA_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_OTA_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> ota-burnboot介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_OTA_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> Tina_SWUpdate_OTA介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_OTA_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> Tina_misc-upgrade介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_OTA_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> Tina_upgrade_app介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_OTA_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> 注意事项与问题排查 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_10> <label class=md-nav__link for=__nav_6_10 id=__nav_6_10_label tabindex=0> <span class=md-ellipsis> syslog_使用指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_10_label aria-expanded=false> <label class=md-nav__title for=__nav_6_10> <span class="md-nav__icon md-icon"></span> syslog_使用指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_syslog_UserGuide-01/ class=md-nav__link> <span class=md-ellipsis> 基本介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_syslog_UserGuide-02/ class=md-nav__link> <span class=md-ellipsis> syslog相关软件工具 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_syslog_UserGuide-03/ class=md-nav__link> <span class=md-ellipsis> 不同syslog方案的对比 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_syslog_UserGuide-04/ class=md-nav__link> <span class=md-ellipsis> 其他注意事项 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_syslog_UserGuide-05/ class=md-nav__link> <span class=md-ellipsis> 在Tina中使用syslog </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_11> <label class=md-nav__link for=__nav_6_11 id=__nav_6_11_label tabindex=0> <span class=md-ellipsis> 安全_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_11_label aria-expanded=false> <label class=md-nav__title for=__nav_6_11> <span class="md-nav__icon md-icon"></span> 安全_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_Security_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Security_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 安全系统基础 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Security_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 安全启动 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Security_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 安全操作系统 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Security_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> TA/CA开发环境 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Security_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> 安全存储 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Security_DevelopmentGuide-07/ class=md-nav__link> <span class=md-ellipsis> 安全性增强的Linux </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Security_DevelopmentGuide-08/ class=md-nav__link> <span class=md-ellipsis> 量产工具 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Security_DevelopmentGuide-09/ class=md-nav__link> <span class=md-ellipsis> 参考资料 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_12> <label class=md-nav__link for=__nav_6_12 id=__nav_6_12_label tabindex=0> <span class=md-ellipsis> 功耗管理_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_12_label aria-expanded=false> <label class=md-nav__title for=__nav_6_12> <span class="md-nav__icon md-icon"></span> 功耗管理_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_Power_Consumption_Management_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Power_Consumption_Management_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> Tina功耗管理框架概述 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Power_Consumption_Management_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> Tina休眠唤醒系统简介 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Power_Consumption_Management_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 差异化方案说明 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Power_Consumption_Management_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> FAQ问题及处理方法 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_13> <label class=md-nav__link for=__nav_6_13 id=__nav_6_13_label tabindex=0> <span class=md-ellipsis> 内存优化_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_13_label aria-expanded=false> <label class=md-nav__title for=__nav_6_13> <span class="md-nav__icon md-icon"></span> 内存优化_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_Memory_Optimization_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Memory_Optimization_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 内存使用情况分析 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Memory_Optimization_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 内存优化 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_14> <label class=md-nav__link for=__nav_6_14 id=__nav_6_14_label tabindex=0> <span class=md-ellipsis> 存储性能_参考指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_14_label aria-expanded=false> <label class=md-nav__title for=__nav_6_14> <span class="md-nav__icon md-icon"></span> 存储性能_参考指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_Storage_Performance_Reference_Guide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Storage_Performance_Reference_Guide-02/ class=md-nav__link> <span class=md-ellipsis> 经验性能值 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Storage_Performance_Reference_Guide-03/ class=md-nav__link> <span class=md-ellipsis> 顺序与随机读写性能 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Storage_Performance_Reference_Guide-04/ class=md-nav__link> <span class=md-ellipsis> 读写性能的影响因素 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_15> <label class=md-nav__link for=__nav_6_15 id=__nav_6_15_label tabindex=0> <span class=md-ellipsis> 打包流程_说明指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_15_label aria-expanded=false> <label class=md-nav__title for=__nav_6_15> <span class="md-nav__icon md-icon"></span> 打包流程_说明指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_Packaging_Process_DescriptionGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Packaging_Process_DescriptionGuide-02/ class=md-nav__link> <span class=md-ellipsis> 打包工具介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Packaging_Process_DescriptionGuide-03/ class=md-nav__link> <span class=md-ellipsis> 打包脚本分析 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Packaging_Process_DescriptionGuide-04/ class=md-nav__link> <span class=md-ellipsis> 获得打包后的分区镜像文件 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Packaging_Process_DescriptionGuide-05/ class=md-nav__link> <span class=md-ellipsis> 打包常见问题FAQ </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Packaging_Process_DescriptionGuide-06/ class=md-nav__link> <span class=md-ellipsis> 打包流程总结 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_16> <label class=md-nav__link for=__nav_6_16 id=__nav_6_16_label tabindex=0> <span class=md-ellipsis> 量产测试_使用指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_16_label aria-expanded=false> <label class=md-nav__title for=__nav_6_16> <span class="md-nav__icon md-icon"></span> 量产测试_使用指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SdkModule/Linux_Mass_Production_UserGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Mass_Production_UserGuide-02/ class=md-nav__link> <span class=md-ellipsis> 配置 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Mass_Production_UserGuide-03/ class=md-nav__link> <span class=md-ellipsis> 测试环境搭建 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Mass_Production_UserGuide-04/ class=md-nav__link> <span class=md-ellipsis> 量产测试流程 </span> </a> </li> <li class=md-nav__item> <a href=../SdkModule/Linux_Mass_Production_UserGuide-05/ class=md-nav__link> <span class=md-ellipsis> 各平台Tinatest场景验证表 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> 6.应用示例与项目 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> 6.应用示例与项目 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_1> <label class=md-nav__link for=__nav_7_1 id=__nav_7_1_label tabindex=0> <span class=md-ellipsis> LVGL开发实战 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_1> <span class="md-nav__icon md-icon"></span> LVGL开发实战 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ProjectActualCombat/GUI-LvglExample-01/ class=md-nav__link> <span class=md-ellipsis> 2048小游戏 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1 class=md-nav__link> <span class=md-ellipsis> 1 概述 </span> </a> <nav class=md-nav aria-label="1 概述"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#11 class=md-nav__link> <span class=md-ellipsis> 1.1 编写目的 </span> </a> </li> <li class=md-nav__item> <a href=#12 class=md-nav__link> <span class=md-ellipsis> 1.2 适用范围 </span> </a> </li> <li class=md-nav__item> <a href=#13 class=md-nav__link> <span class=md-ellipsis> 1.3 相关人员 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2 class=md-nav__link> <span class=md-ellipsis> 2 模块介绍 </span> </a> <nav class=md-nav aria-label="2 模块介绍"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#21 class=md-nav__link> <span class=md-ellipsis> 2.1 模块功能介绍 </span> </a> </li> <li class=md-nav__item> <a href=#22 class=md-nav__link> <span class=md-ellipsis> 2.2 相关术语介绍 </span> </a> </li> <li class=md-nav__item> <a href=#23 class=md-nav__link> <span class=md-ellipsis> 2.3 源码结构介绍 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3 class=md-nav__link> <span class=md-ellipsis> 3 模块配置介绍 </span> </a> <nav class=md-nav aria-label="3 模块配置介绍"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#31-kernel-menuconfig class=md-nav__link> <span class=md-ellipsis> 3.1 kernel menuconfig 配置 </span> </a> </li> <li class=md-nav__item> <a href=#32-device-tree class=md-nav__link> <span class=md-ellipsis> 3.2 device tree 源码结构和路径 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4 class=md-nav__link> <span class=md-ellipsis> 4 接口描述 </span> </a> <nav class=md-nav aria-label="4 接口描述"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#41 class=md-nav__link> <span class=md-ellipsis> 4.1 打开/关闭串口 </span> </a> </li> <li class=md-nav__item> <a href=#42 class=md-nav__link> <span class=md-ellipsis> 4.2 读/写串口 </span> </a> </li> <li class=md-nav__item> <a href=#43 class=md-nav__link> <span class=md-ellipsis> 4.3 设置串口属性 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#5 class=md-nav__link> <span class=md-ellipsis> 5 模块使用范例 </span> </a> </li> <li class=md-nav__item> <a href=#6-faq class=md-nav__link> <span class=md-ellipsis> 6 FAQ </span> </a> <nav class=md-nav aria-label="6 FAQ"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#61-uart class=md-nav__link> <span class=md-ellipsis> 6.1 UART 调试打印开关 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <p>[toc]</p> <h1 id=linux-uart>Linux UART 开发指南</h1> <h2 id=1>1 概述</h2> <h3 id=11>1.1 编写目的</h3> <p>介绍 Linux 内核中 UART 驱动的接口及使用方法，为 UART 设备的使用者提供参考。</p> <h3 id=12>1.2 适用范围</h3> <p>​ 表 1-1: 适用产品列表</p> <table> <thead> <tr> <th>内核版本</th> <th>驱动文件</th> </tr> </thead> <tbody> <tr> <td>Linux-4.9 及以上</td> <td>sunxi-uart.c</td> </tr> </tbody> </table> <h3 id=13>1.3 相关人员</h3> <p>UART 驱动、及应用层的开发/维护人员。</p> <h2 id=2>2 模块介绍</h2> <h3 id=21>2.1 模块功能介绍</h3> <p>Linux 内核中,UART 驱动的结构图 1 所示, 可以分为三个层次: </p> <p><img alt src=https://photos.100ask.net/Tina-Sdk/LinuxUARTDevelopmentGuide_001.png></p> <p>​ 图 2-1: Linux UART 体系结构图</p> <ol> <li> <p>Sunxi UART Driver, 负责 SUNXI 平台 UART 控制器的初始化、数据通信等, 也是我们要实现的部分。</p> </li> <li> <p>UART Core, 为 UART 驱动提供了一套 API, 完成设备和驱动的注册等。</p> </li> <li> <p>TTY core, 实现了内核中所有 TTY 设备的注册和管理。</p> </li> </ol> <h3 id=22>2.2 相关术语介绍</h3> <p>​ 表 2-1: UART 模块相关术语介绍</p> <table> <thead> <tr> <th>术语</th> <th>解释说明</th> </tr> </thead> <tbody> <tr> <td>Sunxi</td> <td>指 Allwinner 的一系列 SoC 硬件平台</td> </tr> <tr> <td>UART</td> <td>Universal Asynchronous Receiver/Transmitter，通用异步收发传输器</td> </tr> <tr> <td>Console</td> <td>控制台，Linux 内核中用于输出调试信息的 TTY 设备</td> </tr> <tr> <td>TTY</td> <td>TeleType/TeleTypewriters 的一个老缩写，原来指的是电传打字机，现在泛指和计算机串行端口连接的终端设备。TTY 设备还包括虚拟控制台，串口以及伪终端设备</td> </tr> </tbody> </table> <h3 id=23>2.3 源码结构介绍</h3> <div class=highlight><pre><span></span><code><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a>linux4.9
<a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a>|-- drivers
<a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a>|     |-- tty
<a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a>|     |    |-- serial
<a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a>|     |    |-- serial_core.c
<a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a>|     |    |-- sunxi-uart.c
<a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a>|     |    |-- sunxi-uart.h
</code></pre></div> <h2 id=3>3 模块配置介绍</h2> <h3 id=31-kernel-menuconfig>3.1 kernel menuconfig 配置</h3> <p>在 longan 顶层目录，执行./build.sh menuconfig(需要先执行./build.sh config) 进入配置主界面，并按以下步骤操作：首先，选择 Device Drivers 选项进入下一级配置，如下图所示：</p> <p><img alt src=https://photos.100ask.net/Tina-Sdk/LinuxUARTDevelopmentGuide_002.png></p> <p>​ 图 3-1: 内核 menuconfig 根菜单</p> <p>选择 Character devices, 进入下级配置，如下图所示：</p> <p><img alt src=https://photos.100ask.net/Tina-Sdk/LinuxUARTDevelopmentGuide_003.png></p> <p>​ 图 3-2: 内核 menuconfig device drivers 菜单</p> <p>选择 Serial drivers, 进入下级配置，如下图所示：</p> <p><img alt src=https://photos.100ask.net/Tina-Sdk/LinuxUARTDevelopmentGuide_004.png></p> <p>​ 图 3-3: 内核 menuconfig Character drivers 菜单</p> <p>选择 SUNXI UART Controller 和 Console on SUNXI UART port 选项，如下图：</p> <p><img alt src=https://photos.100ask.net/Tina-Sdk/LinuxUARTDevelopmentGuide_005.png></p> <p>​ 图 3-4: 内核 menuconfig sunxi uart 配置菜单</p> <p>如果需要 UART 支持 DMA 传输，则可以打开 SUNXI UART USE DMA 选项。</p> <h3 id=32-device-tree>3.2 device tree 源码结构和路径</h3> <p><em>•</em> 设备树文件的配置是该 SoC 所有方案的通用配置，对于 ARM64 CPU 而言，设备树的路径为内核目录下：arch/arm64/boot/dts/sunxi/sun*.dtsi。 </p> <p><em>•</em> 设备树文件的配置是该 SoC 所有方案的通用配置，对于 ARM32 CPU 而言，设备树的路径为内核目录下：arch/arm/boot/dts/sun*.dtsi。 </p> <p><em>•</em> 板级设备树 (board.dts) 路径：/device/config/chips/{IC}/configs/{BOARD}/board.dts。device tree 的源码结构关系如下：</p> <p>device tree 的源码结构关系如下：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a>linux-4.9
<a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a>board.dts
<a href=#__codelineno-1-3 id=__codelineno-1-3 name=__codelineno-1-3></a>|--------sun*.dtsi
<a href=#__codelineno-1-4 id=__codelineno-1-4 name=__codelineno-1-4></a>            |------sun*-pinctrl.dtsi
<a href=#__codelineno-1-5 id=__codelineno-1-5 name=__codelineno-1-5></a>            |------sun*-clk.dtsi
<a href=#__codelineno-1-6 id=__codelineno-1-6 name=__codelineno-1-6></a>linux-5.4
<a href=#__codelineno-1-7 id=__codelineno-1-7 name=__codelineno-1-7></a>board.dts
<a href=#__codelineno-1-8 id=__codelineno-1-8 name=__codelineno-1-8></a>|-------sun*.dtsi
</code></pre></div> <h4 id=321-device-tree-uart>3.2.1 device tree 对 uart 控制器的通用配置</h4> <p>linux-4.9 的通用配置如下: </p> <div class=highlight><pre><span></span><code><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a>/ {
<a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a>    model = "sun*";
<a href=#__codelineno-2-3 id=__codelineno-2-3 name=__codelineno-2-3></a>    compatible = "arm,sun*";
<a href=#__codelineno-2-4 id=__codelineno-2-4 name=__codelineno-2-4></a>    interrupt-parent = &lt;&amp;wakeupgen&gt;;
<a href=#__codelineno-2-5 id=__codelineno-2-5 name=__codelineno-2-5></a>    #address-cells = &lt;2&gt;;
<a href=#__codelineno-2-6 id=__codelineno-2-6 name=__codelineno-2-6></a>    #size-cells = &lt;2&gt;;
<a href=#__codelineno-2-7 id=__codelineno-2-7 name=__codelineno-2-7></a>    aliases {
<a href=#__codelineno-2-8 id=__codelineno-2-8 name=__codelineno-2-8></a>        serial0 = &amp;uart0;
<a href=#__codelineno-2-9 id=__codelineno-2-9 name=__codelineno-2-9></a>        serial1 = &amp;uart1;
<a href=#__codelineno-2-10 id=__codelineno-2-10 name=__codelineno-2-10></a>        serial2 = &amp;uart2;
<a href=#__codelineno-2-11 id=__codelineno-2-11 name=__codelineno-2-11></a>        serial3 = &amp;uart3;
<a href=#__codelineno-2-12 id=__codelineno-2-12 name=__codelineno-2-12></a>        serial4 = &amp;uart4;
<a href=#__codelineno-2-13 id=__codelineno-2-13 name=__codelineno-2-13></a>        serial5 = &amp;uart5;
<a href=#__codelineno-2-14 id=__codelineno-2-14 name=__codelineno-2-14></a>        ...
<a href=#__codelineno-2-15 id=__codelineno-2-15 name=__codelineno-2-15></a>    };
<a href=#__codelineno-2-16 id=__codelineno-2-16 name=__codelineno-2-16></a>
<a href=#__codelineno-2-17 id=__codelineno-2-17 name=__codelineno-2-17></a>    uart0: uart@05000000 {
<a href=#__codelineno-2-18 id=__codelineno-2-18 name=__codelineno-2-18></a>        compatible = "allwinner,sun50i-uart"; /* 用于驱动和设备绑定 */
<a href=#__codelineno-2-19 id=__codelineno-2-19 name=__codelineno-2-19></a>        device_type = "uart0";                /* 设备类型*/
<a href=#__codelineno-2-20 id=__codelineno-2-20 name=__codelineno-2-20></a>        reg = &lt;0x0 0x05000000 0x0 0x400&gt;;     /* 设备使用的寄存器基地址以及范围*/
<a href=#__codelineno-2-21 id=__codelineno-2-21 name=__codelineno-2-21></a>        interrupts = &lt;GIC_SPI 0 IRQ_TYPE_LEVEL_HIGH&gt;; /* 设备使用的硬件中断号*/
<a href=#__codelineno-2-22 id=__codelineno-2-22 name=__codelineno-2-22></a>        clocks = &lt;&amp;clk_uart0&gt;;                /* 设备使用的时钟*/
<a href=#__codelineno-2-23 id=__codelineno-2-23 name=__codelineno-2-23></a>        pinctrl-names = "default", "sleep";
<a href=#__codelineno-2-24 id=__codelineno-2-24 name=__codelineno-2-24></a>        pinctrl-0 = &lt;&amp;uart0_pins_a&gt;;          /* 设备正常状态下使用的pin脚*/
<a href=#__codelineno-2-25 id=__codelineno-2-25 name=__codelineno-2-25></a>        pinctrl-1 = &lt;&amp;uart0_pins_b&gt;;          /* 设备休眠状态下使用的pin脚*/
<a href=#__codelineno-2-26 id=__codelineno-2-26 name=__codelineno-2-26></a>        uart0_port = &lt;0&gt;; /* uart控制器对应的ttyS唯一端口号，不能与其他uart控制器重复*/
<a href=#__codelineno-2-27 id=__codelineno-2-27 name=__codelineno-2-27></a>        uart0_type = &lt;2&gt;; /* uart控制器线数，取值2/4/8*/
<a href=#__codelineno-2-28 id=__codelineno-2-28 name=__codelineno-2-28></a>        use_dma = &lt;0&gt;;    /* 是否采用DMA 方式传输，0：不启用，1：只启用TX，2：只启用RX，3：启 用TX 与RX*/
<a href=#__codelineno-2-29 id=__codelineno-2-29 name=__codelineno-2-29></a>        status = "okay"; /* 是否使能该节点*/
<a href=#__codelineno-2-30 id=__codelineno-2-30 name=__codelineno-2-30></a>};
</code></pre></div> <p>linux-5.4 的通用配置如下: </p> <div class=highlight><pre><span></span><code><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a>uart0: uart@5000000 {
<a href=#__codelineno-3-2 id=__codelineno-3-2 name=__codelineno-3-2></a>    compatible = "allwinner,sun50i-uart";
<a href=#__codelineno-3-3 id=__codelineno-3-3 name=__codelineno-3-3></a>    device_type = "uart0";
<a href=#__codelineno-3-4 id=__codelineno-3-4 name=__codelineno-3-4></a>    reg = &lt;0x0 0x05000000 0x0 0x400&gt;;
<a href=#__codelineno-3-5 id=__codelineno-3-5 name=__codelineno-3-5></a>    interrupts = &lt;GIC_SPI 0 IRQ_TYPE_LEVEL_HIGH&gt;;
<a href=#__codelineno-3-6 id=__codelineno-3-6 name=__codelineno-3-6></a>    sunxi,uart-fifosize = &lt;64&gt;;
<a href=#__codelineno-3-7 id=__codelineno-3-7 name=__codelineno-3-7></a>    clocks = &lt;&amp;ccu CLK_BUS_UART0&gt;; /* 设备使用的时钟 */
<a href=#__codelineno-3-8 id=__codelineno-3-8 name=__codelineno-3-8></a>    clock-names = "uart0";
<a href=#__codelineno-3-9 id=__codelineno-3-9 name=__codelineno-3-9></a>    resets = &lt;&amp;ccu RST_BUS_UART0&gt;; /* 设备reset时钟 */
<a href=#__codelineno-3-10 id=__codelineno-3-10 name=__codelineno-3-10></a>    pinctrl-names = "default", "sleep";
<a href=#__codelineno-3-11 id=__codelineno-3-11 name=__codelineno-3-11></a>    pinctrl-0 = &lt;&amp;uart0_pins_a&gt;;
<a href=#__codelineno-3-12 id=__codelineno-3-12 name=__codelineno-3-12></a>    pinctrl-1 = &lt;&amp;uart0_pins_b&gt;;
<a href=#__codelineno-3-13 id=__codelineno-3-13 name=__codelineno-3-13></a>    uart0_port = &lt;0&gt;;
<a href=#__codelineno-3-14 id=__codelineno-3-14 name=__codelineno-3-14></a>    uart0_type = &lt;2&gt;;
<a href=#__codelineno-3-15 id=__codelineno-3-15 name=__codelineno-3-15></a>    dmas = &lt;&amp;dma 14&gt;; /* 14表示DRQ */
<a href=#__codelineno-3-16 id=__codelineno-3-16 name=__codelineno-3-16></a>    dma-names = "tx";
<a href=#__codelineno-3-17 id=__codelineno-3-17 name=__codelineno-3-17></a>    use_dma = &lt;0&gt;; /* 是否采用DMA 方式传输，0：不启用，1：只启用TX，2：只启用RX，3：启用TX 与RX */
<a href=#__codelineno-3-18 id=__codelineno-3-18 name=__codelineno-3-18></a>};
</code></pre></div> <p>在 Device Tree 中对每一个 UART 控制器进行配置, 一个 UART 控制器对应一个 UART 节点, 节点属性的含义见注释。为了在 UART 驱动代码中区分每一个 UART 控制器，需要在 Device Tree 中的 aliases 节点中未每一个。UART 节点指定别名，如上 aliases 节点所示。别名形式为字符串 “serial” 加连续编号的数字，在 UART 驱动程序中可以通过 of_alias_get_id() 函数获取对应的 UART 控制器的数字编号，从而区分每一个 UART 控制器。</p> <h4 id=322-boarddts>3.2.2 board.dts 板级配置</h4> <p>board.dts 用于保存每个板级平台的设备信息 (如 demo 板、demo2.0 板等等)，board.dts 路径如下：/device/config/chips/{IC}/configs/{BOARD}/board.dts。 </p> <p>在 board.dts 中的配置信息如果在 *.dtsi(如 sun50iw9p1.dtsi 等) 存在，则会存在以下覆盖规则：</p> <ol> <li> <p>相同属性和结点，board.dts 的配置信息会覆盖 *.dtsi 中的配置信息。</p> </li> <li> <p>新增加的属性和结点，会添加到编译生成的 dtb 文件中。</p> </li> </ol> <p>uart 在 board.dts 的简单配置如下：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a>soc@03000000 {
<a href=#__codelineno-4-2 id=__codelineno-4-2 name=__codelineno-4-2></a>    ...
<a href=#__codelineno-4-3 id=__codelineno-4-3 name=__codelineno-4-3></a>    &amp;uart0 {
<a href=#__codelineno-4-4 id=__codelineno-4-4 name=__codelineno-4-4></a>        uart-supply = &lt;reg_dcdc1&gt;; /* IO使用的电 */
<a href=#__codelineno-4-5 id=__codelineno-4-5 name=__codelineno-4-5></a>        status = "okay";
<a href=#__codelineno-4-6 id=__codelineno-4-6 name=__codelineno-4-6></a>    };
<a href=#__codelineno-4-7 id=__codelineno-4-7 name=__codelineno-4-7></a>
<a href=#__codelineno-4-8 id=__codelineno-4-8 name=__codelineno-4-8></a>    &amp;uart1 {
<a href=#__codelineno-4-9 id=__codelineno-4-9 name=__codelineno-4-9></a>        status = "okay";
<a href=#__codelineno-4-10 id=__codelineno-4-10 name=__codelineno-4-10></a>    };
<a href=#__codelineno-4-11 id=__codelineno-4-11 name=__codelineno-4-11></a>    ...
<a href=#__codelineno-4-12 id=__codelineno-4-12 name=__codelineno-4-12></a>}
</code></pre></div> <h4 id=323-uart-dma>3.2.3 uart dma 模式配置</h4> <ol> <li>在内核配置菜单打开 CONFIG_SERIAL_SUNXI_DMA 配置，如下图所示:</li> </ol> <p><img alt src=https://photos.100ask.net/Tina-Sdk/LinuxUARTDevelopmentGuide_006.png></p> <p>​ 图 3-5: 内核 menuconfig sunxi uart 配置菜单</p> <ol> <li>在对应 dts 配置使用 dma，如下所示:</li> </ol> <p>​ Linux-4.9 配置如下:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-5-1 id=__codelineno-5-1 name=__codelineno-5-1></a>uart1: uart@05000400 {
<a href=#__codelineno-5-2 id=__codelineno-5-2 name=__codelineno-5-2></a>    ...
<a href=#__codelineno-5-3 id=__codelineno-5-3 name=__codelineno-5-3></a>    use_dma = &lt;3&gt;; /* 是否采用DMA 方式传输，0：不启用，1：只启用TX，2：只启用RX，3：启用TX 与RX */
<a href=#__codelineno-5-4 id=__codelineno-5-4 name=__codelineno-5-4></a>    status = "okay";
<a href=#__codelineno-5-5 id=__codelineno-5-5 name=__codelineno-5-5></a>};
</code></pre></div> <p>​ linux-5.4 配置如下: </p> <div class=highlight><pre><span></span><code><a href=#__codelineno-6-1 id=__codelineno-6-1 name=__codelineno-6-1></a>uart0: uart@5000000 {
<a href=#__codelineno-6-2 id=__codelineno-6-2 name=__codelineno-6-2></a>    ...
<a href=#__codelineno-6-3 id=__codelineno-6-3 name=__codelineno-6-3></a>    dmas = &lt;&amp;dma 14&gt;; /* 14表示DRQ, 查看dma spec */
<a href=#__codelineno-6-4 id=__codelineno-6-4 name=__codelineno-6-4></a>    dma-names = "tx";
<a href=#__codelineno-6-5 id=__codelineno-6-5 name=__codelineno-6-5></a>    use_dma = &lt;0&gt;; /* 是否采用DMA 方式传输，0：不启用，1：只启用TX，2：只启用RX，3：启用TX 与RX
<a href=#__codelineno-6-6 id=__codelineno-6-6 name=__codelineno-6-6></a>    */
<a href=#__codelineno-6-7 id=__codelineno-6-7 name=__codelineno-6-7></a>};
</code></pre></div> <h4 id=324-uart-conole>3.2.4 设置其他 uart 为打印 conole</h4> <ol> <li>从 dts 确保设置为 console 的 uart 已经使能，如 uart1。</li> </ol> <div class=highlight><pre><span></span><code><a href=#__codelineno-7-1 id=__codelineno-7-1 name=__codelineno-7-1></a>uart1: uart@05000400 {
<a href=#__codelineno-7-2 id=__codelineno-7-2 name=__codelineno-7-2></a>    compatible = "allwinner,sun50i-uart";
<a href=#__codelineno-7-3 id=__codelineno-7-3 name=__codelineno-7-3></a>    device_type = "uart1";
<a href=#__codelineno-7-4 id=__codelineno-7-4 name=__codelineno-7-4></a>    reg = &lt;0x0 0x05000400 0x0 0x400&gt;;
<a href=#__codelineno-7-5 id=__codelineno-7-5 name=__codelineno-7-5></a>    interrupts = &lt;GIC_SPI 1 IRQ_TYPE_LEVEL_HIGH&gt;;
<a href=#__codelineno-7-6 id=__codelineno-7-6 name=__codelineno-7-6></a>    clocks = &lt;&amp;clk_uart1&gt;;
<a href=#__codelineno-7-7 id=__codelineno-7-7 name=__codelineno-7-7></a>    pinctrl-names = "default", "sleep";
<a href=#__codelineno-7-8 id=__codelineno-7-8 name=__codelineno-7-8></a>    pinctrl-0 = &lt;&amp;uart1_pins_a&gt;;
<a href=#__codelineno-7-9 id=__codelineno-7-9 name=__codelineno-7-9></a>    pinctrl-1 = &lt;&amp;uart1_pins_b&gt;;
<a href=#__codelineno-7-10 id=__codelineno-7-10 name=__codelineno-7-10></a>    uart1_port = &lt;1&gt;;
<a href=#__codelineno-7-11 id=__codelineno-7-11 name=__codelineno-7-11></a>    uart1_type = &lt;4&gt;;
<a href=#__codelineno-7-12 id=__codelineno-7-12 name=__codelineno-7-12></a>    status = "okay"; /* 确保该uart已经使能 */
<a href=#__codelineno-7-13 id=__codelineno-7-13 name=__codelineno-7-13></a>};
</code></pre></div> <ol> <li>修改方案使用的 env*.cfg 文件，如下所示：</li> </ol> <div class=highlight><pre><span></span><code><a href=#__codelineno-8-1 id=__codelineno-8-1 name=__codelineno-8-1></a>console=ttyS1,115200
<a href=#__codelineno-8-2 id=__codelineno-8-2 name=__codelineno-8-2></a>说明:
<a href=#__codelineno-8-3 id=__codelineno-8-3 name=__codelineno-8-3></a>ttyS0 &lt;===&gt; uart0
<a href=#__codelineno-8-4 id=__codelineno-8-4 name=__codelineno-8-4></a>ttyS1 &lt;===&gt; uart1
<a href=#__codelineno-8-5 id=__codelineno-8-5 name=__codelineno-8-5></a>...
</code></pre></div> <p>3.2.5 设置 uart 波特率</p> <p>在不同的 Sunxi 硬件平台中，UART 控制器的时钟源选择、配置略有不同，总体上的时钟关系如下：</p> <p><img alt src=https://photos.100ask.net/Tina-Sdk/LinuxUARTDevelopmentGuide_007.png></p> <p>​ 图 3-6: 时钟说明</p> <p>UART 控制器会对输入的时钟源进行分频，最终输出一个频率满足（或近似）UART 波特率的时钟信号。UART 常用的标准波特率有：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-9-1 id=__codelineno-9-1 name=__codelineno-9-1></a>#define B4800 0000014
<a href=#__codelineno-9-2 id=__codelineno-9-2 name=__codelineno-9-2></a>#define B9600 0000015
<a href=#__codelineno-9-3 id=__codelineno-9-3 name=__codelineno-9-3></a>#define B19200 0000016
<a href=#__codelineno-9-4 id=__codelineno-9-4 name=__codelineno-9-4></a>#define B38400 0000017
<a href=#__codelineno-9-5 id=__codelineno-9-5 name=__codelineno-9-5></a>#define B57600 0010001
<a href=#__codelineno-9-6 id=__codelineno-9-6 name=__codelineno-9-6></a>#define B115200 0010002
<a href=#__codelineno-9-7 id=__codelineno-9-7 name=__codelineno-9-7></a>#define B230400 0010003
<a href=#__codelineno-9-8 id=__codelineno-9-8 name=__codelineno-9-8></a>#define B460800 0010004
<a href=#__codelineno-9-9 id=__codelineno-9-9 name=__codelineno-9-9></a>#define B500000 0010005
<a href=#__codelineno-9-10 id=__codelineno-9-10 name=__codelineno-9-10></a>#define B576000 0010006
<a href=#__codelineno-9-11 id=__codelineno-9-11 name=__codelineno-9-11></a>#define B921600 0010007
<a href=#__codelineno-9-12 id=__codelineno-9-12 name=__codelineno-9-12></a>#define B1000000 0010010
<a href=#__codelineno-9-13 id=__codelineno-9-13 name=__codelineno-9-13></a>#define B1152000 0010011
<a href=#__codelineno-9-14 id=__codelineno-9-14 name=__codelineno-9-14></a>#define B1500000 0010012
<a href=#__codelineno-9-15 id=__codelineno-9-15 name=__codelineno-9-15></a>#define B2000000 0010013
<a href=#__codelineno-9-16 id=__codelineno-9-16 name=__codelineno-9-16></a>#define B2500000 0010014
<a href=#__codelineno-9-17 id=__codelineno-9-17 name=__codelineno-9-17></a>#define B3000000 0010015
<a href=#__codelineno-9-18 id=__codelineno-9-18 name=__codelineno-9-18></a>#define B3500000 0010016
<a href=#__codelineno-9-19 id=__codelineno-9-19 name=__codelineno-9-19></a>#define B4000000 0010017
</code></pre></div> <p>UART 时钟的分频比是 16 的整数倍，分频难免会有误差，所以输出 UART Device 通信的波特率是否足够精准，很大程度取决于输入的时钟源频率。考虑到功耗，UART 驱动中一般默认使用 24M 时钟源，但是根据应用场景我们有时候需要切换别的时钟源，基于两个原因：</p> <ol> <li> <p>24MHz/16=1.5MHz，这个最大频率满足不了 1.5M 以上的波特率应用；</p> </li> <li> <p>24M 分频后得到波特率误差可能太大，也满足不了某些 UART 外设的冗余要求（一般要求 2% 或 5% 以内，由外设决定）。UART 时钟源来自 APB2，APB2 的时钟源有两个，分别是 24MHz（HOSC）和 PLL_PERIPH（即驱动中的 PLL_PERIPH_CLK），系统默认配置 APB2 的时钟源是 24M，如果要提高UART 的时钟就要将 APB2 的时钟源设置为 PLL_PERIPH。同时要注意到 APB2 也是 TWI 的时钟源，所以需要兼顾 TWI 时钟。</p> </li> </ol> <p>各个 uart 波特率对应频点关系如下：</p> <p><img alt src=https://photos.100ask.net/Tina-Sdk/LinuxUARTDevelopmentGuide_008.png></p> <p>​ 图 3-7: 波特率关系</p> <p>例如需要配置 uart2 的波特率为 460800，在上述关系表中可以看出，对应的时钟为 30M、37.5M、42.857M、46.153M 和 50M 等，所以需要在设备树里修改 uart2 时钟：</p> <p>linux-4.9 修改波特率如下:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-10-1 id=__codelineno-10-1 name=__codelineno-10-1></a>    device_type = "uart2";
<a href=#__codelineno-10-2 id=__codelineno-10-2 name=__codelineno-10-2></a>    reg = &lt;0x0 0x05000800 0x0 0x400&gt;;
<a href=#__codelineno-10-3 id=__codelineno-10-3 name=__codelineno-10-3></a>    interrupts = &lt;GIC_SPI 2 IRQ_TYPE_LEVEL_HIGH&gt;;
<a href=#__codelineno-10-4 id=__codelineno-10-4 name=__codelineno-10-4></a>-   clocks = &lt;&amp;clk_uart2&gt;;
<a href=#__codelineno-10-5 id=__codelineno-10-5 name=__codelineno-10-5></a>+   clocks = &lt;&amp;clk_uart2&gt;, &lt;&amp;clk_apb2&gt;, &lt;&amp;clk_psi&gt;;
<a href=#__codelineno-10-6 id=__codelineno-10-6 name=__codelineno-10-6></a>+   clock-frequency = &lt;50000000&gt;;
<a href=#__codelineno-10-7 id=__codelineno-10-7 name=__codelineno-10-7></a>    pinctrl-names = "default", "sleep";
</code></pre></div> <p>有的情况下，APB2 不一定能准确分出 30M 或者 37.5M 等时钟，所以这里我们选择配置为 50M 时钟。</p> <p>如果我们修改了 APB2 时钟，可能会对 uart0 有影响，启动串口会出现乱码，那么我们最好也将 uart0 的时钟配置为 50M 时钟。 </p> <div class=highlight><pre><span></span><code><a href=#__codelineno-11-1 id=__codelineno-11-1 name=__codelineno-11-1></a>    device_type = "uart0";
<a href=#__codelineno-11-2 id=__codelineno-11-2 name=__codelineno-11-2></a>    reg = &lt;0x0 0x05000000 0x0 0x400&gt;;
<a href=#__codelineno-11-3 id=__codelineno-11-3 name=__codelineno-11-3></a>    interrupts = &lt;GIC_SPI 0 IRQ_TYPE_LEVEL_HIGH&gt;;
<a href=#__codelineno-11-4 id=__codelineno-11-4 name=__codelineno-11-4></a>-   clocks = &lt;&amp;clk_uart0&gt;;
<a href=#__codelineno-11-5 id=__codelineno-11-5 name=__codelineno-11-5></a>+   clocks = &lt;&amp;clk_uart0&gt;, &lt;&amp;clk_apb2&gt;, &lt;&amp;clk_psi&gt;;
<a href=#__codelineno-11-6 id=__codelineno-11-6 name=__codelineno-11-6></a>+   clock-frequency = &lt;50000000&gt;;
<a href=#__codelineno-11-7 id=__codelineno-11-7 name=__codelineno-11-7></a>    pinctrl-names = "default", "sleep";
</code></pre></div> <p>linux-5.4 修改波特率如下:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-12-1 id=__codelineno-12-1 name=__codelineno-12-1></a>    device_type = "uart2";
<a href=#__codelineno-12-2 id=__codelineno-12-2 name=__codelineno-12-2></a>    reg = &lt;0x0 0x05000800 0x0 0x400&gt;;
<a href=#__codelineno-12-3 id=__codelineno-12-3 name=__codelineno-12-3></a>    interrupts = &lt;GIC_SPI 2 IRQ_TYPE_LEVEL_HIGH&gt;;
<a href=#__codelineno-12-4 id=__codelineno-12-4 name=__codelineno-12-4></a>-       clocks = &lt;&amp;clk_uart2&gt;;
<a href=#__codelineno-12-5 id=__codelineno-12-5 name=__codelineno-12-5></a>+       clocks = &lt;&amp;ccu CLK_BUS_UART0&gt;,
<a href=#__codelineno-12-6 id=__codelineno-12-6 name=__codelineno-12-6></a>+                &lt;&amp;ccu CLK_APB2&gt;,
<a href=#__codelineno-12-7 id=__codelineno-12-7 name=__codelineno-12-7></a>+                &lt;&amp;ccu CLK_PSI_AHB1_AHB2&gt;;
<a href=#__codelineno-12-8 id=__codelineno-12-8 name=__codelineno-12-8></a>+       clock-frequency = &lt;50000000&gt;;
<a href=#__codelineno-12-9 id=__codelineno-12-9 name=__codelineno-12-9></a>    pinctrl-names = "default", "sleep";
</code></pre></div> <p>说明</p> <p><strong>修改</strong> <strong>APB2</strong> <strong>总线时钟，会影响到使用到</strong> <strong>APB2</strong> <strong>总线时钟的相应模块。</strong></p> <h4 id=326-cpus-uart>3.2.6 支持 cpus 域的 uart</h4> <p>在不同的 Sunxi 硬件平台中，UART 控制器根据电源域划分了 CPUX 域和 CPUS 域，系统默认对 CPUX 域的 uart 控制器都会默认配置上，但对 CPUS 域的 uart 控制器可能没有支持上，当希望通过 CPUX 使用 CPUS 域的 uart 时，请参考以下步骤进行支持:</p> <ol> <li> <p>通过 datasheet 或者 spec，获取 CPUS 域 uart 控制器的 pin 脚、clk、控制器地址等信息。</p> </li> <li> <p>确保 cpus 运行的系统没有使用到 CPUS 域的 uart 控制器，只有 CPUX 域在使用。</p> </li> <li> <p>在 r_pio 域配置 pin 的 dtsi 文件 (*.-pinctrl.dtsi)。</p> </li> </ol> <div class=highlight><pre><span></span><code><a href=#__codelineno-13-1 id=__codelineno-13-1 name=__codelineno-13-1></a>/ {
<a href=#__codelineno-13-2 id=__codelineno-13-2 name=__codelineno-13-2></a>    soc@03000000{
<a href=#__codelineno-13-3 id=__codelineno-13-3 name=__codelineno-13-3></a>        r_pio: pinctrl@07022000 {
<a href=#__codelineno-13-4 id=__codelineno-13-4 name=__codelineno-13-4></a>            ...
<a href=#__codelineno-13-5 id=__codelineno-13-5 name=__codelineno-13-5></a>            /* 配置CPUS域uart pin信息 */
<a href=#__codelineno-13-6 id=__codelineno-13-6 name=__codelineno-13-6></a>            s_uart0_pins_a: s_uart0@0 {
<a href=#__codelineno-13-7 id=__codelineno-13-7 name=__codelineno-13-7></a>                allwinner,pins = "PL2", "PL3";
<a href=#__codelineno-13-8 id=__codelineno-13-8 name=__codelineno-13-8></a>                allwinner,function = "s_uart0";
<a href=#__codelineno-13-9 id=__codelineno-13-9 name=__codelineno-13-9></a>                allwinner,muxsel = &lt;2&gt;;
<a href=#__codelineno-13-10 id=__codelineno-13-10 name=__codelineno-13-10></a>                allwinner,drive = &lt;1&gt;;
<a href=#__codelineno-13-11 id=__codelineno-13-11 name=__codelineno-13-11></a>                allwinner,pull = &lt;1&gt;;
<a href=#__codelineno-13-12 id=__codelineno-13-12 name=__codelineno-13-12></a>            };
<a href=#__codelineno-13-13 id=__codelineno-13-13 name=__codelineno-13-13></a>            ...
<a href=#__codelineno-13-14 id=__codelineno-13-14 name=__codelineno-13-14></a>        };
<a href=#__codelineno-13-15 id=__codelineno-13-15 name=__codelineno-13-15></a>    ...
<a href=#__codelineno-13-16 id=__codelineno-13-16 name=__codelineno-13-16></a>};  
</code></pre></div> <ol> <li>在 clk dtsi 配置时钟信息 (*-clk.dtsi)。</li> </ol> <div class=highlight><pre><span></span><code><a href=#__codelineno-14-1 id=__codelineno-14-1 name=__codelineno-14-1></a>clk_suart0: suart0 {
<a href=#__codelineno-14-2 id=__codelineno-14-2 name=__codelineno-14-2></a>    #clock-cells = &lt;0&gt;;
<a href=#__codelineno-14-3 id=__codelineno-14-3 name=__codelineno-14-3></a>    compatible = "allwinner,periph-cpus-clock";
<a href=#__codelineno-14-4 id=__codelineno-14-4 name=__codelineno-14-4></a>    clock-output-names = "suart0";
<a href=#__codelineno-14-5 id=__codelineno-14-5 name=__codelineno-14-5></a>};
</code></pre></div> <ol> <li>在 dtsi 配置 uart 控制器信息 (*.dtsi)。</li> </ol> <div class=highlight><pre><span></span><code><a href=#__codelineno-15-1 id=__codelineno-15-1 name=__codelineno-15-1></a>aliases {
<a href=#__codelineno-15-2 id=__codelineno-15-2 name=__codelineno-15-2></a>    serial0 = &amp;uart0;
<a href=#__codelineno-15-3 id=__codelineno-15-3 name=__codelineno-15-3></a>    ...
<a href=#__codelineno-15-4 id=__codelineno-15-4 name=__codelineno-15-4></a>    serial5 = &amp;uart5; //添加uart5的别名，必须要添加
<a href=#__codelineno-15-5 id=__codelineno-15-5 name=__codelineno-15-5></a>};
<a href=#__codelineno-15-6 id=__codelineno-15-6 name=__codelineno-15-6></a>uart0:uart@05000000 {
<a href=#__codelineno-15-7 id=__codelineno-15-7 name=__codelineno-15-7></a>};
<a href=#__codelineno-15-8 id=__codelineno-15-8 name=__codelineno-15-8></a>....
<a href=#__codelineno-15-9 id=__codelineno-15-9 name=__codelineno-15-9></a>/* 添加uart控制器信息 ，必须要添加，具体属性含义，见上文 */
<a href=#__codelineno-15-10 id=__codelineno-15-10 name=__codelineno-15-10></a>uart5: uart@07080000 {
<a href=#__codelineno-15-11 id=__codelineno-15-11 name=__codelineno-15-11></a>    compatible = "allwinner,sun8i-uart";
<a href=#__codelineno-15-12 id=__codelineno-15-12 name=__codelineno-15-12></a>    device_type = "uart5";
<a href=#__codelineno-15-13 id=__codelineno-15-13 name=__codelineno-15-13></a>    reg = &lt;0x0 0x07080000 0x0 0x400&gt;;
<a href=#__codelineno-15-14 id=__codelineno-15-14 name=__codelineno-15-14></a>    interrupts = &lt;GIC_SPI 111 IRQ_TYPE_LEVEL_HIGH&gt;;
<a href=#__codelineno-15-15 id=__codelineno-15-15 name=__codelineno-15-15></a>    clocks = &lt;&amp;clk_suart0&gt;;
<a href=#__codelineno-15-16 id=__codelineno-15-16 name=__codelineno-15-16></a>    pinctrl-names = "default", "sleep";
<a href=#__codelineno-15-17 id=__codelineno-15-17 name=__codelineno-15-17></a>    pinctrl-1 = &lt;&amp;s_uart0_pins_a&gt;;
<a href=#__codelineno-15-18 id=__codelineno-15-18 name=__codelineno-15-18></a>    uart5_port = &lt;5&gt;;
<a href=#__codelineno-15-19 id=__codelineno-15-19 name=__codelineno-15-19></a>    uart5_type = &lt;2&gt;;
<a href=#__codelineno-15-20 id=__codelineno-15-20 name=__codelineno-15-20></a>    status = "okay";
<a href=#__codelineno-15-21 id=__codelineno-15-21 name=__codelineno-15-21></a>};
</code></pre></div> <ol> <li>检查或添加 pin 描述符。</li> </ol> <p>有可能 pinctrl 驱动里，没有把 CPUS 域 uart 控制器的 pin 描述出来，因此要的 pinctrl 驱动里检查或添加 pin 的描述信息，查看 pinctrl-*-r.c 文件。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-16-1 id=__codelineno-16-1 name=__codelineno-16-1></a>static const struct sunxi_desc_pin *_r_pins[] = {
<a href=#__codelineno-16-2 id=__codelineno-16-2 name=__codelineno-16-2></a>    SUNXI_PIN(SUNXI_PINCTRL_PIN(L, 0),
<a href=#__codelineno-16-3 id=__codelineno-16-3 name=__codelineno-16-3></a>    ...
<a href=#__codelineno-16-4 id=__codelineno-16-4 name=__codelineno-16-4></a>    SUNXI_PIN(SUNXI_PINCTRL_PIN(L, 2),
<a href=#__codelineno-16-5 id=__codelineno-16-5 name=__codelineno-16-5></a>    ...
<a href=#__codelineno-16-6 id=__codelineno-16-6 name=__codelineno-16-6></a>    SUNXI_FUNCTION(0x2, "s_uart0"), //没有则要添加
<a href=#__codelineno-16-7 id=__codelineno-16-7 name=__codelineno-16-7></a>    ...
<a href=#__codelineno-16-8 id=__codelineno-16-8 name=__codelineno-16-8></a>    SUNXI_PIN(SUNXI_PINCTRL_PIN(L, 3),
<a href=#__codelineno-16-9 id=__codelineno-16-9 name=__codelineno-16-9></a>    ...
<a href=#__codelineno-16-10 id=__codelineno-16-10 name=__codelineno-16-10></a>    SUNXI_FUNCTION(0x2, "s_uart0"), //没有则要添加
<a href=#__codelineno-16-11 id=__codelineno-16-11 name=__codelineno-16-11></a>    ...
<a href=#__codelineno-16-12 id=__codelineno-16-12 name=__codelineno-16-12></a>};
</code></pre></div> <ol> <li>检查 clk 的描述信息。</li> </ol> <p>有可能 clk 驱动根据情况，也没有把 CPUS 域的 uart 控制器的时钟信息描述出来，因此要 clk 驱动里检查或添加 clk 的描述信息，查看 clk-<em>.c</em> 和 <em>clk-</em>.h 文件。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-17-1 id=__codelineno-17-1 name=__codelineno-17-1></a>/* clk-*.h */
<a href=#__codelineno-17-2 id=__codelineno-17-2 name=__codelineno-17-2></a>#define CPUS_UART_GATE 0x018C
<a href=#__codelineno-17-3 id=__codelineno-17-3 name=__codelineno-17-3></a>
<a href=#__codelineno-17-4 id=__codelineno-17-4 name=__codelineno-17-4></a>/* clk-*.c */
<a href=#__codelineno-17-5 id=__codelineno-17-5 name=__codelineno-17-5></a>static const char *suart_parents[] = {"cpurapbs2"};
<a href=#__codelineno-17-6 id=__codelineno-17-6 name=__codelineno-17-6></a>
<a href=#__codelineno-17-7 id=__codelineno-17-7 name=__codelineno-17-7></a>SUNXI_CLK_PERIPH(suart0, 0, 0, 0, 0,
<a href=#__codelineno-17-8 id=__codelineno-17-8 name=__codelineno-17-8></a>                0, 0, 0, 0, 0, 0,
<a href=#__codelineno-17-9 id=__codelineno-17-9 name=__codelineno-17-9></a>                CPUS_UART_GATE, CPUS_UART_GATE, 0, 0, 16, 0,
<a href=#__codelineno-17-10 id=__codelineno-17-10 name=__codelineno-17-10></a>                0, &amp;clk_lock, NULL, 0);
<a href=#__codelineno-17-11 id=__codelineno-17-11 name=__codelineno-17-11></a>
<a href=#__codelineno-17-12 id=__codelineno-17-12 name=__codelineno-17-12></a>struct periph_init_data sunxi_periphs_cpus_init[] = {
<a href=#__codelineno-17-13 id=__codelineno-17-13 name=__codelineno-17-13></a>    ...
<a href=#__codelineno-17-14 id=__codelineno-17-14 name=__codelineno-17-14></a>    {"suart0", 0, suart_parents,
<a href=#__codelineno-17-15 id=__codelineno-17-15 name=__codelineno-17-15></a>    ARRAY_SIZE(suart_parents), &amp;sunxi_clk_periph_suart0 },
<a href=#__codelineno-17-16 id=__codelineno-17-16 name=__codelineno-17-16></a>};
</code></pre></div> <ol> <li>检查 uart 驱动支持的 uart 数量是否足够，查看 sunxi-uart.h 文件。</li> </ol> <p>通过 SUNXI_UART_NUM 宏确认支持 uart 的数量。</p> <ol> <li>修改完毕后，启动小机，查看 ttySn 设备是否生成，通过该设备测试 uart 是否正常使用即可。</li> </ol> <h2 id=4>4 接口描述</h2> <p>UART 驱动会注册生成串口设备/dev/ttySx，应用层的使用只需遵循 Linux 系统中的标准串口编程方法即可。</p> <h3 id=41>4.1 打开/关闭串口</h3> <p>使用标准的文件打开函数：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-18-1 id=__codelineno-18-1 name=__codelineno-18-1></a>int open(const char *pathname, int flags);
<a href=#__codelineno-18-2 id=__codelineno-18-2 name=__codelineno-18-2></a>int close(int fd);
</code></pre></div> <p>需要引用头文件：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-19-1 id=__codelineno-19-1 name=__codelineno-19-1></a>#include &lt;sys/types.h&gt;
<a href=#__codelineno-19-2 id=__codelineno-19-2 name=__codelineno-19-2></a>#include &lt;sys/stat.h&gt;
<a href=#__codelineno-19-3 id=__codelineno-19-3 name=__codelineno-19-3></a>#include &lt;fcntl.h&gt;
<a href=#__codelineno-19-4 id=__codelineno-19-4 name=__codelineno-19-4></a>#include &lt;unistd.h&gt;
</code></pre></div> <h3 id=42>4.2 读/写串口</h3> <p>同样使用标准的文件读写函数：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-20-1 id=__codelineno-20-1 name=__codelineno-20-1></a>ssize_t read(int fd, void *buf, size_t count);
<a href=#__codelineno-20-2 id=__codelineno-20-2 name=__codelineno-20-2></a>ssize_t write(int fd, const void *buf, size_t count);
</code></pre></div> <p>需要引用头文件：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-21-1 id=__codelineno-21-1 name=__codelineno-21-1></a>#include &lt;unistd.h&gt;
</code></pre></div> <h3 id=43>4.3 设置串口属性</h3> <p>串口属性包括波特率、数据位、停止位、校验位、流控等，这部分是串口设备特有的接口。串口属性的数据结构 termios 定义如下：（terminos.h）。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-22-1 id=__codelineno-22-1 name=__codelineno-22-1></a>#define NCCS 19
<a href=#__codelineno-22-2 id=__codelineno-22-2 name=__codelineno-22-2></a>struct termios {
<a href=#__codelineno-22-3 id=__codelineno-22-3 name=__codelineno-22-3></a>    tcflag_t c_iflag;  /* input mode flags */
<a href=#__codelineno-22-4 id=__codelineno-22-4 name=__codelineno-22-4></a>    tcflag_t c_oflag;  /* output mode flags */
<a href=#__codelineno-22-5 id=__codelineno-22-5 name=__codelineno-22-5></a>    tcflag_t c_cflag;  /* control mode flags */
<a href=#__codelineno-22-6 id=__codelineno-22-6 name=__codelineno-22-6></a>    tcflag_t c_lflag;  /* local mode flags */
<a href=#__codelineno-22-7 id=__codelineno-22-7 name=__codelineno-22-7></a>    cc_t c_line;       /* line discipline */
<a href=#__codelineno-22-8 id=__codelineno-22-8 name=__codelineno-22-8></a>    cc_t c_cc[NCCS];   /* control characters */
<a href=#__codelineno-22-9 id=__codelineno-22-9 name=__codelineno-22-9></a>};
</code></pre></div> <p>其中，c_iflag 的标志常量定义如下：</p> <table> <thead> <tr> <th>标志</th> <th>说明</th> </tr> </thead> <tbody> <tr> <td>IGNBRK</td> <td>忽略输入中的 BREAK 状态。</td> </tr> <tr> <td>BRKINT</td> <td>如果设置了 IGNBRK，将忽略 BREAK。如果没有设置，但是设置了 BRKINT，那么 BREAK 将使得输入和输出队列被刷新，如果终端是一个前台进程组的控制终端，这个进程组中所有进程将收到 SIGINT 信号。如果既未设置 IGNBRK 也未设置 BRKINT，BREAK 将视为与 NUL 字符同义，除非设置了 PARMRK，这种情况下它被视为序列 \377 \0 \0。</td> </tr> <tr> <td>IGNPAR</td> <td>忽略桢错误和奇偶校验错。</td> </tr> <tr> <td>PARMRK</td> <td>如果没有设置 IGNPAR，在有奇偶校验错或桢错误的字符前插入 \377 \0。如果既没有设置 IGNPAR 也没有设置 PARMRK，将有奇偶校验错或桢错误的字符视为 \0。</td> </tr> <tr> <td>INPCK</td> <td>启用输入奇偶检测。</td> </tr> <tr> <td>ISTRIP</td> <td>去掉第八位。</td> </tr> <tr> <td>INLCR</td> <td>将输入中的 NL 翻译为 CR。</td> </tr> <tr> <td>IGNCR</td> <td>忽略输入中的回车。</td> </tr> <tr> <td>ICRNL</td> <td>将输入中的回车翻译为新行 (除非设置了 IGNCR)。</td> </tr> <tr> <td>IUCLC</td> <td>(不属于 POSIX) 将输入中的大写字母映射为小写字母。</td> </tr> <tr> <td>IXON</td> <td>启用输出的 XON/XOFF 流控制。</td> </tr> <tr> <td>IXANY</td> <td>(不属于 POSIX.1；XSI) 允许任何字符来重新开始输出。</td> </tr> <tr> <td>IXOFF</td> <td>启用输入的 XON/XOFF 流控制。</td> </tr> <tr> <td>IMAXBEL</td> <td>(不属于 POSIX) 当输入队列满时响零。Linux 没有实现这一位，总是将它视为已设置。</td> </tr> </tbody> </table> <p>c_oflag 的标志常量定义如下：</p> <table> <thead> <tr> <th>标志</th> <th>说明</th> </tr> </thead> <tbody> <tr> <td>OLCUC</td> <td>(不属于 POSIX) 将输出中的小写字母映射为大写字母。</td> </tr> <tr> <td>ONLCR</td> <td>(XSI) 将输出中的新行符映射为回车-换行。</td> </tr> <tr> <td>OCRNL</td> <td>将输出中的回车映射为新行符。</td> </tr> <tr> <td>ONOCR</td> <td>不在第 0 列输出回车。</td> </tr> <tr> <td>ONLRET</td> <td>不输出回车。</td> </tr> <tr> <td>OFILL</td> <td>发送填充字符作为延时，而不是使用定时来延时。</td> </tr> <tr> <td>OFDEL</td> <td>(不属于 POSIX) 填充字符是 ASCII DEL (0177)。如果不设置，填充字符则是 ASCII NUL。</td> </tr> <tr> <td>NLDLY</td> <td>新行延时掩码。取值为 NL0 和 NL1。</td> </tr> <tr> <td>CRDLY</td> <td>回车延时掩码。取值为 CR0, CR1, CR2, 或 CR3。</td> </tr> <tr> <td>TABDLY</td> <td>水平跳格延时掩码。取值为 TAB0, TAB1, TAB2, TAB3 (或 XTABS)。取值为 TAB3，即 XTABS，将扩展跳格为空格 (每个跳格符填充 8 个空格)。</td> </tr> <tr> <td>BSDLY</td> <td>回退延时掩码。取值为 BS0 或 BS1。(从来没有被实现过)。</td> </tr> <tr> <td>VTDLY</td> <td>竖直跳格延时掩码。取值为 VT0 或 VT1。</td> </tr> <tr> <td>FFDLY</td> <td>进表延时掩码。取值为 FF0 或 FF1。</td> </tr> </tbody> </table> <p>c_cflag 的标志常量定义如下：</p> <table> <thead> <tr> <th>标志</th> <th>说明</th> </tr> </thead> <tbody> <tr> <td>CBAUD</td> <td>(不属于 POSIX) 波特率掩码 (4+1 位)。</td> </tr> <tr> <td>CBAUDEX</td> <td>(不属于 POSIX) 扩展的波特率掩码 (1 位)，包含在 CBAUD 中。(POSIX 规定波特率存储在 termios 结构中，并未精确指定它的位置，而是提供了函数 cfgetispeed() 和 cfsetispeed() 来存取它。一些系统使用 c_cflag 中CBAUD 选择的位，其他系统使用单独的变量，例如 sg_ispeed 和sg_ospeed 。)</td> </tr> <tr> <td>CSIZE</td> <td>字符长度掩码。取值为 CS5, CS6, CS7, 或 CS8。</td> </tr> <tr> <td>CSTOPB</td> <td>设置两个停止位，而不是一个。</td> </tr> <tr> <td>CREAD</td> <td>打开接受者。</td> </tr> <tr> <td>PARENB</td> <td>允许输出产生奇偶信息以及输入的奇偶校验。</td> </tr> <tr> <td>PARODD</td> <td>输入和输出是奇校验。</td> </tr> <tr> <td>HUPCL</td> <td>在最后一个进程关闭设备后，降低 modem 控制线 (挂断)。</td> </tr> <tr> <td>CLOCAL</td> <td>忽略 modem 控制线。</td> </tr> <tr> <td>LOBLK</td> <td>(不属于 POSIX) 从非当前 shell 层阻塞输出 (用于 shl )。</td> </tr> <tr> <td>CIBAUD</td> <td>(不属于 POSIX) 输入速度的掩码。CIBAUD 各位的值与 CBAUD 各位相同，左移了 IBSHIFT 位。</td> </tr> <tr> <td>CRTSCTS</td> <td>(不属于 POSIX) 启用 RTS/CTS (硬件) 流控制</td> </tr> </tbody> </table> <p>c_lflag 的标志常量定义如下：</p> <table> <thead> <tr> <th>标志</th> <th>说明</th> </tr> </thead> <tbody> <tr> <td>ISIG</td> <td>当接受到字符 INTR, QUIT, SUSP, 或 DSUSP 时，产生相应的信号。</td> </tr> <tr> <td>ICANON</td> <td>启用标准模式 (canonical mode)。允许使用特殊字符 EOF, EOL, EOL2, ERASE, KILL, LNEXT, REPRINT, STATUS, 和 WERASE，以及按行的缓冲。</td> </tr> <tr> <td>XCASE</td> <td>(不属于 POSIX; Linux 下不被支持) 如果同时设置了 ICANON，终端只有大写。输入被转换为小写，除了以 前缀的字符。输出时，大写字符被前缀，小写字符被转换成大写。</td> </tr> <tr> <td>ECHO</td> <td>回显输入字符。</td> </tr> <tr> <td>ECHOE</td> <td>如果同时设置了 ICANON，字符 ERASE 擦除前一个输入字符，WERASE 擦除前一个词。</td> </tr> <tr> <td>ECHOK</td> <td>如果同时设置了 ICANON，字符 KILL 删除当前行。</td> </tr> <tr> <td>ECHONL</td> <td>如果同时设置了 ICANON，回显字符 NL，即使没有设置 ECHO。</td> </tr> <tr> <td>ECHOCTL</td> <td>(不属于 POSIX) 如果同时设置了 ECHO，除了 TAB, NL, START, 和 STOP 之外的 ASCII 控制信号被回显为 ˆX, 这里 X 是比控制信号大 0x40 的 ASCII 码。例如，字符 0x08 (BS) 被回显为 ˆH。</td> </tr> <tr> <td>ECHOPRT</td> <td>(不属于 POSIX) 如果同时设置了 ICANON 和 IECHO，字符在删除的同时被打印。</td> </tr> <tr> <td>ECHOKE</td> <td>(不属于 POSIX) 如果同时设置了 ICANON，回显 KILL 时将删除一行中的每个字符，如同指定了 ECHOE 和 ECHOPRT 一样。</td> </tr> <tr> <td>DEFECHO</td> <td>(不属于 POSIX) 只在一个进程读的时候回显。</td> </tr> <tr> <td>FLUSHO</td> <td>(不属于 POSIX; Linux 下不被支持) 输出被刷新。这个标志可以通过键入字符 DISCARD 来开关。</td> </tr> <tr> <td>NOFLSH</td> <td>禁止在产生 SIGINT, SIGQUIT 和 SIGSUSP 信号时刷新输入和输出队列。</td> </tr> <tr> <td>PENDIN</td> <td>(不属于 POSIX; Linux 下不被支持) 在读入下一个字符时，输入队列中所有字符被重新输出。(bash 用它来处理 typeahead)</td> </tr> <tr> <td>TOSTOP</td> <td>向试图写控制终端的后台进程组发送 SIGTTOU 信号。</td> </tr> <tr> <td>IEXTEN</td> <td>启用实现自定义的输入处理。这个标志必须与 ICANON 同时使用，才能解释特殊字符 EOL2，LNEXT，REPRINT 和 WERASE，IUCLC 标志才有效。</td> </tr> </tbody> </table> <p>c_cc 数组定义了特殊的控制字符。符号下标 (初始值) 和意义为：</p> <table> <thead> <tr> <th>标志</th> <th>说明</th> </tr> </thead> <tbody> <tr> <td>VINTR</td> <td>(003, ETX, Ctrl-C, or also 0177, DEL, rubout) 中断字符。发出 SIGINT 信号。当设置 ISIG 时可被识别，不再作为输入传递。</td> </tr> <tr> <td>VQUIT</td> <td>(034, FS, Ctrl-) 退出字符。发出 SIGQUIT 信号。当设置 ISIG 时可被识别，不再作为输入传递。</td> </tr> <tr> <td>VERASE</td> <td>(0177, DEL, rubout, or 010, BS, Ctrl-H, or also #) 删除字符。删除上一个还没有删掉的字符，但不删除上一个 EOF 或行首。当设置 ICANON 时可被识别，不再作为输入传递。</td> </tr> <tr> <td>VKILL</td> <td>(025, NAK, Ctrl-U, or Ctrl-X, or also @) 终止字符。删除自上一个 EOF 或行首以来的输入。当设置 ICANON 时可被识别，不再作为输入传递。</td> </tr> <tr> <td>VEOF</td> <td>(004, EOT, Ctrl-D) 文件尾字符。更精确地说，这个字符使得 tty 缓冲中的内容被送到等待输入的用户程序中，而不必等到 EOL。如果它是一行的第一个字符，那么用户程序的 read() 将返回 0，指示读到了 EOF。当设置 ICANON时可被识别，不再作为输入传递。</td> </tr> <tr> <td>VMIN</td> <td>非 canonical 模式读的最小字符数。</td> </tr> <tr> <td>VEOL</td> <td>(0, NUL) 附加的行尾字符。当设置 ICANON 时可被识别。</td> </tr> <tr> <td>VTIME</td> <td>非 canonical 模式读时的延时，以十分之一秒为单位。</td> </tr> <tr> <td>VEOL2</td> <td>(not in POSIX; 0, NUL) 另一个行尾字符。当设置 ICANON 时可被识别。</td> </tr> <tr> <td>VSTART</td> <td>(021, DC1, Ctrl-Q) 开始字符。重新开始被 Stop 字符中止的输出。当设置 IXON 时可被识别，不再作为输入传递。</td> </tr> <tr> <td>VSTOP</td> <td>(023, DC3, Ctrl-S) 停止字符。停止输出，直到键入 Start 字符。当设置 IXON 时可被识别，不再作为输入传递。</td> </tr> <tr> <td>VSUSP</td> <td>(032, SUB, Ctrl-Z) 挂起字符。发送 SIGTSTP 信号。当设置 ISIG 时可被识别，不再作为输入传递。</td> </tr> <tr> <td>VLNEXT</td> <td>(not in POSIX; 026, SYN, Ctrl-V) 字面上的下一个。引用下一个输入字符，取消它的任何特殊含义。当设置 IEXTEN 时可被识别，不再作为输入传递。</td> </tr> <tr> <td>VSTART</td> <td>(021, DC1, Ctrl-Q) 开始字符。重新开始被 Stop 字符中止的输出。当设置 IXON 时可被识别，不再作为输入传递。</td> </tr> <tr> <td>VSTOP</td> <td>(023, DC3, Ctrl-S) 停止字符。停止输出，直到键入 Start 字符。当设置 IXON 时可被识别，不再作为输入传递。</td> </tr> <tr> <td>VSUSP</td> <td>(032, SUB, Ctrl-Z) 挂起字符。发送 SIGTSTP 信号。当设置 ISIG 时可被识别，不再作为输入传递。</td> </tr> <tr> <td>VLNEXT</td> <td>(not in POSIX; 026, SYN, Ctrl-V) 字面上的下一个。引用下一个输入字符，取消它的任何特殊含义。当设置 IEXTEN 时可被识别，不再作为输入传递。</td> </tr> <tr> <td>VWERASE</td> <td>(not in POSIX; 027, ETB, Ctrl-W) 删除词。当设置 ICANON 和 IEXTEN 时可被识别，不再作为输入传递。</td> </tr> <tr> <td>VREPRINT</td> <td>(not in POSIX; 022, DC2, Ctrl-R) 重新输出未读的字符。当设置 ICANON和 IEXTEN 时可被识别，不再作为输入传递。</td> </tr> </tbody> </table> <h4 id=431-tcgetattr>4.3.1 tcgetattr</h4> <p><em>•</em> 作用：获取串口设备的属性。</p> <p><em>•</em> 参数：</p> <p>​ <em>•</em> fd，串口设备的文件描述符。</p> <p>​ <em>•</em> termios_p，用于保存串口属性。</p> <p><em>•</em> 返回：</p> <p>​ <em>•</em> 成功，返回 0。 </p> <p>​ <em>•</em> 失败，返回-1，errnor 给出具体错误码。</p> <h4 id=432-tcsetattr>4.3.2 tcsetattr</h4> <p><em>•</em> 作用：设置串口设备的属性。</p> <p><em>•</em> 参数：</p> <p>​ <em>•</em> fd，串口设备的文件描述符。</p> <p>​ <em>•</em> optional_actions，本次设置什么时候生效。</p> <p>​ <em>•</em> termios_p，指向要设置的属性结构。</p> <p><em>•</em> 返回：</p> <p>​ <em>•</em> 成功，返回 0。 </p> <p>​ <em>•</em> 失败，返回-1，errnor 给出具体错误码</p> <p>说明</p> <p>其中，optional_actions的取值有：</p> <p>TCSANOW：会立即生效。</p> <p>TCSADRAIN：当前的输出数据完成传输后生效，适用于修改了输出相关的参数。</p> <p>TCSAFLUSH：当前的输出数据完成传输，如果输入有数据可读但没有读就会被丢弃。</p> <h4 id=433-cfgetispeed>4.3.3 cfgetispeed</h4> <p><em>•</em> 作用：返回串口属性中的输入波特率。</p> <p><em>•</em> 参数：</p> <p>​ <em>•</em> termios_p，指向保存有串口属性的结构。</p> <p><em>•</em> 返回：</p> <p>​ <em>•</em> 成功，返回波特率，取值是一组宏，定义在 terminos.h。 </p> <p>​ <em>•</em> 失败，返回-1，errnor 给出具体错误码。</p> <p>说明</p> <p><strong>波特率定义如下所示：</strong></p> <p><strong>#define B0 0000000</strong></p> <p><strong>#define B50 0000001</strong></p> <p><strong>#define B75 0000002</strong></p> <p><strong>#define B110 0000003</strong></p> <p><strong>#define B134 0000004</strong></p> <p><strong>#define B150 0000005</strong></p> <p><strong>#define B200 0000006</strong></p> <p><strong>#define B300 0000007</strong></p> <p><strong>#define B600 0000010</strong></p> <p><strong>#define B1200 0000011</strong></p> <p><strong>#define B1800 0000012</strong></p> <p><strong>#define B2400 0000013</strong></p> <p><strong>#define B4800 0000014</strong></p> <p><strong>#define B9600 0000015</strong></p> <p><strong>#define B19200 0000016</strong></p> <p><strong>#define B38400 0000017</strong></p> <p><strong>#define B57600 0010001</strong></p> <p><strong>#define B115200 0010002</strong></p> <p><strong>#define B230400 0010003</strong></p> <p><strong>#define B460800 0010004</strong></p> <p><strong>#define B500000 0010005</strong></p> <p><strong>#define B576000 0010006</strong></p> <p><strong>#define B921600 0010007</strong></p> <p><strong>#define B1000000 0010010</strong></p> <p><strong>#define B1152000 0010011</strong></p> <p><strong>#define B1500000 0010012</strong></p> <p><strong>#define B2000000 0010013</strong></p> <p><strong>#define B2500000 0010014</strong></p> <p><strong>#define B3000000 0010015</strong></p> <p><strong>#define B3500000 0010016</strong></p> <p><strong>#define B4000000 0010017</strong></p> <h4 id=434-cfgetospeed>4.3.4 cfgetospeed</h4> <p><em>•</em> 作用：返回串口属性中的输出波特率。</p> <p><em>•</em> 参数：</p> <p>​ <em>•</em> termios_p，指向保存有串口属性的结构。</p> <p><em>•</em> 返回：</p> <p>​ <em>•</em> 成功，返回波特率，取值是一组宏，定义在 terminos.h，见 4.3.3</p> <p>​ <em>•</em> 失败，返回-1，errnor 给出具体错误码。</p> <h4 id=435-cfsetispeed>4.3.5 cfsetispeed</h4> <p><em>•</em> 作用：设置输入波特率到属性结构中。</p> <p><em>•</em> 参数：</p> <p>​ <em>•</em> termios_p，指向保存有串口属性的结构。</p> <p>​ <em>•</em> speed，波特率，取值同 4.3.3。 </p> <p><em>•</em> 返回：</p> <p>​ <em>•</em> 成功，返回 0。 </p> <p>​ <em>•</em> 失败，返回-1，errnor 给出具体错误码</p> <h4 id=436-cfsetospeed>4.3.6 cfsetospeed</h4> <p><em>•</em> 作用：设置输出波特率到属性结构中。</p> <p><em>•</em> 参数：</p> <p>​ <em>•</em> termios_p，指向保存有串口属性的结构。</p> <p>​ <em>•</em> speed，波特率，取值同 4.3.3。 </p> <p><em>•</em> 返回：</p> <p>​ <em>•</em> 成功，返回 0。 </p> <p>​ <em>•</em> 失败，返回-1，errnor 给出具体错误码</p> <h4 id=437-cfsetspeed>4.3.7 cfsetspeed</h4> <p><em>•</em> 作用：同时设置输入和输出波特率到属性结构中。</p> <p><em>•</em> 参数：</p> <p>​ <em>•</em> termios_p，指向保存有串口属性的结构。</p> <p>​ <em>•</em> speed，波特率，取值同 4.3.3。 </p> <p><em>•</em> 返回：</p> <p>​ <em>•</em> 成功，返回 0。 </p> <p>​ <em>•</em> 失败，返回-1，errnor 给出具体错误码</p> <h4 id=438-tcflush>4.3.8 tcflush</h4> <p><em>•</em> 作用：清空输出缓冲区、或输入缓冲区的数据，具体取决于参数 queue_selector。 </p> <p><em>•</em> 参数：</p> <p>​ <em>•</em> fd，串口设备的文件描述符。</p> <p>​ <em>•</em> queue_selector，清空数据的操作。</p> <p><em>•</em> 返回：</p> <p>​ <em>•</em> 成功，返回 0。 </p> <p>​ <em>•</em> 失败，返回-1，errnor 给出具体错误码。</p> <p>说明</p> <p><strong>参数 queue_selector 的取值有三个：</strong></p> <p><strong>TCIFLUSH：清空输入缓冲区的数据。</strong></p> <p><strong>TCOFLUSH：清空输出缓冲区的数据。</strong></p> <p><strong>TCIOFLUSH：同时清空输入/输出缓冲区的数据。</strong></p> <h2 id=5>5 模块使用范例</h2> <p>此 demo 程序是打开一个串口设备，然后侦听这个设备，如果有数据可读就读出来并打印。设备名称、侦听的循环次数都可以由参数指定。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-23-1 id=__codelineno-23-1 name=__codelineno-23-1></a>#include &lt;stdio.h&gt;      /*标准输入输出定义*/
<a href=#__codelineno-23-2 id=__codelineno-23-2 name=__codelineno-23-2></a>#include &lt;stdlib.h&gt;     /*标准函数库定义*/
<a href=#__codelineno-23-3 id=__codelineno-23-3 name=__codelineno-23-3></a>#include &lt;unistd.h&gt;     /*Unix 标准函数定义*/
<a href=#__codelineno-23-4 id=__codelineno-23-4 name=__codelineno-23-4></a>#include &lt;sys/types.h&gt;
<a href=#__codelineno-23-5 id=__codelineno-23-5 name=__codelineno-23-5></a>#include &lt;sys/stat.h&gt;
<a href=#__codelineno-23-6 id=__codelineno-23-6 name=__codelineno-23-6></a>#include &lt;fcntl.h&gt;       /*文件控制定义*/
<a href=#__codelineno-23-7 id=__codelineno-23-7 name=__codelineno-23-7></a>#include &lt;termios.h&gt;     /*PPSIX 终端控制定义*/
<a href=#__codelineno-23-8 id=__codelineno-23-8 name=__codelineno-23-8></a>#include &lt;errno.h&gt;       /*错误号定义*/
<a href=#__codelineno-23-9 id=__codelineno-23-9 name=__codelineno-23-9></a>#include &lt;string.h&gt;
<a href=#__codelineno-23-10 id=__codelineno-23-10 name=__codelineno-23-10></a>
<a href=#__codelineno-23-11 id=__codelineno-23-11 name=__codelineno-23-11></a>enum parameter_type {
<a href=#__codelineno-23-12 id=__codelineno-23-12 name=__codelineno-23-12></a>    PT_PROGRAM_NAME = 0,
<a href=#__codelineno-23-13 id=__codelineno-23-13 name=__codelineno-23-13></a>    PT_DEV_NAME,
<a href=#__codelineno-23-14 id=__codelineno-23-14 name=__codelineno-23-14></a>    PT_CYCLE,
<a href=#__codelineno-23-15 id=__codelineno-23-15 name=__codelineno-23-15></a>    PT_NUM
<a href=#__codelineno-23-16 id=__codelineno-23-16 name=__codelineno-23-16></a>};
<a href=#__codelineno-23-17 id=__codelineno-23-17 name=__codelineno-23-17></a>
<a href=#__codelineno-23-18 id=__codelineno-23-18 name=__codelineno-23-18></a>#define DBG(string, args...) \
<a href=#__codelineno-23-19 id=__codelineno-23-19 name=__codelineno-23-19></a>    do { \
<a href=#__codelineno-23-20 id=__codelineno-23-20 name=__codelineno-23-20></a>        printf("%s, %s()%u---", __FILE__, __FUNCTION__, __LINE__); \
<a href=#__codelineno-23-21 id=__codelineno-23-21 name=__codelineno-23-21></a>        printf(string, _00args); \
<a href=#__codelineno-23-22 id=__codelineno-23-22 name=__codelineno-23-22></a>        printf("\n"); \
<a href=#__codelineno-23-23 id=__codelineno-23-23 name=__codelineno-23-23></a>    } while (0)
<a href=#__codelineno-23-24 id=__codelineno-23-24 name=__codelineno-23-24></a>
<a href=#__codelineno-23-25 id=__codelineno-23-25 name=__codelineno-23-25></a>void usage(void)
<a href=#__codelineno-23-26 id=__codelineno-23-26 name=__codelineno-23-26></a>{
<a href=#__codelineno-23-27 id=__codelineno-23-27 name=__codelineno-23-27></a>    printf("You should input as: \n");
<a href=#__codelineno-23-28 id=__codelineno-23-28 name=__codelineno-23-28></a>    printf("\t select_test [/dev/name] [Cycle Cnt]\n");
<a href=#__codelineno-23-29 id=__codelineno-23-29 name=__codelineno-23-29></a>}
<a href=#__codelineno-23-30 id=__codelineno-23-30 name=__codelineno-23-30></a>
<a href=#__codelineno-23-31 id=__codelineno-23-31 name=__codelineno-23-31></a>int OpenDev(char *name)
<a href=#__codelineno-23-32 id=__codelineno-23-32 name=__codelineno-23-32></a>{
<a href=#__codelineno-23-33 id=__codelineno-23-33 name=__codelineno-23-33></a>    int fd = open(name, O_RDWR ); //| O_NOCTTY | O_NDELAY
<a href=#__codelineno-23-34 id=__codelineno-23-34 name=__codelineno-23-34></a>    if (-1 == fd)
<a href=#__codelineno-23-35 id=__codelineno-23-35 name=__codelineno-23-35></a>        DBG("Can't Open(%s)!", name);
<a href=#__codelineno-23-36 id=__codelineno-23-36 name=__codelineno-23-36></a>
<a href=#__codelineno-23-37 id=__codelineno-23-37 name=__codelineno-23-37></a>    return fd;
<a href=#__codelineno-23-38 id=__codelineno-23-38 name=__codelineno-23-38></a>}
<a href=#__codelineno-23-39 id=__codelineno-23-39 name=__codelineno-23-39></a>
<a href=#__codelineno-23-40 id=__codelineno-23-40 name=__codelineno-23-40></a>/**
<a href=#__codelineno-23-41 id=__codelineno-23-41 name=__codelineno-23-41></a> * @brief 设置串口通信速率
<a href=#__codelineno-23-42 id=__codelineno-23-42 name=__codelineno-23-42></a> * @param fd 类型 int 打开串口的文件句柄
<a href=#__codelineno-23-43 id=__codelineno-23-43 name=__codelineno-23-43></a> * @param speed 类型 int 串口速度
<a href=#__codelineno-23-44 id=__codelineno-23-44 name=__codelineno-23-44></a> * @return void
<a href=#__codelineno-23-45 id=__codelineno-23-45 name=__codelineno-23-45></a> */
<a href=#__codelineno-23-46 id=__codelineno-23-46 name=__codelineno-23-46></a>void set_speed(int fd, int speed)
<a href=#__codelineno-23-47 id=__codelineno-23-47 name=__codelineno-23-47></a>{
<a href=#__codelineno-23-48 id=__codelineno-23-48 name=__codelineno-23-48></a>    int i;
<a href=#__codelineno-23-49 id=__codelineno-23-49 name=__codelineno-23-49></a>    int status;
<a href=#__codelineno-23-50 id=__codelineno-23-50 name=__codelineno-23-50></a>    struct termios Opt = {0};
<a href=#__codelineno-23-51 id=__codelineno-23-51 name=__codelineno-23-51></a>    int speed_arr[] = { B38400, B19200, B9600, B4800, B2400, B1200, B300,
<a href=#__codelineno-23-52 id=__codelineno-23-52 name=__codelineno-23-52></a>        B38400, B19200, B9600, B4800, B2400, B1200, B300, };
<a href=#__codelineno-23-53 id=__codelineno-23-53 name=__codelineno-23-53></a>    int name_arr[] = {38400, 19200, 9600, 4800, 2400, 1200, 300, 38400,
<a href=#__codelineno-23-54 id=__codelineno-23-54 name=__codelineno-23-54></a>        19200, 9600, 4800, 2400, 1200, 300, };
<a href=#__codelineno-23-55 id=__codelineno-23-55 name=__codelineno-23-55></a>
<a href=#__codelineno-23-56 id=__codelineno-23-56 name=__codelineno-23-56></a>    tcgetattr(fd, &amp;Opt);
<a href=#__codelineno-23-57 id=__codelineno-23-57 name=__codelineno-23-57></a>
<a href=#__codelineno-23-58 id=__codelineno-23-58 name=__codelineno-23-58></a>    for ( i= 0; i &lt; sizeof(speed_arr) / sizeof(int); i++) {
<a href=#__codelineno-23-59 id=__codelineno-23-59 name=__codelineno-23-59></a>        if (speed == name_arr[i])
<a href=#__codelineno-23-60 id=__codelineno-23-60 name=__codelineno-23-60></a>        break;
<a href=#__codelineno-23-61 id=__codelineno-23-61 name=__codelineno-23-61></a>    }
<a href=#__codelineno-23-62 id=__codelineno-23-62 name=__codelineno-23-62></a>
<a href=#__codelineno-23-63 id=__codelineno-23-63 name=__codelineno-23-63></a>    tcflush(fd, TCIOFLUSH);
<a href=#__codelineno-23-64 id=__codelineno-23-64 name=__codelineno-23-64></a>    cfsetispeed(&amp;Opt, speed_arr[i]);
<a href=#__codelineno-23-65 id=__codelineno-23-65 name=__codelineno-23-65></a>    cfsetospeed(&amp;Opt, speed_arr[i]);
<a href=#__codelineno-23-66 id=__codelineno-23-66 name=__codelineno-23-66></a>
<a href=#__codelineno-23-67 id=__codelineno-23-67 name=__codelineno-23-67></a>    Opt.c_lflag &amp;= ~(ICANON | ECHO | ECHOE | ISIG); /*Input*/
<a href=#__codelineno-23-68 id=__codelineno-23-68 name=__codelineno-23-68></a>    Opt.c_oflag &amp;= ~OPOST; /*Output*/
<a href=#__codelineno-23-69 id=__codelineno-23-69 name=__codelineno-23-69></a>
<a href=#__codelineno-23-70 id=__codelineno-23-70 name=__codelineno-23-70></a>    status = tcsetattr(fd, TCSANOW, &amp;Opt);
<a href=#__codelineno-23-71 id=__codelineno-23-71 name=__codelineno-23-71></a>    if (status != 0) {
<a href=#__codelineno-23-72 id=__codelineno-23-72 name=__codelineno-23-72></a>        DBG("tcsetattr fd");
<a href=#__codelineno-23-73 id=__codelineno-23-73 name=__codelineno-23-73></a>        return;
<a href=#__codelineno-23-74 id=__codelineno-23-74 name=__codelineno-23-74></a>    }
<a href=#__codelineno-23-75 id=__codelineno-23-75 name=__codelineno-23-75></a>    tcflush(fd, TCIOFLUSH);
<a href=#__codelineno-23-76 id=__codelineno-23-76 name=__codelineno-23-76></a>}
<a href=#__codelineno-23-77 id=__codelineno-23-77 name=__codelineno-23-77></a>
<a href=#__codelineno-23-78 id=__codelineno-23-78 name=__codelineno-23-78></a>/**
<a href=#__codelineno-23-79 id=__codelineno-23-79 name=__codelineno-23-79></a> *@brief 设置串口数据位，停止位和效验位
<a href=#__codelineno-23-80 id=__codelineno-23-80 name=__codelineno-23-80></a> *@param fd 类型 int 打开的串口文件句柄
<a href=#__codelineno-23-81 id=__codelineno-23-81 name=__codelineno-23-81></a> *@param databits 类型 int 数据位 取值 为 7 或者8
<a href=#__codelineno-23-82 id=__codelineno-23-82 name=__codelineno-23-82></a> *@param stopbits 类型 int 停止位 取值为 1 或者2
<a href=#__codelineno-23-83 id=__codelineno-23-83 name=__codelineno-23-83></a> *@param parity 类型 int 效验类型 取值为N,E,O,,S
<a href=#__codelineno-23-84 id=__codelineno-23-84 name=__codelineno-23-84></a> */
<a href=#__codelineno-23-85 id=__codelineno-23-85 name=__codelineno-23-85></a>int set_Parity(int fd,int databits,int stopbits,int parity)
<a href=#__codelineno-23-86 id=__codelineno-23-86 name=__codelineno-23-86></a>{
<a href=#__codelineno-23-87 id=__codelineno-23-87 name=__codelineno-23-87></a>    struct termios options;
<a href=#__codelineno-23-88 id=__codelineno-23-88 name=__codelineno-23-88></a>
<a href=#__codelineno-23-89 id=__codelineno-23-89 name=__codelineno-23-89></a>    if ( tcgetattr(fd, &amp;options) != 0) {
<a href=#__codelineno-23-90 id=__codelineno-23-90 name=__codelineno-23-90></a>        perror("SetupSerial 1");
<a href=#__codelineno-23-91 id=__codelineno-23-91 name=__codelineno-23-91></a>        return -1;
<a href=#__codelineno-23-92 id=__codelineno-23-92 name=__codelineno-23-92></a>    }
<a href=#__codelineno-23-93 id=__codelineno-23-93 name=__codelineno-23-93></a>    options.c_cflag &amp;= ~CSIZE;
<a href=#__codelineno-23-94 id=__codelineno-23-94 name=__codelineno-23-94></a>
<a href=#__codelineno-23-95 id=__codelineno-23-95 name=__codelineno-23-95></a>    switch (databits) /*设置数据位数*/
<a href=#__codelineno-23-96 id=__codelineno-23-96 name=__codelineno-23-96></a>    {
<a href=#__codelineno-23-97 id=__codelineno-23-97 name=__codelineno-23-97></a>        case 7:
<a href=#__codelineno-23-98 id=__codelineno-23-98 name=__codelineno-23-98></a>            options.c_cflag |= CS7;
<a href=#__codelineno-23-99 id=__codelineno-23-99 name=__codelineno-23-99></a>            break;
<a href=#__codelineno-23-100 id=__codelineno-23-100 name=__codelineno-23-100></a>        case 8:
<a href=#__codelineno-23-101 id=__codelineno-23-101 name=__codelineno-23-101></a>            options.c_cflag |= CS8;
<a href=#__codelineno-23-102 id=__codelineno-23-102 name=__codelineno-23-102></a>            break;
<a href=#__codelineno-23-103 id=__codelineno-23-103 name=__codelineno-23-103></a>        default:
<a href=#__codelineno-23-104 id=__codelineno-23-104 name=__codelineno-23-104></a>            fprintf(stderr,"Unsupported data size\n");
<a href=#__codelineno-23-105 id=__codelineno-23-105 name=__codelineno-23-105></a>            return -1;
<a href=#__codelineno-23-106 id=__codelineno-23-106 name=__codelineno-23-106></a>    }
<a href=#__codelineno-23-107 id=__codelineno-23-107 name=__codelineno-23-107></a>
<a href=#__codelineno-23-108 id=__codelineno-23-108 name=__codelineno-23-108></a>    switch (parity)
<a href=#__codelineno-23-109 id=__codelineno-23-109 name=__codelineno-23-109></a>    {
<a href=#__codelineno-23-110 id=__codelineno-23-110 name=__codelineno-23-110></a>        case 'n':
<a href=#__codelineno-23-111 id=__codelineno-23-111 name=__codelineno-23-111></a>        case 'N':
<a href=#__codelineno-23-112 id=__codelineno-23-112 name=__codelineno-23-112></a>            options.c_cflag &amp;= ~PARENB; /* Clear parity enable */
<a href=#__codelineno-23-113 id=__codelineno-23-113 name=__codelineno-23-113></a>            options.c_iflag &amp;= ~INPCK; /* Enable parity checking */
<a href=#__codelineno-23-114 id=__codelineno-23-114 name=__codelineno-23-114></a>            break;
<a href=#__codelineno-23-115 id=__codelineno-23-115 name=__codelineno-23-115></a>        case 'o':
<a href=#__codelineno-23-116 id=__codelineno-23-116 name=__codelineno-23-116></a>        case 'O':
<a href=#__codelineno-23-117 id=__codelineno-23-117 name=__codelineno-23-117></a>            options.c_cflag |= (PARODD | PARENB); /* 设置为奇效验*/
<a href=#__codelineno-23-118 id=__codelineno-23-118 name=__codelineno-23-118></a>            options.c_iflag |= INPCK; /* Disnable parity checking */
<a href=#__codelineno-23-119 id=__codelineno-23-119 name=__codelineno-23-119></a>            break;
<a href=#__codelineno-23-120 id=__codelineno-23-120 name=__codelineno-23-120></a>        case 'e':
<a href=#__codelineno-23-121 id=__codelineno-23-121 name=__codelineno-23-121></a>        case 'E':
<a href=#__codelineno-23-122 id=__codelineno-23-122 name=__codelineno-23-122></a>            options.c_cflag |= PARENB; /* Enable parity */
<a href=#__codelineno-23-123 id=__codelineno-23-123 name=__codelineno-23-123></a>            options.c_cflag &amp;= ~PARODD; /* 转换为偶效验*/
<a href=#__codelineno-23-124 id=__codelineno-23-124 name=__codelineno-23-124></a>            options.c_iflag |= INPCK; /* Disnable parity checking */
<a href=#__codelineno-23-125 id=__codelineno-23-125 name=__codelineno-23-125></a>            break;
<a href=#__codelineno-23-126 id=__codelineno-23-126 name=__codelineno-23-126></a>        case 'S':
<a href=#__codelineno-23-127 id=__codelineno-23-127 name=__codelineno-23-127></a>        case 's': /*as no parity*/
<a href=#__codelineno-23-128 id=__codelineno-23-128 name=__codelineno-23-128></a>            options.c_cflag &amp;= ~PARENB;
<a href=#__codelineno-23-129 id=__codelineno-23-129 name=__codelineno-23-129></a>            options.c_cflag &amp;= ~CSTOPB;break;
<a href=#__codelineno-23-130 id=__codelineno-23-130 name=__codelineno-23-130></a>        default:
<a href=#__codelineno-23-131 id=__codelineno-23-131 name=__codelineno-23-131></a>            fprintf(stderr,"Unsupported parity\n");
<a href=#__codelineno-23-132 id=__codelineno-23-132 name=__codelineno-23-132></a>            return -1;
<a href=#__codelineno-23-133 id=__codelineno-23-133 name=__codelineno-23-133></a>    }
<a href=#__codelineno-23-134 id=__codelineno-23-134 name=__codelineno-23-134></a>
<a href=#__codelineno-23-135 id=__codelineno-23-135 name=__codelineno-23-135></a>    /* 设置停止位*/
<a href=#__codelineno-23-136 id=__codelineno-23-136 name=__codelineno-23-136></a>    switch (stopbits)
<a href=#__codelineno-23-137 id=__codelineno-23-137 name=__codelineno-23-137></a>    {
<a href=#__codelineno-23-138 id=__codelineno-23-138 name=__codelineno-23-138></a>        case 1:
<a href=#__codelineno-23-139 id=__codelineno-23-139 name=__codelineno-23-139></a>            options.c_cflag &amp;= ~CSTOPB;
<a href=#__codelineno-23-140 id=__codelineno-23-140 name=__codelineno-23-140></a>            break;
<a href=#__codelineno-23-141 id=__codelineno-23-141 name=__codelineno-23-141></a>        case 2:
<a href=#__codelineno-23-142 id=__codelineno-23-142 name=__codelineno-23-142></a>            options.c_cflag |= CSTOPB;
<a href=#__codelineno-23-143 id=__codelineno-23-143 name=__codelineno-23-143></a>            break;
<a href=#__codelineno-23-144 id=__codelineno-23-144 name=__codelineno-23-144></a>        default:
<a href=#__codelineno-23-145 id=__codelineno-23-145 name=__codelineno-23-145></a>            fprintf(stderr,"Unsupported stop bits\n");
<a href=#__codelineno-23-146 id=__codelineno-23-146 name=__codelineno-23-146></a>            return -1;
<a href=#__codelineno-23-147 id=__codelineno-23-147 name=__codelineno-23-147></a>    }
<a href=#__codelineno-23-148 id=__codelineno-23-148 name=__codelineno-23-148></a>
<a href=#__codelineno-23-149 id=__codelineno-23-149 name=__codelineno-23-149></a>    /* Set input parity option */
<a href=#__codelineno-23-150 id=__codelineno-23-150 name=__codelineno-23-150></a>    if (parity != 'n')
<a href=#__codelineno-23-151 id=__codelineno-23-151 name=__codelineno-23-151></a>        options.c_iflag |= INPCK;
<a href=#__codelineno-23-152 id=__codelineno-23-152 name=__codelineno-23-152></a>    tcflush(fd,TCIFLUSH);
<a href=#__codelineno-23-153 id=__codelineno-23-153 name=__codelineno-23-153></a>    options.c_cc[VTIME] = 150; /* 设置超时15 seconds*/
<a href=#__codelineno-23-154 id=__codelineno-23-154 name=__codelineno-23-154></a>    options.c_cc[VMIN] = 0;    /* Update the options and do it NOW */
<a href=#__codelineno-23-155 id=__codelineno-23-155 name=__codelineno-23-155></a>    if (tcsetattr(fd,TCSANOW,&amp;options) != 0)
<a href=#__codelineno-23-156 id=__codelineno-23-156 name=__codelineno-23-156></a>    {
<a href=#__codelineno-23-157 id=__codelineno-23-157 name=__codelineno-23-157></a>        perror("SetupSerial 3");
<a href=#__codelineno-23-158 id=__codelineno-23-158 name=__codelineno-23-158></a>        return -1;
<a href=#__codelineno-23-159 id=__codelineno-23-159 name=__codelineno-23-159></a>    }
<a href=#__codelineno-23-160 id=__codelineno-23-160 name=__codelineno-23-160></a>    return 0;
<a href=#__codelineno-23-161 id=__codelineno-23-161 name=__codelineno-23-161></a>}
<a href=#__codelineno-23-162 id=__codelineno-23-162 name=__codelineno-23-162></a>
<a href=#__codelineno-23-163 id=__codelineno-23-163 name=__codelineno-23-163></a>void str_print(char *buf, int len)
<a href=#__codelineno-23-164 id=__codelineno-23-164 name=__codelineno-23-164></a>{
<a href=#__codelineno-23-165 id=__codelineno-23-165 name=__codelineno-23-165></a>    int i;
<a href=#__codelineno-23-166 id=__codelineno-23-166 name=__codelineno-23-166></a>
<a href=#__codelineno-23-167 id=__codelineno-23-167 name=__codelineno-23-167></a>    for (i=0; i&lt;len; i++) {
<a href=#__codelineno-23-168 id=__codelineno-23-168 name=__codelineno-23-168></a>        if (i%10 == 0)
<a href=#__codelineno-23-169 id=__codelineno-23-169 name=__codelineno-23-169></a>            printf("\n");
<a href=#__codelineno-23-170 id=__codelineno-23-170 name=__codelineno-23-170></a>
<a href=#__codelineno-23-171 id=__codelineno-23-171 name=__codelineno-23-171></a>        printf("0x%02x ", buf[i]);
<a href=#__codelineno-23-172 id=__codelineno-23-172 name=__codelineno-23-172></a>    }
<a href=#__codelineno-23-173 id=__codelineno-23-173 name=__codelineno-23-173></a>    printf("\n");
<a href=#__codelineno-23-174 id=__codelineno-23-174 name=__codelineno-23-174></a>}
<a href=#__codelineno-23-175 id=__codelineno-23-175 name=__codelineno-23-175></a>
<a href=#__codelineno-23-176 id=__codelineno-23-176 name=__codelineno-23-176></a>int main(int argc, char **argv)
<a href=#__codelineno-23-177 id=__codelineno-23-177 name=__codelineno-23-177></a>{
<a href=#__codelineno-23-178 id=__codelineno-23-178 name=__codelineno-23-178></a>    int i = 0;
<a href=#__codelineno-23-179 id=__codelineno-23-179 name=__codelineno-23-179></a>    int fd = 0;
<a href=#__codelineno-23-180 id=__codelineno-23-180 name=__codelineno-23-180></a>    int cnt = 0;
<a href=#__codelineno-23-181 id=__codelineno-23-181 name=__codelineno-23-181></a>    char buf[256];
<a href=#__codelineno-23-182 id=__codelineno-23-182 name=__codelineno-23-182></a>
<a href=#__codelineno-23-183 id=__codelineno-23-183 name=__codelineno-23-183></a>    int ret;
<a href=#__codelineno-23-184 id=__codelineno-23-184 name=__codelineno-23-184></a>    fd_set rd_fdset;
<a href=#__codelineno-23-185 id=__codelineno-23-185 name=__codelineno-23-185></a>    struct timeval dly_tm; // delay time in select()
<a href=#__codelineno-23-186 id=__codelineno-23-186 name=__codelineno-23-186></a>
<a href=#__codelineno-23-187 id=__codelineno-23-187 name=__codelineno-23-187></a>    if (argc != PT_NUM) {
<a href=#__codelineno-23-188 id=__codelineno-23-188 name=__codelineno-23-188></a>        usage();
<a href=#__codelineno-23-189 id=__codelineno-23-189 name=__codelineno-23-189></a>        return -1;
<a href=#__codelineno-23-190 id=__codelineno-23-190 name=__codelineno-23-190></a>    }
<a href=#__codelineno-23-191 id=__codelineno-23-191 name=__codelineno-23-191></a>
<a href=#__codelineno-23-192 id=__codelineno-23-192 name=__codelineno-23-192></a>    sscanf(argv[PT_CYCLE], "%d", &amp;cnt);
<a href=#__codelineno-23-193 id=__codelineno-23-193 name=__codelineno-23-193></a>    if (cnt == 0)
<a href=#__codelineno-23-194 id=__codelineno-23-194 name=__codelineno-23-194></a>        cnt = 0xFFFF;
<a href=#__codelineno-23-195 id=__codelineno-23-195 name=__codelineno-23-195></a>
<a href=#__codelineno-23-196 id=__codelineno-23-196 name=__codelineno-23-196></a>    fd = OpenDev(argv[PT_DEV_NAME]);
<a href=#__codelineno-23-197 id=__codelineno-23-197 name=__codelineno-23-197></a>    if (fd &lt; 0)
<a href=#__codelineno-23-198 id=__codelineno-23-198 name=__codelineno-23-198></a>        return -1;
<a href=#__codelineno-23-199 id=__codelineno-23-199 name=__codelineno-23-199></a>
<a href=#__codelineno-23-200 id=__codelineno-23-200 name=__codelineno-23-200></a>    set_speed(fd,19200);
<a href=#__codelineno-23-201 id=__codelineno-23-201 name=__codelineno-23-201></a>    if (set_Parity(fd,8,1,'N') == -1) {
<a href=#__codelineno-23-202 id=__codelineno-23-202 name=__codelineno-23-202></a>        printf("Set Parity Error\n");
<a href=#__codelineno-23-203 id=__codelineno-23-203 name=__codelineno-23-203></a>        exit (0);
<a href=#__codelineno-23-204 id=__codelineno-23-204 name=__codelineno-23-204></a>    }
<a href=#__codelineno-23-205 id=__codelineno-23-205 name=__codelineno-23-205></a>
<a href=#__codelineno-23-206 id=__codelineno-23-206 name=__codelineno-23-206></a>    printf("Select(%s), Cnt %d. \n", argv[PT_DEV_NAME], cnt);
<a href=#__codelineno-23-207 id=__codelineno-23-207 name=__codelineno-23-207></a>    while (i&lt;cnt) {
<a href=#__codelineno-23-208 id=__codelineno-23-208 name=__codelineno-23-208></a>        FD_ZERO(&amp;rd_fdset);
<a href=#__codelineno-23-209 id=__codelineno-23-209 name=__codelineno-23-209></a>        FD_SET(fd, &amp;rd_fdset);
<a href=#__codelineno-23-210 id=__codelineno-23-210 name=__codelineno-23-210></a>
<a href=#__codelineno-23-211 id=__codelineno-23-211 name=__codelineno-23-211></a>        dly_tm.tv_sec = 5;
<a href=#__codelineno-23-212 id=__codelineno-23-212 name=__codelineno-23-212></a>        dly_tm.tv_usec = 0;
<a href=#__codelineno-23-213 id=__codelineno-23-213 name=__codelineno-23-213></a>        memset(buf, 0, 256);
<a href=#__codelineno-23-214 id=__codelineno-23-214 name=__codelineno-23-214></a>
<a href=#__codelineno-23-215 id=__codelineno-23-215 name=__codelineno-23-215></a>        ret = select(fd+1, &amp;rd_fdset, NULL, NULL, &amp;dly_tm);
<a href=#__codelineno-23-216 id=__codelineno-23-216 name=__codelineno-23-216></a>        // DBG("select() return %d, fd = %d", ret, fd);
<a href=#__codelineno-23-217 id=__codelineno-23-217 name=__codelineno-23-217></a>        if (ret == 0)
<a href=#__codelineno-23-218 id=__codelineno-23-218 name=__codelineno-23-218></a>            continue;
<a href=#__codelineno-23-219 id=__codelineno-23-219 name=__codelineno-23-219></a>
<a href=#__codelineno-23-220 id=__codelineno-23-220 name=__codelineno-23-220></a>        if (ret &lt; 0) {
<a href=#__codelineno-23-221 id=__codelineno-23-221 name=__codelineno-23-221></a>            printf("select(%s) return %d. [%d]: %s \n", argv[PT_DEV_NAME], ret, errno,
<a href=#__codelineno-23-222 id=__codelineno-23-222 name=__codelineno-23-222></a>            strerror(errno));
<a href=#__codelineno-23-223 id=__codelineno-23-223 name=__codelineno-23-223></a>            continue;
<a href=#__codelineno-23-224 id=__codelineno-23-224 name=__codelineno-23-224></a>        }
<a href=#__codelineno-23-225 id=__codelineno-23-225 name=__codelineno-23-225></a>
<a href=#__codelineno-23-226 id=__codelineno-23-226 name=__codelineno-23-226></a>        i++;
<a href=#__codelineno-23-227 id=__codelineno-23-227 name=__codelineno-23-227></a>        ret = read(fd, buf, 256);
<a href=#__codelineno-23-228 id=__codelineno-23-228 name=__codelineno-23-228></a>
<a href=#__codelineno-23-229 id=__codelineno-23-229 name=__codelineno-23-229></a>        printf("Cnt%d: read(%s) return %d.\n", i, argv[PT_DEV_NAME], ret);
<a href=#__codelineno-23-230 id=__codelineno-23-230 name=__codelineno-23-230></a>        str_print(buf, ret);
<a href=#__codelineno-23-231 id=__codelineno-23-231 name=__codelineno-23-231></a>    }
<a href=#__codelineno-23-232 id=__codelineno-23-232 name=__codelineno-23-232></a>
<a href=#__codelineno-23-233 id=__codelineno-23-233 name=__codelineno-23-233></a>    close(fd);
<a href=#__codelineno-23-234 id=__codelineno-23-234 name=__codelineno-23-234></a>    return 0;
<a href=#__codelineno-23-235 id=__codelineno-23-235 name=__codelineno-23-235></a>}
</code></pre></div> <h2 id=6-faq>6 FAQ</h2> <h3 id=61-uart>6.1 UART 调试打印开关</h3> <h4 id=611-debugfs>6.1.1 通过 debugfs 使用命令打开调试开关</h4> <p>注：内核需打开 CONFIG_DYNAMIC_DEBUG 宏定义</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-24-1 id=__codelineno-24-1 name=__codelineno-24-1></a>1.挂载debugfs。 
<a href=#__codelineno-24-2 id=__codelineno-24-2 name=__codelineno-24-2></a>mount -t debugfs none /sys/kernel/debug
<a href=#__codelineno-24-3 id=__codelineno-24-3 name=__codelineno-24-3></a>2.打开uart模块所有打印。
<a href=#__codelineno-24-4 id=__codelineno-24-4 name=__codelineno-24-4></a>echo "module sunxi_uart +p" &gt; /mnt/dynamic_debug/control
<a href=#__codelineno-24-5 id=__codelineno-24-5 name=__codelineno-24-5></a>3.打开指定文件的所有打印。
<a href=#__codelineno-24-6 id=__codelineno-24-6 name=__codelineno-24-6></a>echo "file sunxi-uart.c +p" &gt; /mnt/dynamic_debug/control
<a href=#__codelineno-24-7 id=__codelineno-24-7 name=__codelineno-24-7></a>4.打开指定文件指定行的打印。
<a href=#__codelineno-24-8 id=__codelineno-24-8 name=__codelineno-24-8></a>echo "file sunxi-uart.c line 615 +p" &gt; /mnt/dynamic_debug/control
<a href=#__codelineno-24-9 id=__codelineno-24-9 name=__codelineno-24-9></a>5.打开指定函数名的打印。
<a href=#__codelineno-24-10 id=__codelineno-24-10 name=__codelineno-24-10></a>echo "func sw_uart_set_termios +p" &gt; /mnt/dynamic_debug/control
<a href=#__codelineno-24-11 id=__codelineno-24-11 name=__codelineno-24-11></a>6.关闭打印。
<a href=#__codelineno-24-12 id=__codelineno-24-12 name=__codelineno-24-12></a>把上面相应命令中的+p 修改为-p 即可。
<a href=#__codelineno-24-13 id=__codelineno-24-13 name=__codelineno-24-13></a>更多信息可参考linux 内核文档：linux-3.10/Documentation/dynamic-debug-howto.txt。
</code></pre></div> <h4 id=612>6.1.2 代码中打开调试开关</h4> <div class=highlight><pre><span></span><code><a href=#__codelineno-25-1 id=__codelineno-25-1 name=__codelineno-25-1></a>1.定义CONFIG_SERIAL_DEBUG宏。
<a href=#__codelineno-25-2 id=__codelineno-25-2 name=__codelineno-25-2></a>linux-4.9 内核版本中默认没有定义CONFIG_SERIAL_DEBUG ， 需要自行在
<a href=#__codelineno-25-3 id=__codelineno-25-3 name=__codelineno-25-3></a>drivers/tty/serial/Kconfig 中添加CONFIG_SERIAL_DEBUG 定义，然后drivers/tty/serial/Makefile文件中添加代码ccflags-$(CONFIG_SERIAL_DEBUG) := -DDEBUG。 
<a href=#__codelineno-25-4 id=__codelineno-25-4 name=__codelineno-25-4></a>注：使用该宏，需要内核关闭CONFIG_DYNAMIC_DEBUG宏。
</code></pre></div> <h4 id=613-sysfs>6.1.3 sysfs 调试接口</h4> <p>UART 驱动通过 sysfs 节点提供了几个在线调试的接口</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-26-1 id=__codelineno-26-1 name=__codelineno-26-1></a>1./sys/devices/platform/soc/uart0/dev_info
<a href=#__codelineno-26-2 id=__codelineno-26-2 name=__codelineno-26-2></a>
<a href=#__codelineno-26-3 id=__codelineno-26-3 name=__codelineno-26-3></a>cupid-p2:/ # cat /sys/devices/platform/soc/uart0/dev_info
<a href=#__codelineno-26-4 id=__codelineno-26-4 name=__codelineno-26-4></a>id = 0
<a href=#__codelineno-26-5 id=__codelineno-26-5 name=__codelineno-26-5></a>name = uart0
<a href=#__codelineno-26-6 id=__codelineno-26-6 name=__codelineno-26-6></a>irq = 247
<a href=#__codelineno-26-7 id=__codelineno-26-7 name=__codelineno-26-7></a>io_num = 2
<a href=#__codelineno-26-8 id=__codelineno-26-8 name=__codelineno-26-8></a>port-&gt;mapbase = 0x0000000005000000
<a href=#__codelineno-26-9 id=__codelineno-26-9 name=__codelineno-26-9></a>port-&gt;membase = 0xffffff800b005000
<a href=#__codelineno-26-10 id=__codelineno-26-10 name=__codelineno-26-10></a>port-&gt;iobase = 0x00000000
<a href=#__codelineno-26-11 id=__codelineno-26-11 name=__codelineno-26-11></a>pdata-&gt;regulator = 0x (null)
<a href=#__codelineno-26-12 id=__codelineno-26-12 name=__codelineno-26-12></a>pdata-&gt;regulator_id =
<a href=#__codelineno-26-13 id=__codelineno-26-13 name=__codelineno-26-13></a>
<a href=#__codelineno-26-14 id=__codelineno-26-14 name=__codelineno-26-14></a>从该节点可以看到uart端口的一些硬件资源信息。
<a href=#__codelineno-26-15 id=__codelineno-26-15 name=__codelineno-26-15></a>
<a href=#__codelineno-26-16 id=__codelineno-26-16 name=__codelineno-26-16></a>2./sys/devices/platform/soc/uart0/ctrl_info
<a href=#__codelineno-26-17 id=__codelineno-26-17 name=__codelineno-26-17></a>cupid-p2:/ # cat /sys/devices/platform/soc/uart0/ctrl_info
<a href=#__codelineno-26-18 id=__codelineno-26-18 name=__codelineno-26-18></a>ier : 0x05
<a href=#__codelineno-26-19 id=__codelineno-26-19 name=__codelineno-26-19></a>lcr : 0x13
<a href=#__codelineno-26-20 id=__codelineno-26-20 name=__codelineno-26-20></a>mcr : 0x03
<a href=#__codelineno-26-21 id=__codelineno-26-21 name=__codelineno-26-21></a>fcr : 0xb1
<a href=#__codelineno-26-22 id=__codelineno-26-22 name=__codelineno-26-22></a>dll : 0x0d
<a href=#__codelineno-26-23 id=__codelineno-26-23 name=__codelineno-26-23></a>dlh : 0x00
<a href=#__codelineno-26-24 id=__codelineno-26-24 name=__codelineno-26-24></a>last baud : 115384 (dl = 13)
<a href=#__codelineno-26-25 id=__codelineno-26-25 name=__codelineno-26-25></a>
<a href=#__codelineno-26-26 id=__codelineno-26-26 name=__codelineno-26-26></a>TxRx Statistics:
<a href=#__codelineno-26-27 id=__codelineno-26-27 name=__codelineno-26-27></a>tx : 61123
<a href=#__codelineno-26-28 id=__codelineno-26-28 name=__codelineno-26-28></a>rx : 351
<a href=#__codelineno-26-29 id=__codelineno-26-29 name=__codelineno-26-29></a>parity : 0
<a href=#__codelineno-26-30 id=__codelineno-26-30 name=__codelineno-26-30></a>frame : 0
<a href=#__codelineno-26-31 id=__codelineno-26-31 name=__codelineno-26-31></a>overrun: 0
<a href=#__codelineno-26-32 id=__codelineno-26-32 name=__codelineno-26-32></a>
<a href=#__codelineno-26-33 id=__codelineno-26-33 name=__codelineno-26-33></a>此节点可以打印出软件中保存的一些控制信息，如当前UART 端口的寄存器值、收发数据的统计等。
<a href=#__codelineno-26-34 id=__codelineno-26-34 name=__codelineno-26-34></a>
<a href=#__codelineno-26-35 id=__codelineno-26-35 name=__codelineno-26-35></a>3./sys/devices/platform/soc/uart0/status
<a href=#__codelineno-26-36 id=__codelineno-26-36 name=__codelineno-26-36></a>cupid-p2:/ # cat /sys/devices/platform/soc/uart0/status
<a href=#__codelineno-26-37 id=__codelineno-26-37 name=__codelineno-26-37></a>uartclk = 24000000
<a href=#__codelineno-26-38 id=__codelineno-26-38 name=__codelineno-26-38></a>The Uart controller register[Base: 0xffffff800b005000]:
<a href=#__codelineno-26-39 id=__codelineno-26-39 name=__codelineno-26-39></a>[RTX] 0x00 = 0x0000000d, [IER] 0x04 = 0x00000005, [FCR] 0x08 = 0x000000c1
<a href=#__codelineno-26-40 id=__codelineno-26-40 name=__codelineno-26-40></a>[LCR] 0x0c = 0x00000013, [MCR] 0x10 = 0x00000003, [LSR] 0x14 = 0x00000060
<a href=#__codelineno-26-41 id=__codelineno-26-41 name=__codelineno-26-41></a>[MSR] 0x18 = 0x00000000, [SCH] 0x1c = 0x00000000, [USR] 0x7c = 0x00000006
<a href=#__codelineno-26-42 id=__codelineno-26-42 name=__codelineno-26-42></a>[TFL] 0x80 = 0x00000000, [RFL] 0x84 = 0x00000000, [HALT] 0xa4 = 0x00000002
<a href=#__codelineno-26-43 id=__codelineno-26-43 name=__codelineno-26-43></a>
<a href=#__codelineno-26-44 id=__codelineno-26-44 name=__codelineno-26-44></a>此节点可以打印出当前UART 端口的一些运行状态信息，包括控制器的各寄存器值。
</code></pre></div> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by using our <a href=... target=_blank>feedback form</a>. </div> </div> </div> </fieldset> </form> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg> 回到页面顶部 </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2008 - 2022 100ask Team </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["content.code.annotate", "header.autohide", "navigation.indexes", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../assets/javascripts/bundle.13a4f30d.min.js></script> <script src=https://unpkg.com/d3@6.7.0/dist/d3.min.js></script> <script src=https://unpkg.com/markmap-lib@0.14.1/dist/browser/index.min.js></script> <script src=https://unpkg.com/markmap-view@0.14.0/dist/index.min.js></script> </body> </html>