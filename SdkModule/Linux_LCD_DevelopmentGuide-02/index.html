<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Tina SDK Docs Start Page."><meta name=author content=100askTeam><link href=https://github.com/DongshanPI/TinaSDK-Docs.git/SdkModule/Linux_LCD_DevelopmentGuide-02/ rel=canonical><link href=../Linux_LCD_DevelopmentGuide-01/ rel=prev><link href=../Linux_LCD_DevelopmentGuide-03/ rel=next><link rel=icon href=../../favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.14"><title>模块介绍 - 全志Linux Tina-SDK开发完全手册</title><link rel=stylesheet href=../../assets/stylesheets/main.342714a4.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-LZX4K52CZ1"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-LZX4K52CZ1",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-LZX4K52CZ1",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#4 class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=https://tina.100ask.net title="全志Linux Tina-SDK开发完全手册" class="md-header__button md-logo" aria-label="全志Linux Tina-SDK开发完全手册" data-md-component=logo> <svg id=图层_1 data-name="图层 1" xmlns=http://www.w3.org/2000/svg viewbox="0 0 400 400"><defs><style>.cls-1{fill:#151f45;fill-rule:evenodd;}</style></defs><title>东山派1号LOGO定稿</title><path class=cls-1 d=M339.43,62.45A195.41,195.41,0,0,0,61.92,337.64l-.08.2.55.27.67.67A195.41,195.41,0,1,0,339.43,62.45ZM208.26,19.36a181,181,0,0,1,121.26,53c2.44,2.48,4.83,5,7.15,7.59H208.26Zm0,166.87h44.23v-14H208.26v-35.9H269l5.19,0c11.24-.11,20.56-.23,30.47,6.14,20.17,12.89,15.49,40.5,15.49,40.57l-.08.44c-3.18,34.71-41.83,31.18-42,31.18l-.55,0H208.26ZM19.89,200.62A181.39,181.39,0,0,1,194.22,19.36V80H149.68c-4,0-6.06,0-8.22-.08-11-.23-23.75-.47-33.26,1.77C100.61,83.45,92.12,86.91,85,93.52s-12.58,16.31-13.88,30.35h.08a10.59,10.59,0,0,0-.36,1.53c-.15,1.34-.35,3.23-.43,5.51-.39,11.71,2,34.28,23.28,47.3,14.43,8.8,28.58,8.49,43.6,8.14,2.24,0,4.52-.12,8.49-.12h48.4v28.31H20.4C20.05,209.94,19.89,205.3,19.89,200.62Zm174.33-64.33v35.9h-48.4c-1.88,0-5.34.12-8.76.2-12.9.27-25.09.55-36-6.14C85.83,157,84.13,140.11,84.45,131.34l0-1.22.12,0,.47-5C86,115,89.76,108.22,94.59,103.7s11.13-7.08,16.79-8.42c8-1.84,19.74-1.65,29.84-1.45,3.7.08,7.32.16,8.46.16h44.54v28.27H152.67v14ZM22,228.57H194.22v19.07A157.63,157.63,0,0,0,68.88,324.59,180.64,180.64,0,0,1,22,228.57ZM294.92,356c-.59.4-1.18.75-1.81,1.1-.9.55-1.85,1.11-2.79,1.58a6.64,6.64,0,0,1-.95.55,181.66,181.66,0,0,1-176.3,0c-.27-.16-.59-.32-.86-.47-.91-.51-1.81-1.07-2.72-1.58l-2-1.18a180,180,0,0,1-28.31-21.15,143.82,143.82,0,0,1,248.49-4.09A179.72,179.72,0,0,1,294.92,356Zm42.74-35.78a158,158,0,0,0-129.4-72.85V228.57h69.12c4.6.32,52.1,2.52,56.58-43.6.36-2.36,5.27-37.08-21.74-54.38-13.41-8.61-24.65-8.49-38.14-8.33H208.26V94H348a181.41,181.41,0,0,1-10.34,226.19Z /><path class=cls-1 d=M294.92,356a30,30,0,0,1-3.93-2c-11.52-5-17.07-9.2-21.43-12.94-2.28-1.92-6.84-6.13-8.26-8.14-8.81-12.58-9.75-9.86-12-6-1.14,2-8.1,9.59-9.87,11.16a58,58,0,0,1-15.29,9.6,58.91,58.91,0,0,1-31.81,3.93c-33.81-5.35-34.68-28.23-45.1-27.48-3.77,10.34-23.51,25.4-36.25,30.43-1.1.43-2.24.9-3.46,1.37-1.53.59-3.11,1.18-4.8,1.69l-6,1.66c-2.52,1-1.14.35-2.28,1.33,1.37.75-.32.4,1.69.47,2.71.08,10-2.67,13.4-4l1-.39c5.46-2.16,9.55-4.64,13.76-6.8l-8.81,6.45c-.47.31-1.33.82-1.65,1l-1.53,1.3-.59.51,1.45,0,65.7-1.54-8.8-4.24c-2.84-1.77-7.16-5.35-8.65-7.9,15.09,14.15,42.73,17.45,64.12,9.55,4.76-1.77,13.37-6.84,15.77-9.52-6.09,8.22-11.8,9.17-18.13,12.47-1.73.86-.9.39-1.8,1.1l68.09.12h1.5a7.13,7.13,0,0,0-.55-.55c-2.68-2.4-8.34-4.88-11-8.1,3.81,1.69,8.65,4.28,13.8,6.52a62.09,62.09,0,0,0,11.28,3.74,15.82,15.82,0,0,0,2,.24c1.93-.08.47.19,1.77-.44C306,358.79,299.4,357.61,294.92,356Zm-83-76.51c-1.53-2.32-2.83-4.36-4.48-7.35-8.34-15.34-9.87,2.32-22.14,16.12-7.55,8.49-22.1,19.66-32.16,22.84,1.18.95-1.46,5.47,11.6-2.75,3.77-2.36,5.86-3.81,9.16-5.86a.3.3,0,0,1-.16-.08c-.16-.15.12-.74.87-1.73a22.41,22.41,0,0,1,2.08-1.81c1-.74,2-1.49,3-2.16a24,24,0,0,1,4.05-2.2,24.51,24.51,0,0,1,4.95-1.61,24.85,24.85,0,0,1,5-.47h28.74A102.79,102.79,0,0,1,211.88,279.45Zm-24.14,18.76a20.53,20.53,0,0,0-4.41.82,34,34,0,0,0-5.11,1.93,29.38,29.38,0,0,1-3.14,1.37c-1.46,3.23-1.54,2.72-8,7.24-3.18,2.24-7.47,4.24-10.26,6.72,3.07,5.58,12.07,11.29,18.09,14.31,1.3.63,2.71,1.26,4.21,1.85a7.93,7.93,0,0,1,2.12-3.89l3.07-3.3a18.45,18.45,0,0,0,2.47-4.53,39.27,39.27,0,0,0,1.89-6.21A65.14,65.14,0,0,0,189.9,307c.28-2.71.43-4.91.43-6.6v-2.28C189.62,298.13,188.8,298.17,187.74,298.21Zm61.06,14.94.78-1.3a59.82,59.82,0,0,1-11.08-5.94c-.47-.27-.91-.59-1.38-.86-1.22-.75-2.44-1.62-3.66-2.52-.59-.43-.94-.71-.94-.71-2.28-1.81-4.56-3.81-6.76-5.93v2.24h-10.7c-.47,1.81-.82,3.3-1,4.44a53.25,53.25,0,0,0-.63,5.7,71.55,71.55,0,0,0-.23,8.22c0,2.12.15,4.17.35,6.21s.43,3.74.71,5.15a4.23,4.23,0,0,0,1.06,2.6,2.37,2.37,0,0,0,1.34.43,5.31,5.31,0,0,0,2-.47c1-.36,1.57-.63,2-.83a1.43,1.43,0,0,1,.94-.23,1.21,1.21,0,0,1,.71.51c.12.27-.28.7-1.3,1.33a13.2,13.2,0,0,1-1.53.83c-.59.27-1.54.75-2.83,1.41s-2.28,1.18-2.95,1.54a15.09,15.09,0,0,1-1.85.86,1.27,1.27,0,0,1-1.38-.08c-.19-.07-.43-.43-.7-1a12,12,0,0,1-.67-3.3c-.2-1.61-.32-2.95-.4-4.09s-.07-3.34-.11-6.57,0-5.54.11-7a65.82,65.82,0,0,1,1.11-7.7,35.56,35.56,0,0,1,1.53-5.74l.82-2.24h-19c0,.94,0,2.12,0,3.61s-.08,3.86-.2,7.08-.43,6.53-.87,9.75a58.42,58.42,0,0,1-1.73,8.46,30.58,30.58,0,0,1-2.28,6,6.57,6.57,0,0,1-1.29,1.89,58.67,58.67,0,0,0,15.61,2,63,63,0,0,0,26.18-6.33,51.9,51.9,0,0,0,16.16-12l0-.08a7.77,7.77,0,0,1,.63-.66l.08-.08c.23-.28.51-.55.74-.87a7.6,7.6,0,0,0,.56-.59l0,0c-6.88-5.38-16.67-9.24-19.7-15.76,6.72,4.24,11.44,8.1,19.58,11.79A10.52,10.52,0,0,0,248.8,313.15Z /><path class=cls-1 d=M94.4,356.25s1.51,13.27,20.32,7,0,.6,0,.6L152.2,340l-46.33,16.24Z /><polygon class=cls-1 points="285.18 360.33 299.87 364.24 295.9 358.28 280.17 349.47 276.37 351.72 285.18 360.33"/><path class=cls-1 d=M153.67,312.3l6.26,7.88,18.67-4.47-1.21-13-1.32-.66s-3,.14-3,.72S153.67,312.3,153.67,312.3Z /><path class=cls-1 d=M249.32,312.18l-.81,1.34c-.57.9-1.38,2.13-2.23,3.23a7.4,7.4,0,0,1-.52.65c-.25.33-.53.61-.77.9l-.08.08a6.48,6.48,0,0,0-.65.7l0,.08c-.69.61.44-.86.44-.86l-22.8-9.51,2.47-9.11,7.41,2.09,1,.73c1.25.94,2.51,1.84,3.76,2.61.49.29.93.62,1.42.9A61.07,61.07,0,0,0,249.32,312.18Z /><path class=cls-1 d=M109.89,361.78s154.27-.06,184.2,2.46l-8.8-7.65L244,340l-28.67,15.32H186.72L156.21,340s-17.87,12.11-18,12.12S109.89,361.78,109.89,361.78Z /></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 全志Linux Tina-SDK开发完全手册 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 模块介绍 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <div class=md-header__option> <div class=md-select> <button class="md-header__button md-icon" aria-label=选择当前语言> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24z"/></svg> </button> <div class=md-select__inner> <ul class=md-select__list> <li class=md-select__item> <a href=/en/ hreflang=en class=md-select__link> English </a> </li> <li class=md-select__item> <a href=/zh/ hreflang=zh class=md-select__link> 中文 </a> </li> </ul> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=查找> <a href=javascript:void(0) class="md-search__icon md-icon" title=分享 aria-label=分享 data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/DongshanPI/TinaSDK-Docs/ title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> DongshanPI/TinaSDK-Docs </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> 0.站点指南 </a> </li> <li class=md-tabs__item> <a href=../Linux_SystemSoftware_DevelopmentGuide-01/ class=md-tabs__link> 1.构建工具使用 </a> </li> <li class=md-tabs__item> <a href=../Linux_U-boot_DevelopmentGuide-01/ class=md-tabs__link> 2.Bootloader开发 </a> </li> <li class=md-tabs__item> <a href=../Linux_SID_DevelopmentGuide-01/ class=md-tabs__link> 3.Linux驱动开发 </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../Linux_PWM_DevelopmentGuide-01/ class=md-tabs__link> 4.基础组件软件库 </a> </li> <li class=md-tabs__item> <a href=../Linux_Deploy_DevelopmentGuide-01/ class=md-tabs__link> 5.系统开发 </a> </li> <li class=md-tabs__item> <a href=../../ProjectActualCombat/GUI-LvglExample-01/ class=md-tabs__link> 6.应用示例与项目 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://tina.100ask.net title="全志Linux Tina-SDK开发完全手册" class="md-nav__button md-logo" aria-label="全志Linux Tina-SDK开发完全手册" data-md-component=logo> <svg id=图层_1 data-name="图层 1" xmlns=http://www.w3.org/2000/svg viewbox="0 0 400 400"><defs><style>.cls-1{fill:#151f45;fill-rule:evenodd;}</style></defs><title>东山派1号LOGO定稿</title><path class=cls-1 d=M339.43,62.45A195.41,195.41,0,0,0,61.92,337.64l-.08.2.55.27.67.67A195.41,195.41,0,1,0,339.43,62.45ZM208.26,19.36a181,181,0,0,1,121.26,53c2.44,2.48,4.83,5,7.15,7.59H208.26Zm0,166.87h44.23v-14H208.26v-35.9H269l5.19,0c11.24-.11,20.56-.23,30.47,6.14,20.17,12.89,15.49,40.5,15.49,40.57l-.08.44c-3.18,34.71-41.83,31.18-42,31.18l-.55,0H208.26ZM19.89,200.62A181.39,181.39,0,0,1,194.22,19.36V80H149.68c-4,0-6.06,0-8.22-.08-11-.23-23.75-.47-33.26,1.77C100.61,83.45,92.12,86.91,85,93.52s-12.58,16.31-13.88,30.35h.08a10.59,10.59,0,0,0-.36,1.53c-.15,1.34-.35,3.23-.43,5.51-.39,11.71,2,34.28,23.28,47.3,14.43,8.8,28.58,8.49,43.6,8.14,2.24,0,4.52-.12,8.49-.12h48.4v28.31H20.4C20.05,209.94,19.89,205.3,19.89,200.62Zm174.33-64.33v35.9h-48.4c-1.88,0-5.34.12-8.76.2-12.9.27-25.09.55-36-6.14C85.83,157,84.13,140.11,84.45,131.34l0-1.22.12,0,.47-5C86,115,89.76,108.22,94.59,103.7s11.13-7.08,16.79-8.42c8-1.84,19.74-1.65,29.84-1.45,3.7.08,7.32.16,8.46.16h44.54v28.27H152.67v14ZM22,228.57H194.22v19.07A157.63,157.63,0,0,0,68.88,324.59,180.64,180.64,0,0,1,22,228.57ZM294.92,356c-.59.4-1.18.75-1.81,1.1-.9.55-1.85,1.11-2.79,1.58a6.64,6.64,0,0,1-.95.55,181.66,181.66,0,0,1-176.3,0c-.27-.16-.59-.32-.86-.47-.91-.51-1.81-1.07-2.72-1.58l-2-1.18a180,180,0,0,1-28.31-21.15,143.82,143.82,0,0,1,248.49-4.09A179.72,179.72,0,0,1,294.92,356Zm42.74-35.78a158,158,0,0,0-129.4-72.85V228.57h69.12c4.6.32,52.1,2.52,56.58-43.6.36-2.36,5.27-37.08-21.74-54.38-13.41-8.61-24.65-8.49-38.14-8.33H208.26V94H348a181.41,181.41,0,0,1-10.34,226.19Z /><path class=cls-1 d=M294.92,356a30,30,0,0,1-3.93-2c-11.52-5-17.07-9.2-21.43-12.94-2.28-1.92-6.84-6.13-8.26-8.14-8.81-12.58-9.75-9.86-12-6-1.14,2-8.1,9.59-9.87,11.16a58,58,0,0,1-15.29,9.6,58.91,58.91,0,0,1-31.81,3.93c-33.81-5.35-34.68-28.23-45.1-27.48-3.77,10.34-23.51,25.4-36.25,30.43-1.1.43-2.24.9-3.46,1.37-1.53.59-3.11,1.18-4.8,1.69l-6,1.66c-2.52,1-1.14.35-2.28,1.33,1.37.75-.32.4,1.69.47,2.71.08,10-2.67,13.4-4l1-.39c5.46-2.16,9.55-4.64,13.76-6.8l-8.81,6.45c-.47.31-1.33.82-1.65,1l-1.53,1.3-.59.51,1.45,0,65.7-1.54-8.8-4.24c-2.84-1.77-7.16-5.35-8.65-7.9,15.09,14.15,42.73,17.45,64.12,9.55,4.76-1.77,13.37-6.84,15.77-9.52-6.09,8.22-11.8,9.17-18.13,12.47-1.73.86-.9.39-1.8,1.1l68.09.12h1.5a7.13,7.13,0,0,0-.55-.55c-2.68-2.4-8.34-4.88-11-8.1,3.81,1.69,8.65,4.28,13.8,6.52a62.09,62.09,0,0,0,11.28,3.74,15.82,15.82,0,0,0,2,.24c1.93-.08.47.19,1.77-.44C306,358.79,299.4,357.61,294.92,356Zm-83-76.51c-1.53-2.32-2.83-4.36-4.48-7.35-8.34-15.34-9.87,2.32-22.14,16.12-7.55,8.49-22.1,19.66-32.16,22.84,1.18.95-1.46,5.47,11.6-2.75,3.77-2.36,5.86-3.81,9.16-5.86a.3.3,0,0,1-.16-.08c-.16-.15.12-.74.87-1.73a22.41,22.41,0,0,1,2.08-1.81c1-.74,2-1.49,3-2.16a24,24,0,0,1,4.05-2.2,24.51,24.51,0,0,1,4.95-1.61,24.85,24.85,0,0,1,5-.47h28.74A102.79,102.79,0,0,1,211.88,279.45Zm-24.14,18.76a20.53,20.53,0,0,0-4.41.82,34,34,0,0,0-5.11,1.93,29.38,29.38,0,0,1-3.14,1.37c-1.46,3.23-1.54,2.72-8,7.24-3.18,2.24-7.47,4.24-10.26,6.72,3.07,5.58,12.07,11.29,18.09,14.31,1.3.63,2.71,1.26,4.21,1.85a7.93,7.93,0,0,1,2.12-3.89l3.07-3.3a18.45,18.45,0,0,0,2.47-4.53,39.27,39.27,0,0,0,1.89-6.21A65.14,65.14,0,0,0,189.9,307c.28-2.71.43-4.91.43-6.6v-2.28C189.62,298.13,188.8,298.17,187.74,298.21Zm61.06,14.94.78-1.3a59.82,59.82,0,0,1-11.08-5.94c-.47-.27-.91-.59-1.38-.86-1.22-.75-2.44-1.62-3.66-2.52-.59-.43-.94-.71-.94-.71-2.28-1.81-4.56-3.81-6.76-5.93v2.24h-10.7c-.47,1.81-.82,3.3-1,4.44a53.25,53.25,0,0,0-.63,5.7,71.55,71.55,0,0,0-.23,8.22c0,2.12.15,4.17.35,6.21s.43,3.74.71,5.15a4.23,4.23,0,0,0,1.06,2.6,2.37,2.37,0,0,0,1.34.43,5.31,5.31,0,0,0,2-.47c1-.36,1.57-.63,2-.83a1.43,1.43,0,0,1,.94-.23,1.21,1.21,0,0,1,.71.51c.12.27-.28.7-1.3,1.33a13.2,13.2,0,0,1-1.53.83c-.59.27-1.54.75-2.83,1.41s-2.28,1.18-2.95,1.54a15.09,15.09,0,0,1-1.85.86,1.27,1.27,0,0,1-1.38-.08c-.19-.07-.43-.43-.7-1a12,12,0,0,1-.67-3.3c-.2-1.61-.32-2.95-.4-4.09s-.07-3.34-.11-6.57,0-5.54.11-7a65.82,65.82,0,0,1,1.11-7.7,35.56,35.56,0,0,1,1.53-5.74l.82-2.24h-19c0,.94,0,2.12,0,3.61s-.08,3.86-.2,7.08-.43,6.53-.87,9.75a58.42,58.42,0,0,1-1.73,8.46,30.58,30.58,0,0,1-2.28,6,6.57,6.57,0,0,1-1.29,1.89,58.67,58.67,0,0,0,15.61,2,63,63,0,0,0,26.18-6.33,51.9,51.9,0,0,0,16.16-12l0-.08a7.77,7.77,0,0,1,.63-.66l.08-.08c.23-.28.51-.55.74-.87a7.6,7.6,0,0,0,.56-.59l0,0c-6.88-5.38-16.67-9.24-19.7-15.76,6.72,4.24,11.44,8.1,19.58,11.79A10.52,10.52,0,0,0,248.8,313.15Z /><path class=cls-1 d=M94.4,356.25s1.51,13.27,20.32,7,0,.6,0,.6L152.2,340l-46.33,16.24Z /><polygon class=cls-1 points="285.18 360.33 299.87 364.24 295.9 358.28 280.17 349.47 276.37 351.72 285.18 360.33"/><path class=cls-1 d=M153.67,312.3l6.26,7.88,18.67-4.47-1.21-13-1.32-.66s-3,.14-3,.72S153.67,312.3,153.67,312.3Z /><path class=cls-1 d=M249.32,312.18l-.81,1.34c-.57.9-1.38,2.13-2.23,3.23a7.4,7.4,0,0,1-.52.65c-.25.33-.53.61-.77.9l-.08.08a6.48,6.48,0,0,0-.65.7l0,.08c-.69.61.44-.86.44-.86l-22.8-9.51,2.47-9.11,7.41,2.09,1,.73c1.25.94,2.51,1.84,3.76,2.61.49.29.93.62,1.42.9A61.07,61.07,0,0,0,249.32,312.18Z /><path class=cls-1 d=M109.89,361.78s154.27-.06,184.2,2.46l-8.8-7.65L244,340l-28.67,15.32H186.72L156.21,340s-17.87,12.11-18,12.12S109.89,361.78,109.89,361.78Z /></svg> </a> 全志Linux Tina-SDK开发完全手册 </label> <div class=md-nav__source> <a href=https://github.com/DongshanPI/TinaSDK-Docs/ title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> DongshanPI/TinaSDK-Docs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <div class="md-nav__link md-nav__container"> <a href=../.. class="md-nav__link "> <span class=md-ellipsis> 0.站点指南 </span> </a> <label class="md-nav__link " for=__nav_1 id=__nav_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> 0.站点指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../SupportHardware/ class=md-nav__link> <span class=md-ellipsis> 配套硬件 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> 1.构建工具使用 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> 1.构建工具使用 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class=md-ellipsis> TinaSDK_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> TinaSDK_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_SystemSoftware_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_SystemSoftware_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> Tina环境搭建 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_SystemSoftware_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> Tina编译与烧写 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_SystemSoftware_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> uboot与kernel定制开发 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_SystemSoftware_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 系统定制开发 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> 2.Bootloader开发 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> 2.Bootloader开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> U-boot_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> U-boot_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_U-boot_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_U-boot_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 编译方法介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_U-boot_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> U-Boot功能与配置 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_U-boot_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> U-Boot常用命令介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_U-boot_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 调试方法与烧写 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_U-boot_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> 常用接口函数 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> 3.Linux驱动开发 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> 3.Linux驱动开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex=0> <span class=md-ellipsis> SID_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> SID_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_SID_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_SID_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块描述 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_SID_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块设计 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_SID_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 接口设计 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_SID_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 可测试性与其他说明 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> GPIO_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> GPIO_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_GPIO_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_GPIO_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_GPIO_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块配置 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_GPIO_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 模块接口说明 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_GPIO_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 使用示例 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_GPIO_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> MIPI_CSI_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> MIPI_CSI_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_MIPI_CSI_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_MIPI_CSI_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_MIPI_CSI_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> V4L2接口描述 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_MIPI_CSI_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 模块使用范例 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_MIPI_CSI_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> MMC_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> MMC_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_MMC_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_MMC_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_MMC_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块接口说明 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_MMC_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex=0> <span class=md-ellipsis> RTC_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> RTC_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_RTC_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_RTC_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_RTC_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块配置介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_RTC_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 接口描述 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_RTC_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 模块使用范例 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_RTC_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_6> <label class=md-nav__link for=__nav_4_6 id=__nav_4_6_label tabindex=0> <span class=md-ellipsis> SPI_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_6_label aria-expanded=false> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> SPI_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_SPI_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_SPI_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_SPI_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 接口描述 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_SPI_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 模块使用范例 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_SPI_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_7> <label class=md-nav__link for=__nav_4_7 id=__nav_4_7_label tabindex=0> <span class=md-ellipsis> Standby_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_7_label aria-expanded=false> <label class=md-nav__title for=__nav_4_7> <span class="md-nav__icon md-icon"></span> Standby_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_Standby_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Standby_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Standby_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_8> <label class=md-nav__link for=__nav_4_8 id=__nav_4_8_label tabindex=0> <span class=md-ellipsis> TWI_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_8_label aria-expanded=false> <label class=md-nav__title for=__nav_4_8> <span class="md-nav__icon md-icon"></span> TWI_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_TWI_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_TWI_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_TWI_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块接口说明 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_TWI_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 模块使用范例 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_TWI_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_9> <label class=md-nav__link for=__nav_4_9 id=__nav_4_9_label tabindex=0> <span class=md-ellipsis> UART_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_9_label aria-expanded=false> <label class=md-nav__title for=__nav_4_9> <span class="md-nav__icon md-icon"></span> UART_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_UART_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_UART_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_UART_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块配置介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_UART_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 接口描述 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_UART_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 模块使用范例 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_UART_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_10> <label class=md-nav__link for=__nav_4_10 id=__nav_4_10_label tabindex=0> <span class=md-ellipsis> USB_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_10_label aria-expanded=false> <label class=md-nav__title for=__nav_4_10> <span class="md-nav__icon md-icon"></span> USB_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_USB_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_USB_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_USB_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> <li class=md-nav__item> <a href=../Linux_USB_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 附录 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_11> <label class=md-nav__link for=__nav_4_11 id=__nav_4_11_label tabindex=0> <span class=md-ellipsis> Key_快速配置使用指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_11_label aria-expanded=false> <label class=md-nav__title for=__nav_4_11> <span class="md-nav__icon md-icon"></span> Key_快速配置使用指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_Key_Quick_Configuration_UserGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Key_Quick_Configuration_UserGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Key_Quick_Configuration_UserGuide-03/ class=md-nav__link> <span class=md-ellipsis> GPIO-Key </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Key_Quick_Configuration_UserGuide-04/ class=md-nav__link> <span class=md-ellipsis> ADC-Key </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Key_Quick_Configuration_UserGuide-05/ class=md-nav__link> <span class=md-ellipsis> AXP-Key </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_12> <label class=md-nav__link for=__nav_4_12 id=__nav_4_12_label tabindex=0> <span class=md-ellipsis> PMU_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_12_label aria-expanded=false> <label class=md-nav__title for=__nav_4_12> <span class="md-nav__icon md-icon"></span> PMU_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_PMU_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_PMU_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_PMU_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块使用范例 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_PMU_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_13> <label class=md-nav__link for=__nav_4_13 id=__nav_4_13_label tabindex=0> <span class=md-ellipsis> Wi-Fi_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_13_label aria-expanded=false> <label class=md-nav__title for=__nav_4_13> <span class="md-nav__icon md-icon"></span> Wi-Fi_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_Wi-Fi_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Wi-Fi_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> Wi-Fi简介 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Wi-Fi_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> Wi-Fi模组移植 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Wi-Fi_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> Wi-Fi_manager与Softap介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Wi-Fi_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 常见问题 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> 4.基础组件软件库 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> 4.基础组件软件库 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1> <label class=md-nav__link for=__nav_5_1 id=__nav_5_1_label tabindex=0> <span class=md-ellipsis> PWM_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> PWM_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_PWM_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_PWM_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> MPP_sample_使用说明 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> MPP_sample_使用说明 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_MPP_Sample_Instructions-01/ class=md-nav__link> <span class=md-ellipsis> 简述 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_MPP_Sample_Instructions-02/ class=md-nav__link> <span class=md-ellipsis> 配置编译测试 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_MPP_Sample_Instructions-03/ class=md-nav__link> <span class=md-ellipsis> 分类情况 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_MPP_Sample_Instructions-04/ class=md-nav__link> <span class=md-ellipsis> 各平台支持情况 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_MPP_Sample_Instructions-05/ class=md-nav__link> <span class=md-ellipsis> 测试方法 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_MPP_Sample_Instructions-06/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class=md-ellipsis> Camera_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Camera_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_Camera_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Camera_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Camera_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块开发 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Camera_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 模块配置 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Camera_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 模块调试常见问题 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Camera_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> camera功能测试 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_4> <label class=md-nav__link for=__nav_5_4 id=__nav_5_4_label tabindex=0> <span class=md-ellipsis> E907_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> E907_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_E907_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_E907_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 启动E907环境 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_E907_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> AMP环境搭建 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_E907_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 开发使用 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_E907_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 其他 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_5 checked> <label class=md-nav__link for=__nav_5_5 id=__nav_5_5_label tabindex=0> <span class=md-ellipsis> LCD_调试指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> LCD_调试指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_LCD_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> 模块介绍 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 模块介绍 </span> </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#4 class=md-nav__link> <span class=md-ellipsis> 4 模块介绍 </span> </a> <nav class=md-nav aria-label="4 模块介绍"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#41 class=md-nav__link> <span class=md-ellipsis> 4.1 添加屏驱动步骤 </span> </a> </li> <li class=md-nav__item> <a href=#42 class=md-nav__link> <span class=md-ellipsis> 4.2 屏驱动说明 </span> </a> </li> <li class=md-nav__item> <a href=#43-rgb class=md-nav__link> <span class=md-ellipsis> 4.3 RGB 接口 </span> </a> </li> <li class=md-nav__item> <a href=#44-mipi-dsi class=md-nav__link> <span class=md-ellipsis> 4.4 MIPI-DSI 接口 </span> </a> </li> <li class=md-nav__item> <a href=#45-i8080 class=md-nav__link> <span class=md-ellipsis> 4.5 I8080 接口 </span> </a> </li> <li class=md-nav__item> <a href=#46-lvds class=md-nav__link> <span class=md-ellipsis> 4.6 LVDS 接口 </span> </a> </li> <li class=md-nav__item> <a href=#47-rgb-i8080 class=md-nav__link> <span class=md-ellipsis> 4.7 RGB 和I8080 管脚配置示意图 </span> </a> </li> <li class=md-nav__item> <a href=#48-sys_configfex-boarddtsi class=md-nav__link> <span class=md-ellipsis> 4.8 从sys_config.fex 到board.dtsi 的迁移注意事项 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Linux_LCD_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 硬件参数说明 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_LCD_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 调试方法 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_LCD_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> <li class=md-nav__item> <a href=../Linux_LCD_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> 总结 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_6> <label class=md-nav__link for=__nav_5_6 id=__nav_5_6_label tabindex=0> <span class=md-ellipsis> Display_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_6_label aria-expanded=false> <label class=md-nav__title for=__nav_5_6> <span class="md-nav__icon md-icon"></span> Display_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_Display_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Display_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Display_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块接口概述 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Display_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 操作与接口说明 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Display_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 输出设备介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Display_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> IOCTL接口描述 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Display_DevelopmentGuide-07/ class=md-nav__link> <span class=md-ellipsis> sysfs接口描述 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Display_DevelopmentGuide-08/ class=md-nav__link> <span class=md-ellipsis> 数据结构 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Display_DevelopmentGuide-09/ class=md-nav__link> <span class=md-ellipsis> 调试 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_7> <label class=md-nav__link for=__nav_5_7 id=__nav_5_7_label tabindex=0> <span class=md-ellipsis> 图形系统_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_7_label aria-expanded=false> <label class=md-nav__title for=__nav_5_7> <span class="md-nav__icon md-icon"></span> 图形系统_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_GraphicsSystem_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_GraphicsSystem_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> MiniGUI </span> </a> </li> <li class=md-nav__item> <a href=../Linux_GraphicsSystem_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> QT </span> </a> </li> <li class=md-nav__item> <a href=../Linux_GraphicsSystem_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> EFL与GTK+ </span> </a> </li> <li class=md-nav__item> <a href=../Linux_GraphicsSystem_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> WebKitGtk与DirectFB </span> </a> </li> <li class=md-nav__item> <a href=../Linux_GraphicsSystem_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> Wayland </span> </a> </li> <li class=md-nav__item> <a href=../Linux_GraphicsSystem_DevelopmentGuide-07/ class=md-nav__link> <span class=md-ellipsis> LVGL </span> </a> </li> <li class=md-nav__item> <a href=../Linux_GraphicsSystem_DevelopmentGuide-08/ class=md-nav__link> <span class=md-ellipsis> Flutter </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_8> <label class=md-nav__link for=__nav_5_8 id=__nav_5_8_label tabindex=0> <span class=md-ellipsis> 音频_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_8_label aria-expanded=false> <label class=md-nav__title for=__nav_5_8> <span class="md-nav__icon md-icon"></span> 音频_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_AudioFrequency_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_AudioFrequency_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_AudioFrequency_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 常用工具及调试方法 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_AudioFrequency_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 常用接口说明 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_AudioFrequency_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 开机音乐功能 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_AudioFrequency_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> 各平台音频模块注意事项 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_9> <label class=md-nav__link for=__nav_5_9 id=__nav_5_9_label tabindex=0> <span class=md-ellipsis> WiFi_RF测试_使用指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_9_label aria-expanded=false> <label class=md-nav__title for=__nav_5_9> <span class="md-nav__icon md-icon"></span> WiFi_RF测试_使用指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_WiFi_RFTest_UserGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_WiFi_RFTest_UserGuide-02/ class=md-nav__link> <span class=md-ellipsis> WiFi测试 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_WiFi_RFTest_UserGuide-03/ class=md-nav__link> <span class=md-ellipsis> XRADIO系列模组 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_WiFi_RFTest_UserGuide-04/ class=md-nav__link> <span class=md-ellipsis> RTL系列模组 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_WiFi_RFTest_UserGuide-05/ class=md-nav__link> <span class=md-ellipsis> SRRC认证 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_10> <label class=md-nav__link for=__nav_5_10 id=__nav_5_10_label tabindex=0> <span class=md-ellipsis> 各平台多媒体格式支持列表 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_10_label aria-expanded=false> <label class=md-nav__title for=__nav_5_10> <span class="md-nav__icon md-icon"></span> 各平台多媒体格式支持列表 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_Support_List_Multimedia_Formats_Each_Platform-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Support_List_Multimedia_Formats_Each_Platform-02/ class=md-nav__link> <span class=md-ellipsis> 芯片 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_11> <label class=md-nav__link for=__nav_5_11 id=__nav_5_11_label tabindex=0> <span class=md-ellipsis> 配网_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_11_label aria-expanded=false> <label class=md-nav__title for=__nav_5_11> <span class="md-nav__icon md-icon"></span> 配网_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_Distribution_Network_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Distribution_Network_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> wifimanager-v2.0配网 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Distribution_Network_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 测试说明 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_12> <label class=md-nav__link for=__nav_5_12 id=__nav_5_12_label tabindex=0> <span class=md-ellipsis> 网络性能_参考指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_12_label aria-expanded=false> <label class=md-nav__title for=__nav_5_12> <span class="md-nav__icon md-icon"></span> 网络性能_参考指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_Network_Performance_Reference_Guide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Network_Performance_Reference_Guide-02/ class=md-nav__link> <span class=md-ellipsis> Wi-Fi性能测试 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Network_Performance_Reference_Guide-03/ class=md-nav__link> <span class=md-ellipsis> 蓝牙与WIFI蓝牙共存测试 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> 5.系统开发 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> 5.系统开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_1> <label class=md-nav__link for=__nav_6_1 id=__nav_6_1_label tabindex=0> <span class=md-ellipsis> 系统配置_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> 系统配置_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_Deploy_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与配置介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Deploy_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 系统配置介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Deploy_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 设备树介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Deploy_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 设备树的使用与调试 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Deploy_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> 分区表说明 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> <span class=md-ellipsis> 系统调试_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> 系统调试_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_SystemDebug_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_SystemDebug_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 调试方法及工具 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3> <label class=md-nav__link for=__nav_6_3 id=__nav_6_3_label tabindex=0> <span class=md-ellipsis> 系统裁剪_参考指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> 系统裁剪_参考指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_SystemClipping_Reference_Guide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_SystemClipping_Reference_Guide-02/ class=md-nav__link> <span class=md-ellipsis> 系统裁剪介绍 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_4> <label class=md-nav__link for=__nav_6_4 id=__nav_6_4_label tabindex=0> <span class=md-ellipsis> 启动优化_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_4_label aria-expanded=false> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> 启动优化_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_systemStartup_Optimization-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_systemStartup_Optimization-02/ class=md-nav__link> <span class=md-ellipsis> 启动速度优化简介 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_systemStartup_Optimization-03/ class=md-nav__link> <span class=md-ellipsis> Tina启动速度优化 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_5> <label class=md-nav__link for=__nav_6_5 id=__nav_6_5_label tabindex=0> <span class=md-ellipsis> SPINAND_UBI_离线烧录_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_5_label aria-expanded=false> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> SPINAND_UBI_离线烧录_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_Spinubi_OfflineBurning_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Spinubi_OfflineBurning_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 数据布局说明 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Spinubi_OfflineBurning_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 调整内存说明 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_6> <label class=md-nav__link for=__nav_6_6 id=__nav_6_6_label tabindex=0> <span class=md-ellipsis> NOR_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6_6> <span class="md-nav__icon md-icon"></span> NOR_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_NOR_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_NOR_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 模块介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_NOR_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 接口描述 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_NOR_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 使用例子 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_7> <label class=md-nav__link for=__nav_6_7 id=__nav_6_7_label tabindex=0> <span class=md-ellipsis> SPINAND 开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_7_label aria-expanded=false> <label class=md-nav__title for=__nav_6_7> <span class="md-nav__icon md-icon"></span> SPINAND 开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_SPINAND_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_SPINAND_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 流程设计 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_SPINAND_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 模块配置 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_8> <label class=md-nav__link for=__nav_6_8 id=__nav_6_8_label tabindex=0> <span class=md-ellipsis> 存储_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_8_label aria-expanded=false> <label class=md-nav__title for=__nav_6_8> <span class="md-nav__icon md-icon"></span> 存储_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_Save_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Save_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 分区管理 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Save_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 系统挂载 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Save_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 文件系统支持情况 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Save_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> UBI_VS._NFTL </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Save_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> rootfs_data及UDISK </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Save_DevelopmentGuide-07/ class=md-nav__link> <span class=md-ellipsis> 关键数据保护 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_9> <label class=md-nav__link for=__nav_6_9 id=__nav_6_9_label tabindex=0> <span class=md-ellipsis> OTA_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_9_label aria-expanded=false> <label class=md-nav__title for=__nav_6_9> <span class="md-nav__icon md-icon"></span> OTA_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_OTA_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_OTA_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> ota-burnboot介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_OTA_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> Tina_SWUpdate_OTA介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_OTA_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> Tina_misc-upgrade介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_OTA_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> Tina_upgrade_app介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_OTA_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> 注意事项与问题排查 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_10> <label class=md-nav__link for=__nav_6_10 id=__nav_6_10_label tabindex=0> <span class=md-ellipsis> syslog_使用指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_10_label aria-expanded=false> <label class=md-nav__title for=__nav_6_10> <span class="md-nav__icon md-icon"></span> syslog_使用指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_syslog_UserGuide-01/ class=md-nav__link> <span class=md-ellipsis> 基本介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_syslog_UserGuide-02/ class=md-nav__link> <span class=md-ellipsis> syslog相关软件工具 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_syslog_UserGuide-03/ class=md-nav__link> <span class=md-ellipsis> 不同syslog方案的对比 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_syslog_UserGuide-04/ class=md-nav__link> <span class=md-ellipsis> 其他注意事项 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_syslog_UserGuide-05/ class=md-nav__link> <span class=md-ellipsis> 在Tina中使用syslog </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_11> <label class=md-nav__link for=__nav_6_11 id=__nav_6_11_label tabindex=0> <span class=md-ellipsis> 安全_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_11_label aria-expanded=false> <label class=md-nav__title for=__nav_6_11> <span class="md-nav__icon md-icon"></span> 安全_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_Security_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Security_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 安全系统基础 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Security_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 安全启动 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Security_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 安全操作系统 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Security_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> TA/CA开发环境 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Security_DevelopmentGuide-06/ class=md-nav__link> <span class=md-ellipsis> 安全存储 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Security_DevelopmentGuide-07/ class=md-nav__link> <span class=md-ellipsis> 安全性增强的Linux </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Security_DevelopmentGuide-08/ class=md-nav__link> <span class=md-ellipsis> 量产工具 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Security_DevelopmentGuide-09/ class=md-nav__link> <span class=md-ellipsis> 参考资料 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_12> <label class=md-nav__link for=__nav_6_12 id=__nav_6_12_label tabindex=0> <span class=md-ellipsis> 功耗管理_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_12_label aria-expanded=false> <label class=md-nav__title for=__nav_6_12> <span class="md-nav__icon md-icon"></span> 功耗管理_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_Power_Consumption_Management_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Power_Consumption_Management_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> Tina功耗管理框架概述 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Power_Consumption_Management_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> Tina休眠唤醒系统简介 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Power_Consumption_Management_DevelopmentGuide-04/ class=md-nav__link> <span class=md-ellipsis> 差异化方案说明 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Power_Consumption_Management_DevelopmentGuide-05/ class=md-nav__link> <span class=md-ellipsis> FAQ问题及处理方法 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_13> <label class=md-nav__link for=__nav_6_13 id=__nav_6_13_label tabindex=0> <span class=md-ellipsis> 内存优化_开发指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_13_label aria-expanded=false> <label class=md-nav__title for=__nav_6_13> <span class="md-nav__icon md-icon"></span> 内存优化_开发指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_Memory_Optimization_DevelopmentGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Memory_Optimization_DevelopmentGuide-02/ class=md-nav__link> <span class=md-ellipsis> 内存使用情况分析 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Memory_Optimization_DevelopmentGuide-03/ class=md-nav__link> <span class=md-ellipsis> 内存优化 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_14> <label class=md-nav__link for=__nav_6_14 id=__nav_6_14_label tabindex=0> <span class=md-ellipsis> 存储性能_参考指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_14_label aria-expanded=false> <label class=md-nav__title for=__nav_6_14> <span class="md-nav__icon md-icon"></span> 存储性能_参考指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_Storage_Performance_Reference_Guide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Storage_Performance_Reference_Guide-02/ class=md-nav__link> <span class=md-ellipsis> 经验性能值 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Storage_Performance_Reference_Guide-03/ class=md-nav__link> <span class=md-ellipsis> 顺序与随机读写性能 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Storage_Performance_Reference_Guide-04/ class=md-nav__link> <span class=md-ellipsis> 读写性能的影响因素 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_15> <label class=md-nav__link for=__nav_6_15 id=__nav_6_15_label tabindex=0> <span class=md-ellipsis> 打包流程_说明指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_15_label aria-expanded=false> <label class=md-nav__title for=__nav_6_15> <span class="md-nav__icon md-icon"></span> 打包流程_说明指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_Packaging_Process_DescriptionGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Packaging_Process_DescriptionGuide-02/ class=md-nav__link> <span class=md-ellipsis> 打包工具介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Packaging_Process_DescriptionGuide-03/ class=md-nav__link> <span class=md-ellipsis> 打包脚本分析 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Packaging_Process_DescriptionGuide-04/ class=md-nav__link> <span class=md-ellipsis> 获得打包后的分区镜像文件 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Packaging_Process_DescriptionGuide-05/ class=md-nav__link> <span class=md-ellipsis> 打包常见问题FAQ </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Packaging_Process_DescriptionGuide-06/ class=md-nav__link> <span class=md-ellipsis> 打包流程总结 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_16> <label class=md-nav__link for=__nav_6_16 id=__nav_6_16_label tabindex=0> <span class=md-ellipsis> 量产测试_使用指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_16_label aria-expanded=false> <label class=md-nav__title for=__nav_6_16> <span class="md-nav__icon md-icon"></span> 量产测试_使用指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Linux_Mass_Production_UserGuide-01/ class=md-nav__link> <span class=md-ellipsis> 概述与介绍 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Mass_Production_UserGuide-02/ class=md-nav__link> <span class=md-ellipsis> 配置 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Mass_Production_UserGuide-03/ class=md-nav__link> <span class=md-ellipsis> 测试环境搭建 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Mass_Production_UserGuide-04/ class=md-nav__link> <span class=md-ellipsis> 量产测试流程 </span> </a> </li> <li class=md-nav__item> <a href=../Linux_Mass_Production_UserGuide-05/ class=md-nav__link> <span class=md-ellipsis> 各平台Tinatest场景验证表 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> 6.应用示例与项目 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> 6.应用示例与项目 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_1> <label class=md-nav__link for=__nav_7_1 id=__nav_7_1_label tabindex=0> <span class=md-ellipsis> LVGL开发实战 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_1> <span class="md-nav__icon md-icon"></span> LVGL开发实战 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ProjectActualCombat/GUI-LvglExample-01/ class=md-nav__link> <span class=md-ellipsis> 2048小游戏 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#4 class=md-nav__link> <span class=md-ellipsis> 4 模块介绍 </span> </a> <nav class=md-nav aria-label="4 模块介绍"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#41 class=md-nav__link> <span class=md-ellipsis> 4.1 添加屏驱动步骤 </span> </a> </li> <li class=md-nav__item> <a href=#42 class=md-nav__link> <span class=md-ellipsis> 4.2 屏驱动说明 </span> </a> </li> <li class=md-nav__item> <a href=#43-rgb class=md-nav__link> <span class=md-ellipsis> 4.3 RGB 接口 </span> </a> </li> <li class=md-nav__item> <a href=#44-mipi-dsi class=md-nav__link> <span class=md-ellipsis> 4.4 MIPI-DSI 接口 </span> </a> </li> <li class=md-nav__item> <a href=#45-i8080 class=md-nav__link> <span class=md-ellipsis> 4.5 I8080 接口 </span> </a> </li> <li class=md-nav__item> <a href=#46-lvds class=md-nav__link> <span class=md-ellipsis> 4.6 LVDS 接口 </span> </a> </li> <li class=md-nav__item> <a href=#47-rgb-i8080 class=md-nav__link> <span class=md-ellipsis> 4.7 RGB 和I8080 管脚配置示意图 </span> </a> </li> <li class=md-nav__item> <a href=#48-sys_configfex-boarddtsi class=md-nav__link> <span class=md-ellipsis> 4.8 从sys_config.fex 到board.dtsi 的迁移注意事项 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>模块介绍</h1> <h2 id=4>4 模块介绍</h2> <h3 id=41>4.1 添加屏驱动步骤</h3> <ol> <li>对于linux4.9 及以下版本总共需要修改三处地方（即下列前三项），对于linux5.4 则需要修改四处地方，具体可参考屏驱动源码位置。</li> </ol> <p>• linux 源码仓库。</p> <p>• uboot 源码仓库。在uboot 中也有显示和屏驱动，目的是显示logo。</p> <p>• 板级dts 配置仓库。目的是通过board.dts 来配置一些通用的LCD 配置参数。对于linux4.9，该配置同时对内核及uboot 生效，对于linux-5.4，请参照下条。</p> <p>• 对于linux5.4，还需额外配置uboot 专用板级dts 配置仓库。</p> <ol> <li> <p>确保全志显示框架的内核配置有使能，查看menuconfig 配置说明。</p> </li> <li> <p>前期准备以下资料和信息：</p> </li> </ol> <p>• 屏手册。主要是描述屏基本信息和电气特性等，向屏厂索要。</p> <p>• Driver IC 手册。主要是描述屏IC 的详细信息。这里主要是对各个命令进行详解，对我们进行初始化定制有用，向屏厂索要。</p> <p>• 屏时序信息。请向屏厂索要。请看屏时序参数说明以了解更多信息。</p> <p>• 屏初始化代码。，请向屏厂索要。一般情况下DSI 和I8080 屏等都需要初始化命令对屏进行初始化。</p> <p>• 万用表。调屏避免不了测量相关电压。</p> <ol> <li> <p>动手添加屏驱动之前，先了解屏驱动，请看屏驱动分解。</p> </li> <li> <p>通过第3 步的资料，定位该屏的类型，然后选择一个已有同样类型的屏驱动作为模板进行屏驱动添加或者直接在上面修改。</p> </li> <li> <p>修改屏驱动目录下的panel.c和panel.h。在全局结构体变量panel_array中新增刚才添加strcut_lcd_panel的变量指针。panel.h中新增strcut lcd_panel的声</p> </li> </ol> <p>明。</p> <ol> <li> <p>修改Makefile。在lcd 屏驱动目录的上一级的Makefile 文件中的disp-objs中新增刚才添加屏驱动.o。</p> </li> <li> <p>修改board.dts 中的lcd0。可以看RGB 接口，MIPI-DSI 接口，I8080 接口和LVDS 接口，里面有介绍各种接口典型配置。硬件参数说明，这一章有所有lcd0 节</p> </li> </ol> <p>点下可配置属性详细解释。</p> <ol> <li>编译uboot，kernel，打包烧写。注意不同SDK，编译方式有所不同，部分SDK 默认不编译uboot。</li> <li>调试。通过调试方法我们可以初步定位问题，还有FAQ，对调屏也有帮助。</li> </ol> <h3 id=42>4.2 屏驱动说明</h3> <h4 id=421>4.2.1 屏驱动源码位置</h4> <p>linux 3.4 版本内核：</p> <p>linux3-4/drivers/video/sunxi/disp2/disp/lcd/</p> <p>linux 3.10 版本内核：</p> <p>linux3-10/drivers/video/sunxi/disp2/disp/lcd/</p> <p>linux 4.9 版本及其以上内核：</p> <p>linux-4.9/drivers/video/fbdev/sunxi/disp2/disp/lcd/</p> <p>uboot-2014:</p> <p>brandy/u-boot-2014.07/drivers/video/sunxi/disp2/disp/lcd</p> <p>uboot-2018:</p> <p>brandy/brandy-2.0/u-boot-2018/drivers/video/sunxi/disp2/disp/lcd</p> <p>板级配置，其中“芯片型号” 比如R818，和“板子名称” 比如demo，请根据实际替换。</p> <p>device/config/chips/芯片型号/configs/板子名称/board.dts</p> <p>针对linux5.4 时使用的uboot 板级配置：</p> <p>device/config/chips/芯片型号/configs/板子名称/uboot-board.dts</p> <p>针对linux5.4 时使用的kernel 板级配置：</p> <p>device/config/chips/芯片型号/configs/板子名称/linux-5.4/board.dts</p> <h4 id=422-menuconfig>4.2.2 menuconfig 配置说明</h4> <p>LCD 相关代码包含在disp 驱动模块中，进入内核根目录，执行make ARCH=arm menuconfig或者make ARCH=arm64 menuconfig(64bit 平台) 进入配置主界</p> <p>面。并按以下步骤操作：</p> <p>DE1.0 对应平台：R6(linux-3.10)、R16(linux-3.4)。</p> <p>DE2.0 对应平台：除R6 和R16 之外的。</p> <p><img alt=image-20221129102051729 src=https://photos.100ask.net/Tina-Sdk/Linux_LCD_DevGuide_image-20221129102051729.png></p> <center>图4-1: DE1.0 menuconfig 配置图</center> <p><img alt=image-20221129102107009 src=https://photos.100ask.net/Tina-Sdk/Linux_LCD_DevGuide_image-20221129102107009.png></p> <center>图4-2: DE2.0 menuconfig 配置图</center> <p>以R40 为例，具体配置目录为：Device Drivers-&gt;Graphics support-&gt;Support for frame buffer devices-&gt;Video Support for sunxi -&gt; DISP Driver Support(sunxi-disp2)。</p> <h4 id=423>4.2.3 屏驱动分解</h4> <p>在屏驱动源码位置中，主要分为四类文件</p> <ol> <li> <p>panel.c和panel.h，当用户添加新屏驱动时，是需要修改这两个文件的，需要将屏结构体变量添加到全局结构体变量panel_array中。</p> </li> <li> <p>lcd_source.c和lcd_source.h，这两个文件实现的是给屏驱动使用的函数接口，比如电源开关，gpio，dsi 读写接口等，用户不需要修改只需要用。</p> </li> <li> <p>屏驱动。除了上面提到的源文件外，其它的一般一个c 文件和一个h 文件就代表一个屏驱动。</p> </li> <li> <p>在屏驱动源码位置的上一级，有用户需要修改的Makefile 文件。</p> </li> </ol> <p>我们可以打开drivers/video/fbdev/sunxi/disp2/disp/lcd/default_panel.c作为屏驱动的例子，在该文件的最后</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a>struct __lcd_panel default_panel = {
<a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a>    /* panel driver name, must mach the lcd_drv_name in board.dts */
<a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a>    .name = "default_lcd",
<a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a>        .func = {
<a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a>        .cfg_panel_info = LCD_cfg_panel_info,
<a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a>        .cfg_open_flow = LCD_open_flow,
<a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a>        .cfg_close_flow = LCD_close_flow,
<a href=#__codelineno-0-8 id=__codelineno-0-8 name=__codelineno-0-8></a>        }
<a href=#__codelineno-0-9 id=__codelineno-0-9 name=__codelineno-0-9></a>    ,
<a href=#__codelineno-0-10 id=__codelineno-0-10 name=__codelineno-0-10></a>};
</code></pre></div> <p>该全局变量default_panel的成员name与lcd_driver_name必须一致，这个关系到驱动能否找到指定的文件。</p> <p>接下来是func成员的初始化，这里最主要实现三个回调函数。LCD_cfg_panel_info，LCD_open_flow和LCD_close_flow。</p> <p>开关屏流程即屏上下电流程，屏手册或者driver IC 手册中里面的Power on Sequence 和Power off Sequence。</p> <p>开关屏的操作流程如下图所示。</p> <p>其中，LCD_open_flow 和LCD_close_flow 称为开关屏流程函数， 方框中的函数， 如LCD_power_on，称为开关屏步骤函数。</p> <p>不需要进行初始化操作的LCD 屏，比如lvds 屏，RGB 屏等，LCD_panel_init 及LCD_panel_exit这函数可以为空。</p> <p><img alt=image-20221129102353374 src=https://photos.100ask.net/Tina-Sdk/Linux_LCD_DevGuide_image-20221129102353374.png></p> <center>图4-3: LCD 开关屏流程</center> <p>函数：LCD_open_flow</p> <p>功能：LCD_open_flow 函数只会系统初始化的时候调用一次，执行每个LCD_OPEN_FUNC即是把对应的开屏步骤函数进行注册，先注册先执行，但并没有立刻执</p> <p>行该开屏步骤函数。</p> <p>原型：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a>static s32 LCD_open_flow(u32 sel)
</code></pre></div> <p>函数常用内容为：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a>static __s32 LCD_open_flow(__u32 sel)
<a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a>{
<a href=#__codelineno-2-3 id=__codelineno-2-3 name=__codelineno-2-3></a>    LCD_OPEN_FUNC(sel, LCD_power_on,10);
<a href=#__codelineno-2-4 id=__codelineno-2-4 name=__codelineno-2-4></a>    LCD_OPEN_FUNC(sel, LCD_panel_init, 50);
<a href=#__codelineno-2-5 id=__codelineno-2-5 name=__codelineno-2-5></a>    LCD_OPEN_FUNC(sel, sunxi_lcd_tcon_enable, 100);
<a href=#__codelineno-2-6 id=__codelineno-2-6 name=__codelineno-2-6></a>    LCD_OPEN_FUNC(sel, LCD_bl_open, 0);
<a href=#__codelineno-2-7 id=__codelineno-2-7 name=__codelineno-2-7></a>    return 0;
<a href=#__codelineno-2-8 id=__codelineno-2-8 name=__codelineno-2-8></a>}
</code></pre></div> <p>如上，调用四次LCD_OPEN_FUNC 注册了四个回调函数，对应了四个开屏流程, 先注册先执行。实际上注册多少个函数是用户自己的自由，只要合理即可。</p> <ol> <li>LCD_power_on 即打开LCD 电源，再延迟10ms；这个步骤一般用于打开LCD 相关电源和相关管脚比如复位脚。这里一般是使用电源控制函数说明和管脚控制</li> </ol> <p>函数说明进行操作。</p> <ol> <li>LCD_panel_init 即初始化屏，再延迟50ms；不需要初始化的屏，可省掉此步骤，这个函数一般用于发送初始化命令给屏进行屏初始化。如果是DSI 屏看DSI 相</li> </ol> <p>关函数说明，如果是I8080 屏用I8080 接口函数说明，如果是其它情况比如i2c 或者spi 可以看使用iic/spi 串行接口初始化，也可以用GPIO 来进行模拟。</p> <ol> <li> <p>sunxi_lcd_tcon_enable 打开TCON，再延迟100ms；这一步是固定的，表示开始发送图像信号。</p> </li> <li> <p>LCD_bl_open 打开背光，再延迟0ms。前面三步搞定之后才开背光，这样不会看到闪烁。这里一般使用的函数请看背光控制函数说明。</p> </li> </ol> <p>如下图，这是屏手册中典型的上电时序图，我们编写屏驱动的时候，也要注意，该延时就得延时。</p> <p><img alt=image-20221129102545133 src=https://photos.100ask.net/Tina-Sdk/Linux_LCD_DevGuide_image-20221129102545133.png></p> <center>图4-4: power on</center> <p>函数：LCD_OPEN_FUNC</p> <p>功能：注册开屏步骤函数到开屏流程中，记住这里是注册不是执行！</p> <p>原型：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a>void LCD_OPEN_FUNC(__u32 sel, LCD_FUNC func, __u32 delay)
</code></pre></div> <p>参数说明：</p> <p>func 是一个函数指针，其类型是：void (*LCD_FUNC) (__u32 sel)，用户自己定义的函数必须也要用统一的形式。比如：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a>void user_defined_func(__u32 sel)
<a href=#__codelineno-4-2 id=__codelineno-4-2 name=__codelineno-4-2></a>{
<a href=#__codelineno-4-3 id=__codelineno-4-3 name=__codelineno-4-3></a>    //do something
<a href=#__codelineno-4-4 id=__codelineno-4-4 name=__codelineno-4-4></a>}
</code></pre></div> <p>delay 是执行该步骤后，再延迟的时间，时间单位是毫秒。</p> <p>LCD_OPEN_FUNC 的第二个参数是前后两个步骤的延时长度，单位ms，注意这里的数值请按照屏手册规定去填，乱填可能导致屏初始化异常或者开关屏时间过</p> <p>长，影响用户体验。</p> <p>与LCD_open_flow 对应的是LCD_close_flow 是，用于注册关屏函数，使用LCD_CLOSE_FUNC进行函数注册，先注册先执行，这里只是注册回调函数不是立刻执</p> <p>行。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-5-1 id=__codelineno-5-1 name=__codelineno-5-1></a>static s32 LCD_close_flow(u32 sel)
<a href=#__codelineno-5-2 id=__codelineno-5-2 name=__codelineno-5-2></a>{
<a href=#__codelineno-5-3 id=__codelineno-5-3 name=__codelineno-5-3></a>    /* close lcd backlight, and delay 0ms */
<a href=#__codelineno-5-4 id=__codelineno-5-4 name=__codelineno-5-4></a>    LCD_CLOSE_FUNC(sel, LCD_bl_close, 0);
<a href=#__codelineno-5-5 id=__codelineno-5-5 name=__codelineno-5-5></a>    /* close lcd controller, and delay 0ms */
<a href=#__codelineno-5-6 id=__codelineno-5-6 name=__codelineno-5-6></a>    LCD_CLOSE_FUNC(sel, sunxi_lcd_tcon_disable, 50);
<a href=#__codelineno-5-7 id=__codelineno-5-7 name=__codelineno-5-7></a>    /* open lcd power, than delay 200ms */
<a href=#__codelineno-5-8 id=__codelineno-5-8 name=__codelineno-5-8></a>    LCD_CLOSE_FUNC(sel, LCD_panel_exit, 100);
<a href=#__codelineno-5-9 id=__codelineno-5-9 name=__codelineno-5-9></a>    /* close lcd power, and delay 500ms */
<a href=#__codelineno-5-10 id=__codelineno-5-10 name=__codelineno-5-10></a>    LCD_CLOSE_FUNC(sel, LCD_power_off, 0);
<a href=#__codelineno-5-11 id=__codelineno-5-11 name=__codelineno-5-11></a>    return 0;
<a href=#__codelineno-5-12 id=__codelineno-5-12 name=__codelineno-5-12></a>}
</code></pre></div> <ol> <li> <p>先关闭背光，这样整个关屏过程，用户不会看到闪烁的过程。</p> </li> <li> <p>关闭TCON，也就是停止发送数据，这是必要的。再延迟50ms。</p> </li> <li> <p>执行关屏代码，再延迟200ms（不需要初始化的屏，可省掉此步骤）。</p> </li> <li> <p>最后关闭电源，再延迟0ms。</p> </li> </ol> <p>如下图是典型关屏时序图。</p> <p><img alt=image-20221129102917140 src=https://photos.100ask.net/Tina-Sdk/Linux_LCD_DevGuide_image-20221129102917140.png></p> <center>图4-5: power off</center> <p>函数：LCD_cfg_panel_info</p> <p>功能：配置的TCON 扩展参数，比如gamma 功能和颜色映射功能。</p> <p>原型：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-6-1 id=__codelineno-6-1 name=__codelineno-6-1></a>static void LCD_cfg_panel_info(__panel_extend_para_t * info)
</code></pre></div> <p>TCON 的扩展参数只能在屏文件中配置，参数的定义见显示效果相关参数。</p> <p>需要gamma 校正，或色彩映射，在board.dts 中将相应模块的enable 参数置1，lcd_gamma_en,lcd_cmap_en，并且填充3 个系数表，lcd_gamma_tbl, </p> <p>lcd_cmap_tbl，如下所示代码部分。注意的是：gamma，模板提供了18 段拐点值，然后再插值出所有的值（255 个）。如果觉得还不细，可以往相应表格里添加</p> <p>子项。cmap_tbl 的大小是固定了，不能减小或增加表的大小。</p> <p>最终生成的gamma 表项是由rgb 三个gamma 值组成的，各占8bit，目前提供的模板中，三个gamma 值是相同的。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-7-1 id=__codelineno-7-1 name=__codelineno-7-1></a>static void LCD_cfg_panel_info(struct panel_extend_para *info)
<a href=#__codelineno-7-2 id=__codelineno-7-2 name=__codelineno-7-2></a>{
<a href=#__codelineno-7-3 id=__codelineno-7-3 name=__codelineno-7-3></a>    u32 i = 0, j = 0;
<a href=#__codelineno-7-4 id=__codelineno-7-4 name=__codelineno-7-4></a>    u32 items;
<a href=#__codelineno-7-5 id=__codelineno-7-5 name=__codelineno-7-5></a>    u8 lcd_gamma_tbl[][2] = {
<a href=#__codelineno-7-6 id=__codelineno-7-6 name=__codelineno-7-6></a>        /* {input value, corrected value} */
<a href=#__codelineno-7-7 id=__codelineno-7-7 name=__codelineno-7-7></a>        {0, 0},
<a href=#__codelineno-7-8 id=__codelineno-7-8 name=__codelineno-7-8></a>        {15, 15},
<a href=#__codelineno-7-9 id=__codelineno-7-9 name=__codelineno-7-9></a>        {30, 30},
<a href=#__codelineno-7-10 id=__codelineno-7-10 name=__codelineno-7-10></a>        {45, 45},
<a href=#__codelineno-7-11 id=__codelineno-7-11 name=__codelineno-7-11></a>        {60, 60},
<a href=#__codelineno-7-12 id=__codelineno-7-12 name=__codelineno-7-12></a>        {75, 75},
<a href=#__codelineno-7-13 id=__codelineno-7-13 name=__codelineno-7-13></a>        {90, 90},
<a href=#__codelineno-7-14 id=__codelineno-7-14 name=__codelineno-7-14></a>        {105, 105},
<a href=#__codelineno-7-15 id=__codelineno-7-15 name=__codelineno-7-15></a>        {120, 120},
<a href=#__codelineno-7-16 id=__codelineno-7-16 name=__codelineno-7-16></a>        {135, 135},
<a href=#__codelineno-7-17 id=__codelineno-7-17 name=__codelineno-7-17></a>        {150, 150},
<a href=#__codelineno-7-18 id=__codelineno-7-18 name=__codelineno-7-18></a>        {165, 165},
<a href=#__codelineno-7-19 id=__codelineno-7-19 name=__codelineno-7-19></a>        {180, 180},
<a href=#__codelineno-7-20 id=__codelineno-7-20 name=__codelineno-7-20></a>        {195, 195},
<a href=#__codelineno-7-21 id=__codelineno-7-21 name=__codelineno-7-21></a>        {210, 210},
<a href=#__codelineno-7-22 id=__codelineno-7-22 name=__codelineno-7-22></a>        {225, 225},
<a href=#__codelineno-7-23 id=__codelineno-7-23 name=__codelineno-7-23></a>        {240, 240},
<a href=#__codelineno-7-24 id=__codelineno-7-24 name=__codelineno-7-24></a>        {255, 255},
<a href=#__codelineno-7-25 id=__codelineno-7-25 name=__codelineno-7-25></a>    };
<a href=#__codelineno-7-26 id=__codelineno-7-26 name=__codelineno-7-26></a>    u32 lcd_cmap_tbl[2][3][4] = {
<a href=#__codelineno-7-27 id=__codelineno-7-27 name=__codelineno-7-27></a>    {
<a href=#__codelineno-7-28 id=__codelineno-7-28 name=__codelineno-7-28></a>        {LCD_CMAP_G0, LCD_CMAP_B1, LCD_CMAP_G2, LCD_CMAP_B3},
<a href=#__codelineno-7-29 id=__codelineno-7-29 name=__codelineno-7-29></a>        {LCD_CMAP_B0, LCD_CMAP_R1, LCD_CMAP_B2, LCD_CMAP_R3},
<a href=#__codelineno-7-30 id=__codelineno-7-30 name=__codelineno-7-30></a>        {LCD_CMAP_R0, LCD_CMAP_G1, LCD_CMAP_R2, LCD_CMAP_G3},
<a href=#__codelineno-7-31 id=__codelineno-7-31 name=__codelineno-7-31></a>        },
<a href=#__codelineno-7-32 id=__codelineno-7-32 name=__codelineno-7-32></a>        {
<a href=#__codelineno-7-33 id=__codelineno-7-33 name=__codelineno-7-33></a>        {LCD_CMAP_B3, LCD_CMAP_G2, LCD_CMAP_B1, LCD_CMAP_G0},
<a href=#__codelineno-7-34 id=__codelineno-7-34 name=__codelineno-7-34></a>        {LCD_CMAP_R3, LCD_CMAP_B2, LCD_CMAP_R1, LCD_CMAP_B0},
<a href=#__codelineno-7-35 id=__codelineno-7-35 name=__codelineno-7-35></a>        {LCD_CMAP_G3, LCD_CMAP_R2, LCD_CMAP_G1, LCD_CMAP_R0},
<a href=#__codelineno-7-36 id=__codelineno-7-36 name=__codelineno-7-36></a>        },
<a href=#__codelineno-7-37 id=__codelineno-7-37 name=__codelineno-7-37></a>    };
<a href=#__codelineno-7-38 id=__codelineno-7-38 name=__codelineno-7-38></a>    items = sizeof(lcd_gamma_tbl) / 2;
<a href=#__codelineno-7-39 id=__codelineno-7-39 name=__codelineno-7-39></a>    for (i = 0; i &lt; items - 1; i++) {
<a href=#__codelineno-7-40 id=__codelineno-7-40 name=__codelineno-7-40></a>        u32 num = lcd_gamma_tbl[i + 1][0] - lcd_gamma_tbl[i][0];
<a href=#__codelineno-7-41 id=__codelineno-7-41 name=__codelineno-7-41></a>        for (j = 0; j &lt; num; j++) {
<a href=#__codelineno-7-42 id=__codelineno-7-42 name=__codelineno-7-42></a>            u32 value = 0;
<a href=#__codelineno-7-43 id=__codelineno-7-43 name=__codelineno-7-43></a>            value =
<a href=#__codelineno-7-44 id=__codelineno-7-44 name=__codelineno-7-44></a>            lcd_gamma_tbl[i][1] +
<a href=#__codelineno-7-45 id=__codelineno-7-45 name=__codelineno-7-45></a>            ((lcd_gamma_tbl[i + 1][1] -
<a href=#__codelineno-7-46 id=__codelineno-7-46 name=__codelineno-7-46></a>            lcd_gamma_tbl[i][1]) * j) / num;
<a href=#__codelineno-7-47 id=__codelineno-7-47 name=__codelineno-7-47></a>            info-&gt;lcd_gamma_tbl[lcd_gamma_tbl[i][0] + j] =
<a href=#__codelineno-7-48 id=__codelineno-7-48 name=__codelineno-7-48></a>            (value &lt;&lt; 16) + (value &lt;&lt; 8) + value;
<a href=#__codelineno-7-49 id=__codelineno-7-49 name=__codelineno-7-49></a>        }
<a href=#__codelineno-7-50 id=__codelineno-7-50 name=__codelineno-7-50></a>    }
<a href=#__codelineno-7-51 id=__codelineno-7-51 name=__codelineno-7-51></a>    info-&gt;lcd_gamma_tbl[255] =
<a href=#__codelineno-7-52 id=__codelineno-7-52 name=__codelineno-7-52></a>        (lcd_gamma_tbl[items - 1][1] &lt;&lt; 16) +
<a href=#__codelineno-7-53 id=__codelineno-7-53 name=__codelineno-7-53></a>        (lcd_gamma_tbl[items - 1][1] &lt;&lt; 8) + lcd_gamma_tbl[items - 1][1];
<a href=#__codelineno-7-54 id=__codelineno-7-54 name=__codelineno-7-54></a>    memcpy(info-&gt;lcd_cmap_tbl, lcd_cmap_tbl, sizeof(lcd_cmap_tbl));
<a href=#__codelineno-7-55 id=__codelineno-7-55 name=__codelineno-7-55></a>}
</code></pre></div> <h4 id=424>4.2.4 延时函数说明</h4> <p>函数：sunxi_lcd_delay_ms / sunxi_lcd_delay_us</p> <p>功能：延时函数，分别是毫秒级别/微秒级别的延时。</p> <p>原型：s32 sunxi_lcd_delay_ms(u32 ms) / s32 sunxi_lcd_delay_us(u32 us)</p> <h4 id=425>4.2.5 图像数据使能函数说明</h4> <p>函数：sunxi_lcd_tcon_enable / sunxi_lcd_tcon_disable</p> <p>功能：打开LCD 控制器，开始刷新LCD 显示。关闭LCD 控制器，停止刷新数据。</p> <p>原型：void sunxi_lcd_tcon_enable(u32 screen_id)</p> <p>void sunxi_lcd_tcon_disable(u32 screen_id)</p> <h4 id=426>4.2.6 背光控制函数说明</h4> <p>函数：sunxi_lcd_backlight_enable / sunxi_lcd_backlight_disable</p> <p>功能：打开/关闭背光，操作的是board.dts 中lcd_bl 配置的gpio。见lcd_bl_en。</p> <p>原型：void sunxi_lcd_backlight_enable(u32 screen_id)</p> <p>void sunxi_lcd_backlight_disable(u32 screen_id)</p> <p>函数：sunxi_lcd_pwm_enable / sunxi_lcd_pwm_disable</p> <p>功能：打开/关闭pwm 控制器，打开时pwm 将往外输出pwm 波形。对应的是lcd_pwm_ch所对应的那一路pwm。</p> <p>原型：s32 sunxi_lcd_pwm_enable(u32 screen_id)</p> <p>s32 sunxi_lcd_pwm_disable(u32 screen_id)</p> <h4 id=427>4.2.7 电源控制函数说明</h4> <p>函数：sunxi_lcd_power_enable / sunxi_lcd_power_disable</p> <p>功能：打开/关闭Lcd 电源，操作的是board.dts 中的lcd_power/lcd_power1/lcd_power2（pwr_id 标识电源索引）。</p> <p>原型：void sunxi_lcd_power_enable(u32 screen_id, u32 pwr_id)</p> <p>void sunxi_lcd_power_disable(u32 screen_id, u32 pwr_id)</p> <ol> <li>pwr_id = 0：对应于board.dts 中的lcd_power。</li> <li>pwr_id = 1：对应于board.dts 中的lcd_power1。</li> <li>pwr_id = 2：对应于board.dts 中的lcd_power2。</li> <li>pwr_id = 3：对应于board.dts 中的lcd_power3。</li> </ol> <p>函数：sunxi_lcd_pin_cfg</p> <p>功能：配置lcd 的io。</p> <p>原型：s32 sunxi_lcd_pin_cfg(u32 screen_id, u32 bon)</p> <p>说明：配置lcd 的data/clk 等pin，对应board.dts 中的lcdd0-lcdd23/lcddclk/lcdde/lcdhsync/lcdvsync。</p> <p>由于dsi 是专用pin, 所以dsi 接口屏不需要在board.dts 中配置这组pin，但同样会在此函数接口中打开与关闭对应的pin。</p> <p>Bon: 1: 为开，0：为配置成disable 状态。</p> <h4 id=428-dsi>4.2.8 DSI 相关函数说明</h4> <p>MIPI DSI 屏，大部分需要初始化，使用的是DSI-D0 通道的LP 模式进行初始化。提供的接口函数说明如下：</p> <p>函数：sunxi_lcd_dsi_clk_enable / sunxi_lcd_dsi_clk_disble</p> <p>功能：仅限dsi 接口屏使用，使能/关闭dsi 输出的高速时钟clk 信号，必须在初始化的时候调用。</p> <p>原型：s32 sunxi_lcd_dsi_clk_enable(u32 scree_id)</p> <p>s32 sunxi_lcd_dsi_clk_disable(u32 scree_id)</p> <p>函数：sunxi_lcd_dsi_dcs_wr</p> <p>功能：对屏的dcs 写操作。</p> <p>原型：__s32 sunxi_lcd_dsi_dcs_wr(__u32 sel,__u8 cmd,__u8* para_p,__u32 para_num)</p> <p>参数说明：</p> <p>• cmd：dcs 写命令内容。</p> <p>• para_p：dcs 写命令的参数起始地址。</p> <p>• para_num：dcs 写命令的参数个数，单位为byte。</p> <p>函数：sunxi_lcd_dsi_dcs_wr_2para</p> <p>功能：对屏的dcs 写操作，该命令带有两个参数。</p> <p>原型：__s32 sunxi_lcd_dsi_dcs_wr_2para(__u32 sel,__u8 cmd,__u8 para1,__u8 para2)</p> <p>参数说明：</p> <p>• cmd：dcs 写命令内容。</p> <p>• para1：dcs 写命令的第一个参数内容。</p> <p>• para2：dcs 写命令的第二个参数内容。</p> <p>sunxi_dsi_dcs_wr_0para，sunxi_dsi_dcs_wr_1para，sunxi_dsi_dcs_wr_3para，sunxi_dsi_dcs_wr_4para，</p> <p>sunxi_dsi_dcs_wr_5para定义与dsi_dcs_wr_2para类似，差别就是参数数量。</p> <p>函数：sunxi_lcd_dsi_dcs_read</p> <p>功能：dsi 读操作。</p> <p>原型：s32 sunxi_lcd_dsi_dcs_read(u32 sel, u8 cmd, u8 result, u32 num_p)</p> <p>参数说明：</p> <p>• sel, 显示id。</p> <p>• cmd, 要读取的寄存器。</p> <p>• result，用于存放读取接口的数组，用户必须自行保证其有足够空间保存读取的接口。</p> <p>• num_p，指针用于存放读取字节数，用户必须保证其非空指针。</p> <h4 id=429-i8080>4.2.9 I8080 接口函数说明</h4> <p>显示驱动提供5 个接口函数可供使用。如下：</p> <p>函数：sunxi_lcd_cpu_write</p> <p>功能：设定CPU 屏的指定寄存器为指定的值。</p> <p>原型：void sunxi_lcd_cpu_write(__u32 sel, __u32 index, __u32 data)</p> <p>函数内容为：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-8-1 id=__codelineno-8-1 name=__codelineno-8-1></a>Void sunxi_lcd_cpu_write(__u32 sel, __u32 index, __u32 data)
<a href=#__codelineno-8-2 id=__codelineno-8-2 name=__codelineno-8-2></a>{
<a href=#__codelineno-8-3 id=__codelineno-8-3 name=__codelineno-8-3></a>    sunxi_lcd_cpu_write_index(sel, index);
<a href=#__codelineno-8-4 id=__codelineno-8-4 name=__codelineno-8-4></a>    sunxi_lcd_cpu_wirte_data(sel, data);
<a href=#__codelineno-8-5 id=__codelineno-8-5 name=__codelineno-8-5></a>}
</code></pre></div> <p>实现了8080 总线上的两个写操作。</p> <p>sunxi_lcd_cpu_write_index 实现第一个写操作，这时PIN 脚RS（A1）为低电平，总线数据上的数据内容为参数index 的值。</p> <p>Sunxi_lcd_cpu_wirte_data 实现第二个写操作，这时PIN 脚RS（A1）为高电平，总线数据上的数据内容为参数data 的值。</p> <p>函数：sunxi_lcd_cpu_write_index</p> <p>功能：设定CPU 屏为指定寄存器。</p> <p>原型：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-9-1 id=__codelineno-9-1 name=__codelineno-9-1></a>void sunxi_lcd_cpu_write_index(__u32 sel,__u32 index)
</code></pre></div> <p>具体说明见sunxi_lcd_cpu_write。</p> <p>函数：sunxi_lcd_cpu_write_data</p> <p>功能：设定CPU 屏寄存器的值为指定的值。</p> <p>原型：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-10-1 id=__codelineno-10-1 name=__codelineno-10-1></a>void Sunxi_lcd_cpu_write_data(__u32 sel, __u32 data);
</code></pre></div> <p>函数: tcon0_cpu_rd_24b_data</p> <p>功能：读操作。</p> <p>原型：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-11-1 id=__codelineno-11-1 name=__codelineno-11-1></a>s32 tcon0_cpu_rd_24b_data(u32 sel, u32 index, u32 *data, u32 size)
</code></pre></div> <p>参数说明：</p> <p>• sel：显示id。</p> <p>• index: 要读取的寄存器。</p> <p>• data：用于存放读取接口的数组指针，用户必须保证其有足够空间存放数据。</p> <p>• size：要读取的字节数。</p> <h4 id=4210>4.2.10 管脚控制函数说明</h4> <p>函数：sunxi_lcd_gpio_set_value</p> <p>功能：LCD_GPIO PIN 脚上输出高电平或低电平。</p> <p>原型：s32 sunxi_lcd_gpio_set_value(u32 screen_id, u32 io_index, u32 value)</p> <p>参数说明：</p> <p>• io_index = 0：对应于board.dts 中的lcd_gpio_0。</p> <p>• io_index = 1：对应于board.dts 中的lcd_gpio_1。</p> <p>• io_index = 2：对应于board.dts 中的lcd_gpio_2。</p> <p>• io_index = 3：对应于board.dts 中的lcd_gpio_3。</p> <p>• value = 0：对应IO 输出低电平。</p> <p>• Value = 1：对应IO 输出高电平。</p> <p>只用于该GPIO 定义为输出的情形。</p> <p>函数：sunxi_lcd_gpio_set_direction</p> <p>功能：设置LCD_GPIO PIN 脚为输入或输出模式。</p> <p>原型：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-12-1 id=__codelineno-12-1 name=__codelineno-12-1></a>s32 sunxi_lcd_gpio_set_direction(u32 screen_id, u32 io_index, u32 direction);
</code></pre></div> <p>参数说明：</p> <p>• io_index = 0：对应于board.dts 中的lcd_gpio_0。</p> <p>• io_index = 1：对应于board.dts 中的lcd_gpio_1。</p> <p>• io_index = 2：对应于board.dts 中的lcd_gpio_2。</p> <p>• io_index = 3：对应于board.dts 中的lcd_gpio_3。</p> <p>• direction = 0：对应IO 设置为输入。</p> <p>• direction = 1：对应IO 设置为输出。</p> <p>一部分屏需要进行初始化操作，在开屏步骤函数中，对应于LCD_panel_init 函数，提供了几种方式对屏的初始化。</p> <p>对于DSI 屏，是通过DSI-D0 通道进行初始化。对于CPU 屏，是通过8080 总线的方式，使用的是LCDIO（PD,PH）进行初始化。这种初始化方式，其总线的引脚位</p> <p>置定义与CPU 屏一致。</p> <p>以下这些接口在屏驱动分解中提到路径的lcd_source.c 和lcd_source.h 中定义和实现。</p> <h4 id=4211-iicspi>4.2.11 使用iic/spi 串行接口初始化</h4> <p>需要在屏驱动中注册iic/spi 设备对串行接口的访问。</p> <p>使用硬件spi 对屏或者转接IC 进行初始化，如下代码片段。</p> <p>首先调用spi_init 函数对spi 硬件进行初始化，spi_init 函数可以分为几个步骤，第一获取master；根据实际的硬件连接，选择spi（代码中选择了spi1），如果这一</p> <p>步返回错误说spi 没有配置好，找spi 驱动负责人。第二步设置spi device，这里包括最大速度，spi 传输模式，以及每个字包含的比特数。最后调用spi_setup 完成</p> <p>master 和device 的关联。</p> <p>comm_out 是一个spi 传输的例子，核心就是spi_sync_transfer 函数。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-13-1 id=__codelineno-13-1 name=__codelineno-13-1></a>static int spi_init(void)
<a href=#__codelineno-13-2 id=__codelineno-13-2 name=__codelineno-13-2></a>{
<a href=#__codelineno-13-3 id=__codelineno-13-3 name=__codelineno-13-3></a>    int ret = -1;
<a href=#__codelineno-13-4 id=__codelineno-13-4 name=__codelineno-13-4></a>    struct spi_master *master;
<a href=#__codelineno-13-5 id=__codelineno-13-5 name=__codelineno-13-5></a>    master = spi_busnum_to_master(1);
<a href=#__codelineno-13-6 id=__codelineno-13-6 name=__codelineno-13-6></a>    if (!master) {
<a href=#__codelineno-13-7 id=__codelineno-13-7 name=__codelineno-13-7></a>        lcd_fb_wrn("fail to get master\n");
<a href=#__codelineno-13-8 id=__codelineno-13-8 name=__codelineno-13-8></a>        goto OUT
<a href=#__codelineno-13-9 id=__codelineno-13-9 name=__codelineno-13-9></a>    }
<a href=#__codelineno-13-10 id=__codelineno-13-10 name=__codelineno-13-10></a>    spi_device = spi_alloc_device(master);
<a href=#__codelineno-13-11 id=__codelineno-13-11 name=__codelineno-13-11></a>    if (!spi_device) {
<a href=#__codelineno-13-12 id=__codelineno-13-12 name=__codelineno-13-12></a>        lcd_fb_wrn("fail to get spi device\n");
<a href=#__codelineno-13-13 id=__codelineno-13-13 name=__codelineno-13-13></a>        goto OUT;
<a href=#__codelineno-13-14 id=__codelineno-13-14 name=__codelineno-13-14></a>    }
<a href=#__codelineno-13-15 id=__codelineno-13-15 name=__codelineno-13-15></a>spi_device-&gt;bits_per_word = 8;
<a href=#__codelineno-13-16 id=__codelineno-13-16 name=__codelineno-13-16></a>    spi_device-&gt;max_speed_hz = 60000000; /*50MHz*/
<a href=#__codelineno-13-17 id=__codelineno-13-17 name=__codelineno-13-17></a>    spi_device-&gt;mode = SPI_MODE_0;
<a href=#__codelineno-13-18 id=__codelineno-13-18 name=__codelineno-13-18></a>    ret = spi_setup(spi_device);
<a href=#__codelineno-13-19 id=__codelineno-13-19 name=__codelineno-13-19></a>    if (ret) {
<a href=#__codelineno-13-20 id=__codelineno-13-20 name=__codelineno-13-20></a>        lcd_fb_wrn("Faile to setup spi\n");
<a href=#__codelineno-13-21 id=__codelineno-13-21 name=__codelineno-13-21></a>        goto FREE;
<a href=#__codelineno-13-22 id=__codelineno-13-22 name=__codelineno-13-22></a>    }
<a href=#__codelineno-13-23 id=__codelineno-13-23 name=__codelineno-13-23></a>    lcd_fb_inf("Init spi1:bits_per_word:%d max_speed_hz:%d mode:%d\n",
<a href=#__codelineno-13-24 id=__codelineno-13-24 name=__codelineno-13-24></a>        spi_device-&gt;bits_per_word, spi_device-&gt;max_speed_hz,
<a href=#__codelineno-13-25 id=__codelineno-13-25 name=__codelineno-13-25></a>        spi_device-&gt;mode);
<a href=#__codelineno-13-26 id=__codelineno-13-26 name=__codelineno-13-26></a>    ret = 0;
<a href=#__codelineno-13-27 id=__codelineno-13-27 name=__codelineno-13-27></a>    goto OUT;
<a href=#__codelineno-13-28 id=__codelineno-13-28 name=__codelineno-13-28></a>FREE:
<a href=#__codelineno-13-29 id=__codelineno-13-29 name=__codelineno-13-29></a>    spi_master_put(master);
<a href=#__codelineno-13-30 id=__codelineno-13-30 name=__codelineno-13-30></a>    kfree(spi_device);
<a href=#__codelineno-13-31 id=__codelineno-13-31 name=__codelineno-13-31></a>    spi_device = NULL;
<a href=#__codelineno-13-32 id=__codelineno-13-32 name=__codelineno-13-32></a>OUT:
<a href=#__codelineno-13-33 id=__codelineno-13-33 name=__codelineno-13-33></a>    return ret;
<a href=#__codelineno-13-34 id=__codelineno-13-34 name=__codelineno-13-34></a>}
<a href=#__codelineno-13-35 id=__codelineno-13-35 name=__codelineno-13-35></a>static int comm_out(unsigned int sel, unsigned char cmd)
<a href=#__codelineno-13-36 id=__codelineno-13-36 name=__codelineno-13-36></a>{
<a href=#__codelineno-13-37 id=__codelineno-13-37 name=__codelineno-13-37></a>    struct spi_transfer t;
<a href=#__codelineno-13-38 id=__codelineno-13-38 name=__codelineno-13-38></a>    if (!spi_device)
<a href=#__codelineno-13-39 id=__codelineno-13-39 name=__codelineno-13-39></a>        return -1;
<a href=#__codelineno-13-40 id=__codelineno-13-40 name=__codelineno-13-40></a>    DC(sel, 0);
<a href=#__codelineno-13-41 id=__codelineno-13-41 name=__codelineno-13-41></a>    memset(&amp;t, 0, sizeof(struct spi_transfer));
<a href=#__codelineno-13-42 id=__codelineno-13-42 name=__codelineno-13-42></a>    t.tx_buf = &amp;cmd;
<a href=#__codelineno-13-43 id=__codelineno-13-43 name=__codelineno-13-43></a>    t.len = 1;
<a href=#__codelineno-13-44 id=__codelineno-13-44 name=__codelineno-13-44></a>    t.bits_per_word = 8;
<a href=#__codelineno-13-45 id=__codelineno-13-45 name=__codelineno-13-45></a>    t.speed_hz = 24000000;
<a href=#__codelineno-13-46 id=__codelineno-13-46 name=__codelineno-13-46></a>    return spi_sync_transfer(spi_device, &amp;t, 1);
<a href=#__codelineno-13-47 id=__codelineno-13-47 name=__codelineno-13-47></a>}
</code></pre></div> <p>使用硬件i2c 对LCD&amp; 转接IC 进行初始化，初始化i2c 硬件的核心函数是i2c_add_driver，而你要做的是初始化好其参数struct i2c_driver。</p> <p>it66121_id 包含设备名字以及i2c 总线索引（i2c0，i2c1…）。</p> <p>it66121_i2c_probe 能进到这个函数，你就可以开始使用i2c 了。代码段里面仅仅将后面需要的参数cilent 赋值给一个全局指针变量。</p> <p>it66121_match，这是dts 的match table，由于你是给disp2 加驱动，所以这里的match table 就是disp2 的match table，这个table 关系到能否使用i2c，注意不</p> <p>要填错。 tv_i2c_detect 函数，这里是非常关键的，这个函数早于probe 函数被调用，只有成功被调用后才能开始使用i2c，其中strlcpy 的调用意味着成功。</p> <p>normal_i2c 是从设备地址列表，填写的LCD 或者转接IC 的从设备地址以及i2c 索引。</p> <p>以probe 函数是否被调用来决定你是否可以开始使用I2C。</p> <p>用i2c_smbus_write_byte_data 或者i2c_smbus_read_byte_data 来读写可以满足大部分场景。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-14-1 id=__codelineno-14-1 name=__codelineno-14-1></a>#define IT66121_SLAVE_ADDR 0x4c
<a href=#__codelineno-14-2 id=__codelineno-14-2 name=__codelineno-14-2></a>#define IT66121_I2C_ID 0
<a href=#__codelineno-14-3 id=__codelineno-14-3 name=__codelineno-14-3></a>static const struct i2c_device_id it66121_id[] = {
<a href=#__codelineno-14-4 id=__codelineno-14-4 name=__codelineno-14-4></a>    { "IT66121", IT66121_I2C_ID },
<a href=#__codelineno-14-5 id=__codelineno-14-5 name=__codelineno-14-5></a>    { /* END OF LIST */ }
<a href=#__codelineno-14-6 id=__codelineno-14-6 name=__codelineno-14-6></a>};
<a href=#__codelineno-14-7 id=__codelineno-14-7 name=__codelineno-14-7></a>MODULE_DEVICE_TABLE(i2c, it66121_id);
<a href=#__codelineno-14-8 id=__codelineno-14-8 name=__codelineno-14-8></a>static int it66121_i2c_probe(struct i2c_client *client, const struct i2c_device_id *id)
<a href=#__codelineno-14-9 id=__codelineno-14-9 name=__codelineno-14-9></a>{
<a href=#__codelineno-14-10 id=__codelineno-14-10 name=__codelineno-14-10></a>    this_client = client;
<a href=#__codelineno-14-11 id=__codelineno-14-11 name=__codelineno-14-11></a>    return 0;
<a href=#__codelineno-14-12 id=__codelineno-14-12 name=__codelineno-14-12></a>}
<a href=#__codelineno-14-13 id=__codelineno-14-13 name=__codelineno-14-13></a>static const struct of_device_id it66121_match[] = {
<a href=#__codelineno-14-14 id=__codelineno-14-14 name=__codelineno-14-14></a>    {.compatible = "allwinner,sun8iw10p1-disp",},
<a href=#__codelineno-14-15 id=__codelineno-14-15 name=__codelineno-14-15></a>    {.compatible = "allwinner,sun50i-disp",},
<a href=#__codelineno-14-16 id=__codelineno-14-16 name=__codelineno-14-16></a>    {.compatible = "allwinner,sunxi-disp",},
<a href=#__codelineno-14-17 id=__codelineno-14-17 name=__codelineno-14-17></a>    {},
<a href=#__codelineno-14-18 id=__codelineno-14-18 name=__codelineno-14-18></a>};
<a href=#__codelineno-14-19 id=__codelineno-14-19 name=__codelineno-14-19></a>static int tv_i2c_detect(struct i2c_client *client, struct i2c_board_info *info)
<a href=#__codelineno-14-20 id=__codelineno-14-20 name=__codelineno-14-20></a>{
<a href=#__codelineno-14-21 id=__codelineno-14-21 name=__codelineno-14-21></a>    const char *type_name = "IT66121";
<a href=#__codelineno-14-22 id=__codelineno-14-22 name=__codelineno-14-22></a>    if (IT66121_I2C_ID == client-&gt;adapter-&gt;nr) {
<a href=#__codelineno-14-23 id=__codelineno-14-23 name=__codelineno-14-23></a>        strlcpy(info-&gt;type, type_name, 20);
<a href=#__codelineno-14-24 id=__codelineno-14-24 name=__codelineno-14-24></a>    } else
<a href=#__codelineno-14-25 id=__codelineno-14-25 name=__codelineno-14-25></a>        pr_warn("%s:%d wrong i2c id:%d, expect id is :%d\n", __func__, __LINE__,
<a href=#__codelineno-14-26 id=__codelineno-14-26 name=__codelineno-14-26></a>            client-&gt;adapter-&gt;nr, IT66121_I2C_ID);
<a href=#__codelineno-14-27 id=__codelineno-14-27 name=__codelineno-14-27></a>    return 0;
<a href=#__codelineno-14-28 id=__codelineno-14-28 name=__codelineno-14-28></a>}
<a href=#__codelineno-14-29 id=__codelineno-14-29 name=__codelineno-14-29></a>static unsigned short normal_i2c[] = {IT66121_SLAVE_ADDR, I2C_CLIENT_END};
<a href=#__codelineno-14-30 id=__codelineno-14-30 name=__codelineno-14-30></a>static struct i2c_driver it66121_i2c_driver = {
<a href=#__codelineno-14-31 id=__codelineno-14-31 name=__codelineno-14-31></a>    .class = I2C_CLASS_HWMON,
<a href=#__codelineno-14-32 id=__codelineno-14-32 name=__codelineno-14-32></a>    .id_table = it66121_id,
<a href=#__codelineno-14-33 id=__codelineno-14-33 name=__codelineno-14-33></a>    .probe = it66121_i2c_probe,
<a href=#__codelineno-14-34 id=__codelineno-14-34 name=__codelineno-14-34></a>    .remove = it66121_i2c_remove,
<a href=#__codelineno-14-35 id=__codelineno-14-35 name=__codelineno-14-35></a>    .driver = {
<a href=#__codelineno-14-36 id=__codelineno-14-36 name=__codelineno-14-36></a>        .owner = THIS_MODULE,
<a href=#__codelineno-14-37 id=__codelineno-14-37 name=__codelineno-14-37></a>        .name = "IT66121",
<a href=#__codelineno-14-38 id=__codelineno-14-38 name=__codelineno-14-38></a>        .of_match_table = it66121_match,
<a href=#__codelineno-14-39 id=__codelineno-14-39 name=__codelineno-14-39></a>    },
<a href=#__codelineno-14-40 id=__codelineno-14-40 name=__codelineno-14-40></a>    .detect = tv_i2c_detect,
<a href=#__codelineno-14-41 id=__codelineno-14-41 name=__codelineno-14-41></a>    .address_list = normal_i2c,
<a href=#__codelineno-14-42 id=__codelineno-14-42 name=__codelineno-14-42></a>};
<a href=#__codelineno-14-43 id=__codelineno-14-43 name=__codelineno-14-43></a>static void LCD_panel_init(u32 sel)
<a href=#__codelineno-14-44 id=__codelineno-14-44 name=__codelineno-14-44></a>{
<a href=#__codelineno-14-45 id=__codelineno-14-45 name=__codelineno-14-45></a>    int ret = -1;
<a href=#__codelineno-14-46 id=__codelineno-14-46 name=__codelineno-14-46></a>    ret = i2c_add_driver(&amp;it66121_i2c_driver);
<a href=#__codelineno-14-47 id=__codelineno-14-47 name=__codelineno-14-47></a>    if (ret) {
<a href=#__codelineno-14-48 id=__codelineno-14-48 name=__codelineno-14-48></a>        pr_warn("Add it66121_i2c_driver fail!\n");
<a href=#__codelineno-14-49 id=__codelineno-14-49 name=__codelineno-14-49></a>        return;
<a href=#__codelineno-14-50 id=__codelineno-14-50 name=__codelineno-14-50></a>    }
<a href=#__codelineno-14-51 id=__codelineno-14-51 name=__codelineno-14-51></a>    //start init chip with i2c
<a href=#__codelineno-14-52 id=__codelineno-14-52 name=__codelineno-14-52></a>}
<a href=#__codelineno-14-53 id=__codelineno-14-53 name=__codelineno-14-53></a>void it6612_twi_write_byte(it6612_reg_set* reg)
<a href=#__codelineno-14-54 id=__codelineno-14-54 name=__codelineno-14-54></a>{
<a href=#__codelineno-14-55 id=__codelineno-14-55 name=__codelineno-14-55></a>    u8 rdata = 0;
<a href=#__codelineno-14-56 id=__codelineno-14-56 name=__codelineno-14-56></a>    u8 tmp = 0;
<a href=#__codelineno-14-57 id=__codelineno-14-57 name=__codelineno-14-57></a>    rdata = i2c_smbus_read_byte_data(this_client, reg-&gt;offset);
<a href=#__codelineno-14-58 id=__codelineno-14-58 name=__codelineno-14-58></a>    tmp = (rdata &amp; (~reg-&gt;mask))|(reg-&gt;mask&amp;reg-&gt;value);
<a href=#__codelineno-14-59 id=__codelineno-14-59 name=__codelineno-14-59></a>    i2c_smbus_write_byte_data(this_client, reg-&gt;offset, tmp);
<a href=#__codelineno-14-60 id=__codelineno-14-60 name=__codelineno-14-60></a>}
</code></pre></div> <h4 id=4212-u-boot>4.2.12 U-boot 屏驱动注意事项</h4> <p>U-boot 编写屏驱动的步骤和内核是一样的，代码路径文件组织方式都是一样的，这里要讲的是需要注意的事项。</p> <p>1.为了加快U-boot 的显示速度，开屏的几个函数之间采取异步调用的方式，原理是利用timer中断，定时调用开屏函数，所以这种情况下bootGUI 框架加载完毕并</p> <p>不意味着开屏完成，而是当你见到LCD open finish的打印的时候。</p> <p>建议：为了尽量利用异步调用的优点，请把需要的延时尽量在注册回调的时候指定，比如下面延时10ms 就是利用timer 异步来进行回调的，这10ms 时间，uboot </p> <p>就可以做其它事情，以达到异步调用的目的。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-15-1 id=__codelineno-15-1 name=__codelineno-15-1></a>LCD_OPEN_FUNC(sel, LCD_power_on,10);
</code></pre></div> <p>2.sunxi_lcd_power_enable 函数和sunxi_lcd_pin_cfg 不能在LCD_power_on之外调用，否则uboot 会异常。</p> <p>严格讲，只能在用LCD_OPEN_FUNC注册的回调第一个函数里面调用。</p> <h3 id=43-rgb>4.3 RGB 接口</h3> <h4 id=431>4.3.1 概述</h4> <p>下面介绍全志平台的RGB 以及配置示例，至于lcd0 下面每个属性的详解细节请看硬件参数说明。</p> <p>RGB 接口在全志平台又称HV 接口（Horizontal 同步和Vertical 同步）。</p> <p><strong>对于RGB 屏的初始化:</strong></p> <p>有些LCD 屏支持高级的功能比如gamma，像素格式的设置等，但是RGB 协议本身不支持图像数据之外的传输，所以无法通过RGB 管脚进行对LCD 屏进行配置，</p> <p>所以拿到一款RGB 接口屏，要么不需要初始化命令，要么这个屏会提供额外的管脚给SoC 来进行配置，比如SPI 和I2C等。</p> <h4 id=432-rgb>4.3.2 RGB 接口管脚</h4> <p><img alt=image-20221129104718608 src=https://photos.100ask.net/Tina-Sdk/Linux_LCD_DevGuide_image-20221129104718608.png></p> <center>图4-6: RGB 管脚</center> <p>上面这些脚具体到SoC 哪根管脚以及第几个功能（管脚复用功能）请参考pin mux 表格，管脚复用功能的名字一般以“LCDX_” 开头，其中X 是数字。</p> <p>其中数据脚的数量不一定是24 根。RGB 又细分几种接口，通过设置lcd_hv_if来选择。</p> <center>表4-1: RGB 接口分类</center> <table> <thead> <tr> <th>位宽</th> <th>时钟周期</th> <th>数颜色数量和格式</th> </tr> </thead> <tbody> <tr> <td>24 bits</td> <td>1 cycle</td> <td>16.7M colors, RGB888</td> </tr> <tr> <td>18 bits</td> <td>1 cycle</td> <td>262K colors, RGB666</td> </tr> <tr> <td>16 bits</td> <td>1 cycle</td> <td>65K colors, RGB565</td> </tr> <tr> <td>6 bits</td> <td>3 cycles</td> <td>262K colors, RGB666</td> </tr> <tr> <td>6 bits</td> <td>3 cycles</td> <td>65K colors, RGB565</td> </tr> </tbody> </table> <p><strong>说明</strong></p> <p>时钟周期数的意思：是一个像素需要用多少个时钟周期发送完毕的意思。</p> <p>当时钟周期为1 时，我们称这种RGB 接口为并行接口，其它的情况则是串行接口，更为普遍的原则就是只要需要多个时钟周期才能发送完一个像素的接口都是串行</p> <p>接口。</p> <p>如何判断是否支持24bit 的位宽，最简单的方式就是在pinmux 表格中数一数数据脚的数量，如果有24 根则支持24bit，如果只有18 根则支持18bit。</p> <p><strong>硬件连接</strong></p> <p>对于并行RGB 的接口，当位宽小于24 时，硬件连接应该选择连接每个分量中的高位而放弃低位，这样做的原因是损失较少的颜色数量。</p> <p>对于串行RGB 接口，硬件连接可参考RGB 和I8080 管脚配置示意图中sync RGB 那几列。</p> <p>RGB 接口有两种同步方式，根据经验来说尽量使用第二种方式，硬件上请保证连接好DE 脚。</p> <ol> <li>Hsync+Vsync</li> <li>DE（Data Enable）</li> </ol> <h4 id=433-rgb>4.3.3 并行RGB 接口配置示例</h4> <p>当我们配置并行RGB 接口时，在配置里面并不需要区分是24 位，18 位和16 位，最大位宽是哪种是参考pin mux 表格，如果LCD 屏本身支持的位宽比SoC 支持的</p> <p>位宽少，当然只能选择少的一方。</p> <p>因为不需要初始化，RGB 接口极少出现问题，重点关注lcd 的timing 的合理性，也就是lcd_ht，lcd_hspw，lcd_hbp，lcd_vt，lcd_vspw和lcd_vbp这个属性的合理</p> <p>性。</p> <p>下面是典型并行RGB 接口board.dts 配置示例，其中用空行把配置分成几个部分</p> <ol> <li>第一部分，决定该配置是否使用，以及使用哪个屏驱动，lcd_driver_name 决定了用哪个屏驱动来初始化，这里是default_lcd，是针对不需要初始化设置的</li> </ol> <p>RGB 屏</p> <ol> <li> <p>第二部分决定下面的配置是一个并行RGB 的配置。</p> </li> <li> <p>第三部分决定了SoC 中的LCD 模块发送时序，请查看屏时序参数说明。</p> </li> <li> <p>第四部分决定了背光（pwm 和lcd_bl_en）。请看背光相关参数。</p> </li> <li> <p>第五部分是显示效果部分的配置，如果非24 位的RGB，那么一般情况下需要设置lcd_frm。</p> </li> <li> <p>第六部分就是电源和管脚配置。是用RGB666 还是RGB888，需要根据实际pinmux 表来决定，如果该芯片只有18 根rgb 数据则只能rgb18。请看电源和管脚</p> </li> </ol> <p>参数。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-16-1 id=__codelineno-16-1 name=__codelineno-16-1></a>&amp;lcd0 {
<a href=#__codelineno-16-2 id=__codelineno-16-2 name=__codelineno-16-2></a>    /* part 1 */
<a href=#__codelineno-16-3 id=__codelineno-16-3 name=__codelineno-16-3></a>    lcd_used = &lt;1&gt;;
<a href=#__codelineno-16-4 id=__codelineno-16-4 name=__codelineno-16-4></a>    lcd_driver_name = "default_lcd";
<a href=#__codelineno-16-5 id=__codelineno-16-5 name=__codelineno-16-5></a>    /* part 2 */
<a href=#__codelineno-16-6 id=__codelineno-16-6 name=__codelineno-16-6></a>    lcd_if = &lt;0&gt;;
<a href=#__codelineno-16-7 id=__codelineno-16-7 name=__codelineno-16-7></a>    lcd_hv_if = &lt;0&gt;;
<a href=#__codelineno-16-8 id=__codelineno-16-8 name=__codelineno-16-8></a>    /* part 3 */
<a href=#__codelineno-16-9 id=__codelineno-16-9 name=__codelineno-16-9></a>    lcd_width = &lt;150&gt;;
<a href=#__codelineno-16-10 id=__codelineno-16-10 name=__codelineno-16-10></a>    lcd_height = &lt;94&gt;;
<a href=#__codelineno-16-11 id=__codelineno-16-11 name=__codelineno-16-11></a>    lcd_x = &lt;800&gt;;
<a href=#__codelineno-16-12 id=__codelineno-16-12 name=__codelineno-16-12></a>    lcd_y = &lt;480&gt;;
<a href=#__codelineno-16-13 id=__codelineno-16-13 name=__codelineno-16-13></a>    lcd_dclk_freq = &lt;33&gt;;
<a href=#__codelineno-16-14 id=__codelineno-16-14 name=__codelineno-16-14></a>    lcd_hbp = &lt;46&gt;;
<a href=#__codelineno-16-15 id=__codelineno-16-15 name=__codelineno-16-15></a>    lcd_ht = &lt;1055&gt;;
<a href=#__codelineno-16-16 id=__codelineno-16-16 name=__codelineno-16-16></a>    lcd_hspw = &lt;0&gt;;
<a href=#__codelineno-16-17 id=__codelineno-16-17 name=__codelineno-16-17></a>    lcd_vbp = &lt;23&gt;;
<a href=#__codelineno-16-18 id=__codelineno-16-18 name=__codelineno-16-18></a>    lcd_vt = &lt;525&gt;;
<a href=#__codelineno-16-19 id=__codelineno-16-19 name=__codelineno-16-19></a>    lcd_vspw = &lt;0&gt;;
<a href=#__codelineno-16-20 id=__codelineno-16-20 name=__codelineno-16-20></a>    /* part 4 */
<a href=#__codelineno-16-21 id=__codelineno-16-21 name=__codelineno-16-21></a>    lcd_backlight = &lt;50&gt;;
<a href=#__codelineno-16-22 id=__codelineno-16-22 name=__codelineno-16-22></a>    lcd_pwm_used = &lt;1&gt;;
<a href=#__codelineno-16-23 id=__codelineno-16-23 name=__codelineno-16-23></a>    lcd_pwm_ch = &lt;8&gt;;
<a href=#__codelineno-16-24 id=__codelineno-16-24 name=__codelineno-16-24></a>    lcd_pwm_freq = &lt;10000&gt;;
<a href=#__codelineno-16-25 id=__codelineno-16-25 name=__codelineno-16-25></a>    lcd_pwm_pol = &lt;1&gt;;
<a href=#__codelineno-16-26 id=__codelineno-16-26 name=__codelineno-16-26></a>    lcd_bl_en = &lt;&amp;pio PD 27 1 0 3 1&gt;;
<a href=#__codelineno-16-27 id=__codelineno-16-27 name=__codelineno-16-27></a>    lcd_bright_curve_en = &lt;0&gt;;
<a href=#__codelineno-16-28 id=__codelineno-16-28 name=__codelineno-16-28></a>    /* part 5 */
<a href=#__codelineno-16-29 id=__codelineno-16-29 name=__codelineno-16-29></a>    lcd_frm = &lt;0&gt;;
<a href=#__codelineno-16-30 id=__codelineno-16-30 name=__codelineno-16-30></a>    lcd_io_phase = &lt;0x0000&gt;;
<a href=#__codelineno-16-31 id=__codelineno-16-31 name=__codelineno-16-31></a>    lcd_gamma_en = &lt;0&gt;;
<a href=#__codelineno-16-32 id=__codelineno-16-32 name=__codelineno-16-32></a>    lcd_cmap_en = &lt;0&gt;;
<a href=#__codelineno-16-33 id=__codelineno-16-33 name=__codelineno-16-33></a>    lcd_hv_clk_phase = &lt;0&gt;;
<a href=#__codelineno-16-34 id=__codelineno-16-34 name=__codelineno-16-34></a>    lcd_hv_sync_polarity= &lt;0&gt;;
<a href=#__codelineno-16-35 id=__codelineno-16-35 name=__codelineno-16-35></a>    /* part 6 */
<a href=#__codelineno-16-36 id=__codelineno-16-36 name=__codelineno-16-36></a>    lcd_power = "vcc-lcd";
<a href=#__codelineno-16-37 id=__codelineno-16-37 name=__codelineno-16-37></a>    lcd_pin_power = "vcc-pd";
<a href=#__codelineno-16-38 id=__codelineno-16-38 name=__codelineno-16-38></a>    pinctrl-0 = &lt;&amp;rgb24_pins_a&gt;;
<a href=#__codelineno-16-39 id=__codelineno-16-39 name=__codelineno-16-39></a>    pinctrl-1 = &lt;&amp;rgb24_pins_b&gt;;
<a href=#__codelineno-16-40 id=__codelineno-16-40 name=__codelineno-16-40></a>};
</code></pre></div> <p>4.3.4 串行RGB 接口的典型配置</p> <p>串行RGB 是相对于并行RGB 来说，而并不是说它只用一根线来发数据，只要通过多个时钟周期才能把一个像素的数据发完，那么这样的RGB 接口就是串行RGB。</p> <p>同样与并行RGB 接口一样，配置中并不需要也无法体现具体是哪种串行RGB 接口，需要做的就是把硬件连接对。</p> <p>下面是典型串行RGB 接口board.dts 配置示例，它只有8 根数据脚，其中用空行把配置分成几个部分</p> <ol> <li> <p>第一部分，决定该配置是否使用，以及使用哪个屏驱动，lcd_driver_name 决定了用哪个屏驱动来初始化。</p> </li> <li> <p>第二分部决定下面的配置是一个串行RGB 的配置。</p> </li> <li> <p>第三部分决定了SoC 中的LCD 模块发送时序，请查看屏时序参数说明。</p> </li> </ol> <p><strong>技巧</strong> 这里需要注意的是，对于该接口，SoC 总共需要三个周期才能发完一个pixel，所以我们配置时序的时候，需要满足lcd_dclk_freq*3=lcd_ht*lcd_vt*60，或者*</p> <p>*lcd_dclk_freq=lcd_ht*3*lcd_vt*60要么3 倍lcd_ht要么3倍lcd_dclk_freq。</p> <ol> <li> <p>第四部分决定了背光。就是pwm 和lcd_bl_en。请看背光相关参数</p> </li> <li> <p>第五部分是显示效果方面的设置。</p> </li> <li> <p>第六部分管脚和电源的定义。请看电源和管脚参数。</p> </li> </ol> <p><strong>说明</strong></p> <p>下面实例的lcd driver IC 是stv7789v，是需要初始化，初始化的接口协议是SPI，所以这多了几根spi 管脚配置，驱动里面用gpio 模拟spi 协议，所以这里都是配置</p> <p>gpio 功能。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-17-1 id=__codelineno-17-1 name=__codelineno-17-1></a>&amp;lcd0 {
<a href=#__codelineno-17-2 id=__codelineno-17-2 name=__codelineno-17-2></a>    /* part 1 */
<a href=#__codelineno-17-3 id=__codelineno-17-3 name=__codelineno-17-3></a>    lcd_used = &lt;1&gt;;
<a href=#__codelineno-17-4 id=__codelineno-17-4 name=__codelineno-17-4></a>    lcd_driver_name = "st7789v";
<a href=#__codelineno-17-5 id=__codelineno-17-5 name=__codelineno-17-5></a>    /* part 2 */
<a href=#__codelineno-17-6 id=__codelineno-17-6 name=__codelineno-17-6></a>    lcd_if = &lt;0&gt;;
<a href=#__codelineno-17-7 id=__codelineno-17-7 name=__codelineno-17-7></a>    lcd_hv_if = &lt;8&gt;;
<a href=#__codelineno-17-8 id=__codelineno-17-8 name=__codelineno-17-8></a>    /* part 3 */
<a href=#__codelineno-17-9 id=__codelineno-17-9 name=__codelineno-17-9></a>    lcd_x = &lt;240&gt;;
<a href=#__codelineno-17-10 id=__codelineno-17-10 name=__codelineno-17-10></a>    lcd_y = &lt;320&gt;;
<a href=#__codelineno-17-11 id=__codelineno-17-11 name=__codelineno-17-11></a>    lcd_width = &lt;108&gt;;
<a href=#__codelineno-17-12 id=__codelineno-17-12 name=__codelineno-17-12></a>    lcd_height = &lt;64&gt;;
<a href=#__codelineno-17-13 id=__codelineno-17-13 name=__codelineno-17-13></a>    lcd_dclk_freq = &lt;19&gt;;
<a href=#__codelineno-17-14 id=__codelineno-17-14 name=__codelineno-17-14></a>    lcd_hbp = &lt;120&gt;;
<a href=#__codelineno-17-15 id=__codelineno-17-15 name=__codelineno-17-15></a>    ;10 + 20 + 10 + 240*3 = 760 real set 1000
<a href=#__codelineno-17-16 id=__codelineno-17-16 name=__codelineno-17-16></a>    lcd_ht = &lt;850&gt;;
<a href=#__codelineno-17-17 id=__codelineno-17-17 name=__codelineno-17-17></a>    lcd_hspw = &lt;2&gt;;
<a href=#__codelineno-17-18 id=__codelineno-17-18 name=__codelineno-17-18></a>    lcd_vbp = &lt;13&gt;;
<a href=#__codelineno-17-19 id=__codelineno-17-19 name=__codelineno-17-19></a>    lcd_vt = &lt;373&gt;;
<a href=#__codelineno-17-20 id=__codelineno-17-20 name=__codelineno-17-20></a>    lcd_vspw = &lt;2&gt;;
<a href=#__codelineno-17-21 id=__codelineno-17-21 name=__codelineno-17-21></a>    /* part 4 */
<a href=#__codelineno-17-22 id=__codelineno-17-22 name=__codelineno-17-22></a>    lcd_backlight = &lt;50&gt;;
<a href=#__codelineno-17-23 id=__codelineno-17-23 name=__codelineno-17-23></a>    lcd_pwm_used = &lt;1&gt;;
<a href=#__codelineno-17-24 id=__codelineno-17-24 name=__codelineno-17-24></a>    lcd_pwm_ch = &lt;8&gt;;
<a href=#__codelineno-17-25 id=__codelineno-17-25 name=__codelineno-17-25></a>    lcd_pwm_freq = &lt;50000&gt;;
<a href=#__codelineno-17-26 id=__codelineno-17-26 name=__codelineno-17-26></a>    lcd_pwm_pol = &lt;1&gt;;
<a href=#__codelineno-17-27 id=__codelineno-17-27 name=__codelineno-17-27></a>    lcd_pwm_max_limit = &lt;255&gt;;
<a href=#__codelineno-17-28 id=__codelineno-17-28 name=__codelineno-17-28></a>    lcd_bl_en = &lt;&amp;pio PB 1 1 0 3 1&gt;;
<a href=#__codelineno-17-29 id=__codelineno-17-29 name=__codelineno-17-29></a>    lcd_bright_curve_en = &lt;1&gt;;
<a href=#__codelineno-17-30 id=__codelineno-17-30 name=__codelineno-17-30></a>    /* part 5 */
<a href=#__codelineno-17-31 id=__codelineno-17-31 name=__codelineno-17-31></a>    lcd_frm = &lt;1&gt;;
<a href=#__codelineno-17-32 id=__codelineno-17-32 name=__codelineno-17-32></a>    lcd_hv_clk_phase = &lt;0&gt;;
<a href=#__codelineno-17-33 id=__codelineno-17-33 name=__codelineno-17-33></a>    lcd_hv_sync_polarity= &lt;0&gt;;
<a href=#__codelineno-17-34 id=__codelineno-17-34 name=__codelineno-17-34></a>    lcd_hv_srgb_seq = &lt;0&gt;;
<a href=#__codelineno-17-35 id=__codelineno-17-35 name=__codelineno-17-35></a>    lcd_io_phase = &lt;0x0000&gt;;
<a href=#__codelineno-17-36 id=__codelineno-17-36 name=__codelineno-17-36></a>    lcd_gamma_en = &lt;0&gt;;
<a href=#__codelineno-17-37 id=__codelineno-17-37 name=__codelineno-17-37></a>    lcd_cmap_en = &lt;0&gt;;
<a href=#__codelineno-17-38 id=__codelineno-17-38 name=__codelineno-17-38></a>    lcd_rb_swap = &lt;0&gt;;
<a href=#__codelineno-17-39 id=__codelineno-17-39 name=__codelineno-17-39></a>    /* part 6 */
<a href=#__codelineno-17-40 id=__codelineno-17-40 name=__codelineno-17-40></a>    lcd_power = "vcc-lcd";
<a href=#__codelineno-17-41 id=__codelineno-17-41 name=__codelineno-17-41></a>    lcd_pin_power = "vcc-pd";
<a href=#__codelineno-17-42 id=__codelineno-17-42 name=__codelineno-17-42></a>    /*reset */
<a href=#__codelineno-17-43 id=__codelineno-17-43 name=__codelineno-17-43></a>    lcd_gpio_0 = &lt;&amp;pio PD 9 1 0 3 1&gt;;
<a href=#__codelineno-17-44 id=__codelineno-17-44 name=__codelineno-17-44></a>    /* cs */
<a href=#__codelineno-17-45 id=__codelineno-17-45 name=__codelineno-17-45></a>    lcd_gpio_1 = &lt;&amp;pio PD 10 1 0 3 0&gt;;
<a href=#__codelineno-17-46 id=__codelineno-17-46 name=__codelineno-17-46></a>    /*sda */
<a href=#__codelineno-17-47 id=__codelineno-17-47 name=__codelineno-17-47></a>    lcd_gpio_2 = &lt;&amp;pio PD 13 1 0 3 0&gt;;
<a href=#__codelineno-17-48 id=__codelineno-17-48 name=__codelineno-17-48></a>    /*sck */
<a href=#__codelineno-17-49 id=__codelineno-17-49 name=__codelineno-17-49></a>    lcd_gpio_3 = &lt;&amp;pio PD 12 1 0 3 0&gt;;
<a href=#__codelineno-17-50 id=__codelineno-17-50 name=__codelineno-17-50></a>    pinctrl-0 = &lt;&amp;rgb8_pins_a&gt;;
<a href=#__codelineno-17-51 id=__codelineno-17-51 name=__codelineno-17-51></a>    pinctrl-1 = &lt;&amp;rgb8_pins_b&gt;;
<a href=#__codelineno-17-52 id=__codelineno-17-52 name=__codelineno-17-52></a>};
</code></pre></div> <h3 id=44-mipi-dsi>4.4 MIPI-DSI 接口</h3> <h4 id=441>4.4.1 概述</h4> <p>MIPI-DSI，即Mobile Industry Processor Interface Display Serial Interface，移动通信行业处理器接口显示串行接口。</p> <p>对于用户来说，需要了解：</p> <ol> <li> <p>Command mode，类似MPU 接口，需要IC 内部有GRAM 来缓冲。</p> </li> <li> <p>Video mode。类似RGB 接口，没有GRAM，需要不停往panel 刷数据。其中video mode又分为三个子mode。</p> </li> </ol> <p>• Non-burst mode with sync pulses</p> <p>• Non Burst mode with sync Events</p> <p>• Burst mode。简单理解就是有效数据比率更高，传输效率更高。</p> <ol> <li>lane 的意思是指一对差分管脚。</li> </ol> <h4 id=442-mipi-dsi>4.4.2 MIPI-DSI 的管脚</h4> <p>MIPI-DSI 的管脚是在大部分IC 中是专用，在board.dtsi 里面不需要配置，只要硬件上连接好就行。</p> <p>但是有一部分IC 的DSI 管脚不是专用的，与其它功能的脚复用，这个时候就需要配置好pinctrl-0和pinctrl-1。</p> <p>mipi-dsi 的管脚是差分的，分为两种管脚，一种是时钟管脚，另外一种是数据管脚，数据管脚的数量是可变的，数量的单位是lane，每一条lane 实际包含两条线。</p> <p>一般来说LCD 屏说明书里面的说的lane 的数量是指数据管脚的数量不包括时钟管脚。比如说某4 lane MIPI-DSI 屏就总共有(4+1)*2根脚。</p> <h4 id=443-mipi-dsi>4.4.3 MIPI-DSI 的电源</h4> <p>一般都有一路电源供给MIPI-DSI 这个模块，你可以理解为管脚电，也可以理解成模块电，不同IC 这路电的电压要求可能不同，一旦确定IC 型号之后，这路电的电</p> <p>压就不变，如果擅自改变此路电的电压可能导致模块异常。</p> <p><img alt=image-20221129105502705 src=https://photos.100ask.net/Tina-Sdk/Linux_LCD_DevGuide_image-20221129105502705.png></p> <center>图4-7: pinmux</center> <h4 id=444-mipi-dsi>4.4.4 判断是否支持某款MIPI-DSI 屏</h4> <p>​ 1.分辨率限制。有lane 的速度限制，我们可以得到最大分辨率的限制，计算公式如下，只要lane_speed 不超过上面IC 规格规定的速度，那么理论上是支持的，</p> <p>请查看IC 规格。</p> <p>lane_speed=lcd_vt * lcd_ht * fps * bit_per_pixel / lane_num / 1e9</p> <p>• 单位：Gbps。</p> <p>• fps: 期望刷新率，通过屏手册可知道，一般是60。请看lcd_dclk_freq。</p> <p>• bit_per_pixel: 每个像素包含的比特数量，一般是24 或者18，通过lcd_dsi_format来设置。</p> <p>• lane_num:lane 数量，通过lcd_dsi_lane来设置。</p> <p>• 1e9:1000000000 的科学计数写法。</p> <ol> <li>选择分辨率的同时需要考虑系统带宽，DE 能力，所以即使接口方面支持这个分辨率，对于整个系统来说不一定支持，比如说硬件为了节省成本选择了一款速</li> </ol> <p>度很慢的DDR 内存然后同时又想选择高分辨率的屏幕，很明显这是不现实的。</p> <ol> <li>lane 数量限制。绝大部分全志科技IC 最大支持4 lane 的MIPI-DSI，如果你看到该款屏超过4 lane 就肯定不支持了。少数IC 最大支持8 lane，应该选择该款</li> </ol> <p>IC。</p> <ol> <li>MIPI-DSI 标准不兼容。请查看IC 规格。</li> </ol> <h4 id=445-mipi-dsi-lane>4.4.5 计算MIPI-DSI 时钟lane 频率</h4> <p>使用示波器测量MIPI-DSI 的时钟信号，确定其频率是否满足屏的需求。</p> <p>首先，我们由给定的像素时钟和lane 数量，可以计算出理论CLK 信号的频率，如下公式：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-18-1 id=__codelineno-18-1 name=__codelineno-18-1></a>Freq_dsi_clk = (Dclk * colordepth * 3 / lane ) / 2
</code></pre></div> <ol> <li>Freq_dsi_clk：我们要测量的dsi 时钟脚的频率。单位MHz。</li> <li>Dclk：像素时钟。由lcd_ht*lcd_vt*fps/1e6公式算出来。</li> <li>Colordepth：颜色深度，一般是8 或者6。</li> <li>乘以3 表示RGB 分量3 个。</li> <li>Lane：dsi 的lane 数量。</li> <li>除以2：是因为dsi 时钟是双沿采样。</li> </ol> <h4 id=446-mipi-dsi-video-mode>4.4.6 MIPI-DSI Video mode 屏配置示例</h4> <p>绝大多数MIPI-DSI 屏的配置都是用video mode。</p> <p>下面是典型MIPI-DSI video mode 的board.dts 配置示例，其中用空行把配置分成几个部分</p> <ol> <li>第一部分，决定该配置是否使用，以及使用哪个屏驱动，lcd_driver_name 决定了用哪个屏驱动来初始化。</li> <li>第二部分，决定该配置是dsi 接口，而且dsi 接口使用的是video mode。</li> <li>第三部分，决定了SoC 中的LCD 模块发送时序，请查看屏时序参数说明。</li> <li>第四部分，背光相关的设置。请看背光相关参数。</li> <li>第五部分，dsi 接口的详细设置。</li> <li>第六部分，显示效果相关的设置。</li> <li>第七部分，管脚和电源设置。请看电源和管脚参数。</li> </ol> <div class=highlight><pre><span></span><code><a href=#__codelineno-19-1 id=__codelineno-19-1 name=__codelineno-19-1></a>&amp;lcd0 {
<a href=#__codelineno-19-2 id=__codelineno-19-2 name=__codelineno-19-2></a>    /* part 1 */
<a href=#__codelineno-19-3 id=__codelineno-19-3 name=__codelineno-19-3></a>    lcd_used = &lt;1&gt;;
<a href=#__codelineno-19-4 id=__codelineno-19-4 name=__codelineno-19-4></a>    lcd_driver_name = "k101im2qa04";
<a href=#__codelineno-19-5 id=__codelineno-19-5 name=__codelineno-19-5></a>    /* part 2 */
<a href=#__codelineno-19-6 id=__codelineno-19-6 name=__codelineno-19-6></a>    lcd_if = &lt;4&gt;;
<a href=#__codelineno-19-7 id=__codelineno-19-7 name=__codelineno-19-7></a>    lcd_dsi_if = &lt;0&gt;;
<a href=#__codelineno-19-8 id=__codelineno-19-8 name=__codelineno-19-8></a>    /* part 3 */
<a href=#__codelineno-19-9 id=__codelineno-19-9 name=__codelineno-19-9></a>    lcd_x = &lt;800&gt;;
<a href=#__codelineno-19-10 id=__codelineno-19-10 name=__codelineno-19-10></a>    lcd_y = &lt;1280&gt;;
<a href=#__codelineno-19-11 id=__codelineno-19-11 name=__codelineno-19-11></a>    lcd_width = &lt;135&gt;;
<a href=#__codelineno-19-12 id=__codelineno-19-12 name=__codelineno-19-12></a>    lcd_height = &lt;216&gt;;
<a href=#__codelineno-19-13 id=__codelineno-19-13 name=__codelineno-19-13></a>    lcd_dclk_freq = &lt;68&gt;;
<a href=#__codelineno-19-14 id=__codelineno-19-14 name=__codelineno-19-14></a>    lcd_hbp = &lt;36&gt;;
<a href=#__codelineno-19-15 id=__codelineno-19-15 name=__codelineno-19-15></a>    lcd_ht = &lt;854&gt;;
<a href=#__codelineno-19-16 id=__codelineno-19-16 name=__codelineno-19-16></a>    lcd_hspw = &lt;18&gt;;
<a href=#__codelineno-19-17 id=__codelineno-19-17 name=__codelineno-19-17></a>    lcd_vbp = &lt;12&gt;;
<a href=#__codelineno-19-18 id=__codelineno-19-18 name=__codelineno-19-18></a>    lcd_vt = &lt;1320&gt;;
<a href=#__codelineno-19-19 id=__codelineno-19-19 name=__codelineno-19-19></a>    lcd_vspw = &lt;4&gt;;
<a href=#__codelineno-19-20 id=__codelineno-19-20 name=__codelineno-19-20></a>    /* part 4 */
<a href=#__codelineno-19-21 id=__codelineno-19-21 name=__codelineno-19-21></a>    lcd_backlight = &lt;50&gt;;
<a href=#__codelineno-19-22 id=__codelineno-19-22 name=__codelineno-19-22></a>    lcd_pwm_used = &lt;1&gt;;
<a href=#__codelineno-19-23 id=__codelineno-19-23 name=__codelineno-19-23></a>    lcd_pwm_ch = &lt;0&gt;;
<a href=#__codelineno-19-24 id=__codelineno-19-24 name=__codelineno-19-24></a>    lcd_pwm_freq = &lt;50000&gt;;
<a href=#__codelineno-19-25 id=__codelineno-19-25 name=__codelineno-19-25></a>    lcd_pwm_pol = &lt;1&gt;;
<a href=#__codelineno-19-26 id=__codelineno-19-26 name=__codelineno-19-26></a>    lcd_pwm_max_limit = &lt;255&gt;;
<a href=#__codelineno-19-27 id=__codelineno-19-27 name=__codelineno-19-27></a>    lcd_bl_en = &lt;&amp;pio PB 8 1 0 3 1&gt;;
<a href=#__codelineno-19-28 id=__codelineno-19-28 name=__codelineno-19-28></a>    lcd_bright_curve_en = &lt;0&gt;;
<a href=#__codelineno-19-29 id=__codelineno-19-29 name=__codelineno-19-29></a>    /* part 5 */
<a href=#__codelineno-19-30 id=__codelineno-19-30 name=__codelineno-19-30></a>    lcd_dsi_lane = &lt;4&gt;;
<a href=#__codelineno-19-31 id=__codelineno-19-31 name=__codelineno-19-31></a>    lcd_dsi_format = &lt;0&gt;;
<a href=#__codelineno-19-32 id=__codelineno-19-32 name=__codelineno-19-32></a>    lcd_dsi_te = &lt;0&gt;;
<a href=#__codelineno-19-33 id=__codelineno-19-33 name=__codelineno-19-33></a>    /* part 6 */
<a href=#__codelineno-19-34 id=__codelineno-19-34 name=__codelineno-19-34></a>    lcd_frm = &lt;0&gt;;
<a href=#__codelineno-19-35 id=__codelineno-19-35 name=__codelineno-19-35></a>    lcd_gamma_en = &lt;0&gt;;
<a href=#__codelineno-19-36 id=__codelineno-19-36 name=__codelineno-19-36></a>    lcd_cmap_en = &lt;0&gt;;
<a href=#__codelineno-19-37 id=__codelineno-19-37 name=__codelineno-19-37></a>    /* part 7 */
<a href=#__codelineno-19-38 id=__codelineno-19-38 name=__codelineno-19-38></a>    lcd_pin_power = "dcdc1";
<a href=#__codelineno-19-39 id=__codelineno-19-39 name=__codelineno-19-39></a>    lcd_pin_power1 = "eldo3";
<a href=#__codelineno-19-40 id=__codelineno-19-40 name=__codelineno-19-40></a>    lcd_power = "dc1sw";
<a href=#__codelineno-19-41 id=__codelineno-19-41 name=__codelineno-19-41></a>    lcd_gpio_0 = &lt;&amp;pio PD 22 1 0 3 1&gt;;
<a href=#__codelineno-19-42 id=__codelineno-19-42 name=__codelineno-19-42></a>    pinctrl-0 = &lt;&amp;dsi4lane_pins_a&gt;;
<a href=#__codelineno-19-43 id=__codelineno-19-43 name=__codelineno-19-43></a>    pinctrl-1 = &lt;&amp;dsi4lane_pins_b&gt;;
<a href=#__codelineno-19-44 id=__codelineno-19-44 name=__codelineno-19-44></a>};
</code></pre></div> <h4 id=447-mipi-dsi>4.4.7 MIPI-DSI 超高分辨率屏配置示例</h4> <p>根据分辨率的高低通常分为几种模式来配置。1080p 分辨率及其以下：只需要设置lcd_dsi_if 来控制就行。Command mode 一般是低分辨率屏，而video mode </p> <p>和burst mode 则是用于高分辨率的。如果分辨率达到2k，则需要额外的设置。</p> <p>分辨率达到2k 以上的屏，实际上需要多达8 条数据lane 才能正常显示，其中四条lane 发送一副图像中的奇像素，另外一副图像发送偶像素。</p> <p><strong>说明</strong></p> <p>注意只有部分IC 支持超高分辨率，具体查看芯片规格中的MIPI-DSI 部分</p> <p>下面是MIPI-DSI 高分辨超高分辨率（大于2k）board.dts 配置示例，其中用空行把配置分成几个部分</p> <ol> <li>第一部分，决定该配置是否使用，以及使用哪个屏驱动，lcd_driver_name 决定了用哪个屏驱动来初始化。</li> <li>第二部分，决定该配置是dsi 接口，而且dsi 接口使用的是video mode。</li> <li>第三部分，决定了SoC 中的LCD 模块发送时序，请查看屏时序参数说明。</li> <li>第四部分，背光相关的设置，请看背光相关参数。</li> <li>第五部分，dsi 接口的详细设置。</li> </ol> <p><strong>说明</strong> lcd_dsi_lane 依旧设置成4 条lane 的原因，是因为这个是设置一个dsi 的lane 数量，这个屏要用两个dsi。加起来就是8 条lane。</p> <p>此时lcd_tcon_mode, lcd_dsi_port_num 和lcd_tcon_en_odd_even_div 三个选项需要特别设置，点击查看具体含义，如果是1080p 及其以下分辨率的屏(只用</p> <p>4lane 或者以下的)，那么这三个配置默认0 即可。</p> <ol> <li>第六部分，显示效果部分的设置。</li> <li>第七部分，是管脚和电源的配置。请根据电路图来配置。请看电源和管脚参数。</li> </ol> <div class=highlight><pre><span></span><code><a href=#__codelineno-20-1 id=__codelineno-20-1 name=__codelineno-20-1></a>&amp;lcd0 {
<a href=#__codelineno-20-2 id=__codelineno-20-2 name=__codelineno-20-2></a>    /* part 1 */
<a href=#__codelineno-20-3 id=__codelineno-20-3 name=__codelineno-20-3></a>    lcd_used = &lt;1&gt;;
<a href=#__codelineno-20-4 id=__codelineno-20-4 name=__codelineno-20-4></a>    lcd_driver_name = "lq101r1sx03";
<a href=#__codelineno-20-5 id=__codelineno-20-5 name=__codelineno-20-5></a>    /* part 2 */
<a href=#__codelineno-20-6 id=__codelineno-20-6 name=__codelineno-20-6></a>    lcd_if = &lt;4&gt;;
<a href=#__codelineno-20-7 id=__codelineno-20-7 name=__codelineno-20-7></a>    lcd_dsi_if = &lt;0&gt;;
<a href=#__codelineno-20-8 id=__codelineno-20-8 name=__codelineno-20-8></a>    /* part 3 */
<a href=#__codelineno-20-9 id=__codelineno-20-9 name=__codelineno-20-9></a>    lcd_x = &lt;2560&gt;;
<a href=#__codelineno-20-10 id=__codelineno-20-10 name=__codelineno-20-10></a>    lcd_y = &lt;1600&gt;;
<a href=#__codelineno-20-11 id=__codelineno-20-11 name=__codelineno-20-11></a>    lcd_width = &lt;216&gt;;
<a href=#__codelineno-20-12 id=__codelineno-20-12 name=__codelineno-20-12></a>    lcd_height = &lt;135&gt;;
<a href=#__codelineno-20-13 id=__codelineno-20-13 name=__codelineno-20-13></a>    lcd_dclk_freq = &lt;268&gt;;
<a href=#__codelineno-20-14 id=__codelineno-20-14 name=__codelineno-20-14></a>    lcd_hbp = &lt;80&gt;;
<a href=#__codelineno-20-15 id=__codelineno-20-15 name=__codelineno-20-15></a>    lcd_ht = &lt;2720&gt;;
<a href=#__codelineno-20-16 id=__codelineno-20-16 name=__codelineno-20-16></a>    lcd_hspw = &lt;32&gt;;
<a href=#__codelineno-20-17 id=__codelineno-20-17 name=__codelineno-20-17></a>    lcd_vbp = &lt;37&gt;;
<a href=#__codelineno-20-18 id=__codelineno-20-18 name=__codelineno-20-18></a>    lcd_vt = &lt;1646&gt;;
<a href=#__codelineno-20-19 id=__codelineno-20-19 name=__codelineno-20-19></a>    lcd_vspw = &lt;6&gt;;
<a href=#__codelineno-20-20 id=__codelineno-20-20 name=__codelineno-20-20></a>    /* part 4 */
<a href=#__codelineno-20-21 id=__codelineno-20-21 name=__codelineno-20-21></a>    lcd_backlight = &lt;50&gt;;
<a href=#__codelineno-20-22 id=__codelineno-20-22 name=__codelineno-20-22></a>    lcd_pwm_used = &lt;1&gt;;
<a href=#__codelineno-20-23 id=__codelineno-20-23 name=__codelineno-20-23></a>    lcd_pwm_ch = &lt;0&gt;;
<a href=#__codelineno-20-24 id=__codelineno-20-24 name=__codelineno-20-24></a>    lcd_pwm_freq = &lt;50000&gt;;
<a href=#__codelineno-20-25 id=__codelineno-20-25 name=__codelineno-20-25></a>    lcd_pwm_pol = &lt;1&gt;;
<a href=#__codelineno-20-26 id=__codelineno-20-26 name=__codelineno-20-26></a>    lcd_pwm_max_limit = &lt;255&gt;;
<a href=#__codelineno-20-27 id=__codelineno-20-27 name=__codelineno-20-27></a>    lcd_bl_en = &lt;&amp;pio PH 10 1 0 3 1&gt;;
<a href=#__codelineno-20-28 id=__codelineno-20-28 name=__codelineno-20-28></a>    /* part 5 */
<a href=#__codelineno-20-29 id=__codelineno-20-29 name=__codelineno-20-29></a>    lcd_dsi_lane = &lt;4&gt;;
<a href=#__codelineno-20-30 id=__codelineno-20-30 name=__codelineno-20-30></a>    lcd_dsi_format = &lt;0&gt;;
<a href=#__codelineno-20-31 id=__codelineno-20-31 name=__codelineno-20-31></a>    lcd_dsi_te = &lt;0&gt;;
<a href=#__codelineno-20-32 id=__codelineno-20-32 name=__codelineno-20-32></a>    lcd_dsi_port_num = &lt;1&gt;;
<a href=#__codelineno-20-33 id=__codelineno-20-33 name=__codelineno-20-33></a>    lcd_tcon_mode = &lt;4&gt;;
<a href=#__codelineno-20-34 id=__codelineno-20-34 name=__codelineno-20-34></a>    lcd_tcon_en_odd_even_div = &lt;1&gt;;
<a href=#__codelineno-20-35 id=__codelineno-20-35 name=__codelineno-20-35></a>    /* part 6 */
<a href=#__codelineno-20-36 id=__codelineno-20-36 name=__codelineno-20-36></a>    lcd_frm = &lt;0&gt;;
<a href=#__codelineno-20-37 id=__codelineno-20-37 name=__codelineno-20-37></a>    lcd_io_phase = &lt;0x0000&gt;;
<a href=#__codelineno-20-38 id=__codelineno-20-38 name=__codelineno-20-38></a>    lcd_gamma_en = &lt;0&gt;;
<a href=#__codelineno-20-39 id=__codelineno-20-39 name=__codelineno-20-39></a>    lcd_bright_curve_en = &lt;0&gt;;
<a href=#__codelineno-20-40 id=__codelineno-20-40 name=__codelineno-20-40></a>    lcd_cmap_en = &lt;0&gt;;
<a href=#__codelineno-20-41 id=__codelineno-20-41 name=__codelineno-20-41></a>    /* part 7 */
<a href=#__codelineno-20-42 id=__codelineno-20-42 name=__codelineno-20-42></a>    lcd_power = "vcc18-lcd";
<a href=#__codelineno-20-43 id=__codelineno-20-43 name=__codelineno-20-43></a>    lcd_power1 = "vcc33-lcd";
<a href=#__codelineno-20-44 id=__codelineno-20-44 name=__codelineno-20-44></a>    lcd_pin_power = "vcc-pd";
<a href=#__codelineno-20-45 id=__codelineno-20-45 name=__codelineno-20-45></a>    lcd_gpio_0 = &lt;&amp;pio PH 11 1 0 3 1&gt;;
<a href=#__codelineno-20-46 id=__codelineno-20-46 name=__codelineno-20-46></a>    lcd_gpio_1 = &lt;&amp;pio PH 12 1 0 3 1&gt;;
<a href=#__codelineno-20-47 id=__codelineno-20-47 name=__codelineno-20-47></a>};
</code></pre></div> <h4 id=448-mipi-dsi-command-mode>4.4.8 MIPI-DSI Command mode 屏配置示例</h4> <p>Command mode 下的DSI 屏类似与I8080 接口，屏内部带RAM 用于缓冲和图像处理，这种情况一般都需要用屏的te 脚来触发vsync 中断，所以与其它类型的DSI </p> <p>屏不同的是，这里需要设置lcd_vsync 脚，屏的te 脚就连到lcd_vsync 上，并且lcd_dsi_te 设置成1。</p> <p>te 脚的设置非常关键，一般来说如果屏有te 脚，则必须连上，否则在显示动态画面的时候会画面会撕裂，而且软件无法解决，直接造成最终硬件无法量产的结</p> <p>果。</p> <p>这里只列举出与MIPI-DSI video mode 不同的关键之处，其它参考上一小节。</p> <ol> <li>第一部分，决定该配置是否使用，以及使用哪个屏驱动，lcd_driver_name 决定了用哪个屏驱动来初始化。</li> <li>第二部分，决定该配置是dsi 接口，而且lcd_dsi_if设置成1 表明command mode。</li> <li>第三部分，决定了SoC 中的LCD 模块发送时序，请查看屏时序参数说明。</li> <li>第四部分，背光相关的设置。请看背光相关参数。</li> <li>第五部分，dsi 接口的详细设置。lcd_dsi_te，这里设置为1 表示使能te 触发。</li> <li>第六部分，显示效果相关的设置。</li> <li>第七部分，管脚和电源设置。lcd_vsync，这里是te 脚，硬件上需要将这根脚连接到屏的te脚，软件上需要将其设置为vsync 功能。请看电源和管脚参数。</li> </ol> <div class=highlight><pre><span></span><code><a href=#__codelineno-21-1 id=__codelineno-21-1 name=__codelineno-21-1></a>&amp;lcd0 {
<a href=#__codelineno-21-2 id=__codelineno-21-2 name=__codelineno-21-2></a>    /* part 1 */
<a href=#__codelineno-21-3 id=__codelineno-21-3 name=__codelineno-21-3></a>    lcd_used = &lt;1&gt;;
<a href=#__codelineno-21-4 id=__codelineno-21-4 name=__codelineno-21-4></a>    lcd_driver_name = "h245qbn02";
<a href=#__codelineno-21-5 id=__codelineno-21-5 name=__codelineno-21-5></a>    /* part 2 */
<a href=#__codelineno-21-6 id=__codelineno-21-6 name=__codelineno-21-6></a>    lcd_if = &lt;4&gt;;
<a href=#__codelineno-21-7 id=__codelineno-21-7 name=__codelineno-21-7></a>    lcd_dsi_if = &lt;1&gt;;
<a href=#__codelineno-21-8 id=__codelineno-21-8 name=__codelineno-21-8></a>    /* part 3 */
<a href=#__codelineno-21-9 id=__codelineno-21-9 name=__codelineno-21-9></a>    lcd_x = &lt;240&gt;;
<a href=#__codelineno-21-10 id=__codelineno-21-10 name=__codelineno-21-10></a>    lcd_y = &lt;432&gt;;
<a href=#__codelineno-21-11 id=__codelineno-21-11 name=__codelineno-21-11></a>    lcd_width = &lt;52&gt;;
<a href=#__codelineno-21-12 id=__codelineno-21-12 name=__codelineno-21-12></a>    lcd_height = &lt;52&gt;;
<a href=#__codelineno-21-13 id=__codelineno-21-13 name=__codelineno-21-13></a>    lcd_dclk_freq = &lt;18&gt;;
<a href=#__codelineno-21-14 id=__codelineno-21-14 name=__codelineno-21-14></a>    lcd_hbp = &lt;96&gt;;
<a href=#__codelineno-21-15 id=__codelineno-21-15 name=__codelineno-21-15></a>    lcd_ht = &lt;480&gt;;
<a href=#__codelineno-21-16 id=__codelineno-21-16 name=__codelineno-21-16></a>    lcd_hspw = &lt;2&gt;;
<a href=#__codelineno-21-17 id=__codelineno-21-17 name=__codelineno-21-17></a>    lcd_vbp = &lt;21&gt;;
<a href=#__codelineno-21-18 id=__codelineno-21-18 name=__codelineno-21-18></a>    lcd_vt = &lt;514&gt;;
<a href=#__codelineno-21-19 id=__codelineno-21-19 name=__codelineno-21-19></a>    lcd_vspw = &lt;2&gt;;
<a href=#__codelineno-21-20 id=__codelineno-21-20 name=__codelineno-21-20></a>    /* part 4 */
<a href=#__codelineno-21-21 id=__codelineno-21-21 name=__codelineno-21-21></a>    lcd_backlight = &lt;100&gt;;
<a href=#__codelineno-21-22 id=__codelineno-21-22 name=__codelineno-21-22></a>    lcd_pwm_used = &lt;1&gt;;
<a href=#__codelineno-21-23 id=__codelineno-21-23 name=__codelineno-21-23></a>    lcd_pwm_ch = &lt;0&gt;;
<a href=#__codelineno-21-24 id=__codelineno-21-24 name=__codelineno-21-24></a>    lcd_pwm_freq = &lt;50000&gt;;
<a href=#__codelineno-21-25 id=__codelineno-21-25 name=__codelineno-21-25></a>    lcd_pwm_pol = &lt;1&gt;;
<a href=#__codelineno-21-26 id=__codelineno-21-26 name=__codelineno-21-26></a>    lcd_pwm_max_limit = &lt;255&gt;;
<a href=#__codelineno-21-27 id=__codelineno-21-27 name=__codelineno-21-27></a>    lcd_bright_curve_en = &lt;0&gt;;
<a href=#__codelineno-21-28 id=__codelineno-21-28 name=__codelineno-21-28></a>    lcd_bl_en = &lt;&amp;pio PB 3 1 0 3 1&gt;;
<a href=#__codelineno-21-29 id=__codelineno-21-29 name=__codelineno-21-29></a>    /* part 5 */
<a href=#__codelineno-21-30 id=__codelineno-21-30 name=__codelineno-21-30></a>    lcd_dsi_lane = &lt;1&gt;;
<a href=#__codelineno-21-31 id=__codelineno-21-31 name=__codelineno-21-31></a>    lcd_dsi_format = &lt;0&gt;;
<a href=#__codelineno-21-32 id=__codelineno-21-32 name=__codelineno-21-32></a>    lcd_dsi_te = &lt;1&gt;;
<a href=#__codelineno-21-33 id=__codelineno-21-33 name=__codelineno-21-33></a>    lcd_frm = &lt;0&gt;;
<a href=#__codelineno-21-34 id=__codelineno-21-34 name=__codelineno-21-34></a>    lcd_io_phase = &lt;0x0000&gt;;
<a href=#__codelineno-21-35 id=__codelineno-21-35 name=__codelineno-21-35></a>    lcd_gamma_en = &lt;0&gt;;
<a href=#__codelineno-21-36 id=__codelineno-21-36 name=__codelineno-21-36></a>    lcd_cmap_en = &lt;0&gt;;
<a href=#__codelineno-21-37 id=__codelineno-21-37 name=__codelineno-21-37></a>    /* part 7 */
<a href=#__codelineno-21-38 id=__codelineno-21-38 name=__codelineno-21-38></a>    lcd_power = "axp233_dc1sw"
<a href=#__codelineno-21-39 id=__codelineno-21-39 name=__codelineno-21-39></a>    lcd_power1 = "axp233_eldo1"
<a href=#__codelineno-21-40 id=__codelineno-21-40 name=__codelineno-21-40></a>    lcd_gpio_0 = &lt;&amp;pio PB 2 1 0 3 0&gt;;
<a href=#__codelineno-21-41 id=__codelineno-21-41 name=__codelineno-21-41></a>    lcd_vsync = &lt;&amp;pio PD 21 2 0 3 0&gt;;
<a href=#__codelineno-21-42 id=__codelineno-21-42 name=__codelineno-21-42></a>};
</code></pre></div> <h4 id=449-mipi-dsi-vr>4.4.9 MIPI-DSI VR 双屏配置示例</h4> <p>实际场景是两个物理屏，每个屏是1080p，每个屏都是4 条lane，要求的是两个屏各自显示一帧图像的左右一半，由于宽高比和横竖屏以及DE 处理能力的因素，</p> <p>一个DE+ 一个tcon+ 两个DSI 已经无法满足，必须用两个tcon 各自驱动一个dsi，但是两路显示必须要同步，这就需要用到两个tcon 的同步模式。</p> <ol> <li> <p>LCD0 标记为slave tcon，它由master tcon 来驱动（设置lcd_tcon_mode）。</p> </li> <li> <p>LCD1 标记为master tcon，并且负责两个屏的所有电源，背光，管脚的开关。</p> </li> <li> <p>把管脚，电源等都放到LCD1 开，LCD0 先开，对应模块寄存器都初始化，但是电源不开，然后开LCD1，LCD1 使能就会触发LCD0 一起发数据。这样做到同时</p> </li> </ol> <p>亮灭。</p> <p><strong>说明</strong></p> <p>注意：仅有极少IC 支持该模式</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-22-1 id=__codelineno-22-1 name=__codelineno-22-1></a>&amp;lcd0 {
<a href=#__codelineno-22-2 id=__codelineno-22-2 name=__codelineno-22-2></a>    lcd_used = &lt;1&gt;;
<a href=#__codelineno-22-3 id=__codelineno-22-3 name=__codelineno-22-3></a>    lcd_driver_name = "lpm025m475a";
<a href=#__codelineno-22-4 id=__codelineno-22-4 name=__codelineno-22-4></a>    ;lcd_bl_0_percent = &lt;0&gt;;
<a href=#__codelineno-22-5 id=__codelineno-22-5 name=__codelineno-22-5></a>    ;lcd_bl_40_percent = &lt;23&gt;;
<a href=#__codelineno-22-6 id=__codelineno-22-6 name=__codelineno-22-6></a>    ;lcd_bl_100_percent = &lt;100&gt;;
<a href=#__codelineno-22-7 id=__codelineno-22-7 name=__codelineno-22-7></a>    lcd_backlight = &lt;50&gt;;
<a href=#__codelineno-22-8 id=__codelineno-22-8 name=__codelineno-22-8></a>    lcd_if = &lt;4&gt;;
<a href=#__codelineno-22-9 id=__codelineno-22-9 name=__codelineno-22-9></a>    lcd_x = &lt;1080&gt;;
<a href=#__codelineno-22-10 id=__codelineno-22-10 name=__codelineno-22-10></a>    lcd_y = &lt;1920&gt;;
<a href=#__codelineno-22-11 id=__codelineno-22-11 name=__codelineno-22-11></a>    lcd_width = &lt;31&gt;;
<a href=#__codelineno-22-12 id=__codelineno-22-12 name=__codelineno-22-12></a>    lcd_height = &lt;56&gt;;
<a href=#__codelineno-22-13 id=__codelineno-22-13 name=__codelineno-22-13></a>    lcd_dclk_freq = &lt;141&gt;;
<a href=#__codelineno-22-14 id=__codelineno-22-14 name=__codelineno-22-14></a>    lcd_pwm_used = &lt;0&gt;;
<a href=#__codelineno-22-15 id=__codelineno-22-15 name=__codelineno-22-15></a>    lcd_pwm_ch = &lt;0&gt;;
<a href=#__codelineno-22-16 id=__codelineno-22-16 name=__codelineno-22-16></a>    lcd_pwm_freq = &lt;20000&gt;;
<a href=#__codelineno-22-17 id=__codelineno-22-17 name=__codelineno-22-17></a>    lcd_pwm_pol = &lt;0&gt;;
<a href=#__codelineno-22-18 id=__codelineno-22-18 name=__codelineno-22-18></a>    lcd_pwm_max_limit = &lt;255&gt;;
<a href=#__codelineno-22-19 id=__codelineno-22-19 name=__codelineno-22-19></a>    lcd_hbp = &lt;100&gt;;
<a href=#__codelineno-22-20 id=__codelineno-22-20 name=__codelineno-22-20></a>    lcd_ht = &lt;1212&gt;;
<a href=#__codelineno-22-21 id=__codelineno-22-21 name=__codelineno-22-21></a>    lcd_hspw = &lt;5&gt;;
<a href=#__codelineno-22-22 id=__codelineno-22-22 name=__codelineno-22-22></a>    lcd_vbp = &lt;8&gt;;
<a href=#__codelineno-22-23 id=__codelineno-22-23 name=__codelineno-22-23></a>    lcd_vt = &lt;1936&gt;;
<a href=#__codelineno-22-24 id=__codelineno-22-24 name=__codelineno-22-24></a>    lcd_vspw = &lt;2&gt;;
<a href=#__codelineno-22-25 id=__codelineno-22-25 name=__codelineno-22-25></a>    lcd_dsi_if = &lt;0&gt;;
<a href=#__codelineno-22-26 id=__codelineno-22-26 name=__codelineno-22-26></a>    lcd_dsi_lane = &lt;4&gt;;
<a href=#__codelineno-22-27 id=__codelineno-22-27 name=__codelineno-22-27></a>    lcd_dsi_format = &lt;0&gt;;
<a href=#__codelineno-22-28 id=__codelineno-22-28 name=__codelineno-22-28></a>    lcd_dsi_te = &lt;0&gt;;
<a href=#__codelineno-22-29 id=__codelineno-22-29 name=__codelineno-22-29></a>    lcd_dsi_eotp = &lt;0&gt;;
<a href=#__codelineno-22-30 id=__codelineno-22-30 name=__codelineno-22-30></a>    lcd_frm = &lt;0&gt;;
<a href=#__codelineno-22-31 id=__codelineno-22-31 name=__codelineno-22-31></a>    lcd_io_phase = &lt;0x0000&gt;;
<a href=#__codelineno-22-32 id=__codelineno-22-32 name=__codelineno-22-32></a>    lcd_hv_clk_phase = &lt;0&gt;;
<a href=#__codelineno-22-33 id=__codelineno-22-33 name=__codelineno-22-33></a>    lcd_hv_sync_polarity= &lt;0&gt;;
<a href=#__codelineno-22-34 id=__codelineno-22-34 name=__codelineno-22-34></a>    lcd_gamma_en = &lt;0&gt;;
<a href=#__codelineno-22-35 id=__codelineno-22-35 name=__codelineno-22-35></a>    lcd_bright_curve_en = &lt;0&gt;;
<a href=#__codelineno-22-36 id=__codelineno-22-36 name=__codelineno-22-36></a>    lcd_cmap_en = &lt;0&gt;;
<a href=#__codelineno-22-37 id=__codelineno-22-37 name=__codelineno-22-37></a>    lcd_dsi_port_num = &lt;0&gt;;
<a href=#__codelineno-22-38 id=__codelineno-22-38 name=__codelineno-22-38></a>    lcd_tcon_mode = &lt;3&gt;;
<a href=#__codelineno-22-39 id=__codelineno-22-39 name=__codelineno-22-39></a>    lcd_slave_stop_pos = &lt;0&gt;;
<a href=#__codelineno-22-40 id=__codelineno-22-40 name=__codelineno-22-40></a>    lcd_sync_pixel_num = &lt;0&gt;;
<a href=#__codelineno-22-41 id=__codelineno-22-41 name=__codelineno-22-41></a>    lcd_sync_line_num = &lt;0&gt;;
<a href=#__codelineno-22-42 id=__codelineno-22-42 name=__codelineno-22-42></a>    };
<a href=#__codelineno-22-43 id=__codelineno-22-43 name=__codelineno-22-43></a>&amp;lcd1 {
<a href=#__codelineno-22-44 id=__codelineno-22-44 name=__codelineno-22-44></a>    lcd_used = &lt;1&gt;;
<a href=#__codelineno-22-45 id=__codelineno-22-45 name=__codelineno-22-45></a>    lcd_driver_name = "lpm025m475a";
<a href=#__codelineno-22-46 id=__codelineno-22-46 name=__codelineno-22-46></a>    ;lcd_bl_0_percent = &lt;0&gt;;
<a href=#__codelineno-22-47 id=__codelineno-22-47 name=__codelineno-22-47></a>    ;lcd_bl_40_percent = &lt;23&gt;;
<a href=#__codelineno-22-48 id=__codelineno-22-48 name=__codelineno-22-48></a>    ;lcd_bl_100_percent = &lt;100&gt;;
<a href=#__codelineno-22-49 id=__codelineno-22-49 name=__codelineno-22-49></a>    lcd_backlight = &lt;50&gt;;
<a href=#__codelineno-22-50 id=__codelineno-22-50 name=__codelineno-22-50></a>    lcd_if = &lt;4&gt;;
<a href=#__codelineno-22-51 id=__codelineno-22-51 name=__codelineno-22-51></a>    lcd_x = &lt;1080&gt;;
<a href=#__codelineno-22-52 id=__codelineno-22-52 name=__codelineno-22-52></a>    lcd_y = &lt;1920&gt;;
<a href=#__codelineno-22-53 id=__codelineno-22-53 name=__codelineno-22-53></a>    lcd_width = &lt;31&gt;;
<a href=#__codelineno-22-54 id=__codelineno-22-54 name=__codelineno-22-54></a>    lcd_height = &lt;56&gt;;
<a href=#__codelineno-22-55 id=__codelineno-22-55 name=__codelineno-22-55></a>    lcd_dclk_freq = &lt;141&gt;;
<a href=#__codelineno-22-56 id=__codelineno-22-56 name=__codelineno-22-56></a>    lcd_pwm_used = &lt;1&gt;;
<a href=#__codelineno-22-57 id=__codelineno-22-57 name=__codelineno-22-57></a>    lcd_pwm_ch = &lt;0&gt;;
<a href=#__codelineno-22-58 id=__codelineno-22-58 name=__codelineno-22-58></a>    lcd_pwm_freq = &lt;20000&gt;;
<a href=#__codelineno-22-59 id=__codelineno-22-59 name=__codelineno-22-59></a>    lcd_pwm_pol = &lt;0&gt;;
<a href=#__codelineno-22-60 id=__codelineno-22-60 name=__codelineno-22-60></a>    lcd_pwm_max_limit = &lt;255&gt;;
<a href=#__codelineno-22-61 id=__codelineno-22-61 name=__codelineno-22-61></a>    lcd_hbp = &lt;100&gt;;
<a href=#__codelineno-22-62 id=__codelineno-22-62 name=__codelineno-22-62></a>    lcd_ht = &lt;1212&gt;;
<a href=#__codelineno-22-63 id=__codelineno-22-63 name=__codelineno-22-63></a>    lcd_hspw = &lt;5&gt;;
<a href=#__codelineno-22-64 id=__codelineno-22-64 name=__codelineno-22-64></a>    lcd_vbp = &lt;8&gt;;
<a href=#__codelineno-22-65 id=__codelineno-22-65 name=__codelineno-22-65></a>    lcd_vt = &lt;1936&gt;;
<a href=#__codelineno-22-66 id=__codelineno-22-66 name=__codelineno-22-66></a>    lcd_vspw = &lt;2&gt;;
<a href=#__codelineno-22-67 id=__codelineno-22-67 name=__codelineno-22-67></a>    lcd_dsi_if = &lt;0&gt;;
<a href=#__codelineno-22-68 id=__codelineno-22-68 name=__codelineno-22-68></a>    lcd_dsi_lane = &lt;4&gt;;
<a href=#__codelineno-22-69 id=__codelineno-22-69 name=__codelineno-22-69></a>    lcd_dsi_format = &lt;0&gt;;
<a href=#__codelineno-22-70 id=__codelineno-22-70 name=__codelineno-22-70></a>    lcd_dsi_te = &lt;0&gt;;
<a href=#__codelineno-22-71 id=__codelineno-22-71 name=__codelineno-22-71></a>    lcd_dsi_eotp = &lt;0&gt;;
<a href=#__codelineno-22-72 id=__codelineno-22-72 name=__codelineno-22-72></a>    lcd_frm = &lt;0&gt;;
<a href=#__codelineno-22-73 id=__codelineno-22-73 name=__codelineno-22-73></a>    lcd_io_phase = &lt;0x0000&gt;;
<a href=#__codelineno-22-74 id=__codelineno-22-74 name=__codelineno-22-74></a>    lcd_hv_clk_phase = &lt;0&gt;;
<a href=#__codelineno-22-75 id=__codelineno-22-75 name=__codelineno-22-75></a>    lcd_hv_sync_polarity= &lt;0&gt;;
<a href=#__codelineno-22-76 id=__codelineno-22-76 name=__codelineno-22-76></a>    lcd_gamma_en = &lt;0&gt;;
<a href=#__codelineno-22-77 id=__codelineno-22-77 name=__codelineno-22-77></a>    lcd_bright_curve_en = &lt;0&gt;;
<a href=#__codelineno-22-78 id=__codelineno-22-78 name=__codelineno-22-78></a>    lcd_cmap_en = &lt;0&gt;;
<a href=#__codelineno-22-79 id=__codelineno-22-79 name=__codelineno-22-79></a>    lcd_dsi_port_num = &lt;0&gt;;
<a href=#__codelineno-22-80 id=__codelineno-22-80 name=__codelineno-22-80></a>    lcd_tcon_mode = &lt;1&gt;;
<a href=#__codelineno-22-81 id=__codelineno-22-81 name=__codelineno-22-81></a>    lcd_tcon_slave_num = &lt;0&gt;;
<a href=#__codelineno-22-82 id=__codelineno-22-82 name=__codelineno-22-82></a>    lcd_slave_stop_pos = &lt;0&gt;;
<a href=#__codelineno-22-83 id=__codelineno-22-83 name=__codelineno-22-83></a>    lcd_sync_pixel_num = &lt;0&gt;;
<a href=#__codelineno-22-84 id=__codelineno-22-84 name=__codelineno-22-84></a>    lcd_sync_line_num = &lt;0&gt;;
<a href=#__codelineno-22-85 id=__codelineno-22-85 name=__codelineno-22-85></a>    lcd_bl_en = &lt;&amp;pio PH 10 1 0 3 1&gt;;
<a href=#__codelineno-22-86 id=__codelineno-22-86 name=__codelineno-22-86></a>    lcd_power = "vcc-dsi";
<a href=#__codelineno-22-87 id=__codelineno-22-87 name=__codelineno-22-87></a>    lcd_power1 = "vcc18-lcd";
<a href=#__codelineno-22-88 id=__codelineno-22-88 name=__codelineno-22-88></a>    lcd_power2 = "vcc33-lcd";
<a href=#__codelineno-22-89 id=__codelineno-22-89 name=__codelineno-22-89></a>    lcd_gpio_0 = &lt;&amp;pio PH 8 1 0 3 1&gt;;
<a href=#__codelineno-22-90 id=__codelineno-22-90 name=__codelineno-22-90></a>    lcd_gpio_1 = &lt;&amp;pio PH 11 1 0 3 1&gt;;
<a href=#__codelineno-22-91 id=__codelineno-22-91 name=__codelineno-22-91></a>    lcd_gpio_2 = &lt;&amp;pio PH 12 1 0 3 1&gt;;
<a href=#__codelineno-22-92 id=__codelineno-22-92 name=__codelineno-22-92></a>    lcd_pin_power = "vcc-ph"
<a href=#__codelineno-22-93 id=__codelineno-22-93 name=__codelineno-22-93></a>};
</code></pre></div> <h3 id=45-i8080>4.5 I8080 接口</h3> <h4 id=451>4.5.1 概述</h4> <p>Intel 8080 接口屏(又称MCU 接口) 很老的协议，一般用在分辨率很小的屏上。</p> <p>信号线：</p> <p>• CS 片选信号，决定该芯片是否工作。</p> <p>• RS 寄存器选择信号，低表示选择index 或者status 寄存器，高表示选择控制寄存器。实际场景中一般接SoC 的LCD_DE 脚（数据使能脚）。</p> <p>• /WR （低表示写数据) 数据命令区分信号，也就是写时钟信号，一般接SoC 的LCD_CLK 脚。</p> <p>• /RD （低表示读数据）数据读信号，也就是读时钟信号，一般接SoC 的LCD_HSYNC 脚。</p> <p>• RESET 复位LCD（用固定命令系列0 1 0 来复位)。</p> <p>• Data 双向传输的数据总线。</p> <p>I8080 根据的数据位宽接口有8/9/16/18，连哪些脚参考，即使位宽一样，连的管脚也不一样，还要考虑的因素是rgb 格式。</p> <ol> <li> <p>RGB565，总共有65K 这么多种颜色。</p> </li> <li> <p>RGB666，总共有262K 那么多种颜色。</p> </li> <li> <p>9bit 固定为262K。</p> </li> </ol> <p>从屏手册得知：数据位宽，颜色数量之和，参考RGB 和I8080 管脚配置示意图，进行硬件连接。</p> <h4 id=452-i8080>4.5.2 I8080 接口屏典型配置示例</h4> <p>下面是典型是一个RGB565 的，位宽为8 位的I8080 接口的屏的board.dts 配置示例</p> <p>​ 1.第一部分，决定该配置是否使用，以及使用哪个屏驱动，lcd_driver_name 决定了用哪个屏驱动来初始化。</p> <p>​ 2.第二部分，决定该配置是I8080 接口，而且是8bit/2cycle 格式RGB565。</p> <p><strong>技巧</strong> 为什么叫做8bit/2cycle RGB565 呢，首先它的格式是RGB565，也就是一个像素是16bit，然后它是8bit 的位宽，就需要两个时钟周期才能发完一个像素，所以才</p> <p>叫2 cycle。</p> <ol> <li> <p>第三部分，决定了SoC 中的LCD 模块发送时序，请查看屏时序参数说明。这里比较特殊的是设置像素时钟要满足以下公式：lcd_dclk_freq*2&gt;=lcd_ht*lcd_vt*fps，或者lcd_dclk_freq=lcd_ht *2*lcd_vt*60, 也就是要么双倍lcd_ht要么双倍lcd_dclk_freq。</p> </li> <li> <p>第四部分，背光相关的设置。请看背光相关参数。</p> </li> <li> <p>第五部分，cpu 接口的详细设置。这里使能了lcd_cpu_te和lcd_cpu_mode，意思是使用te触发和规定了触发间隔。这是非常关键的设置。</p> </li> <li> <p>第六部分，显示效果相关的设置。这里使能了lcd_frm也是比较关键的设置，详细意思点击查看。</p> </li> <li> <p>第七部分，管脚和电源设置。这里为了用te 触发，同样需要设置lcd_vsync，该脚功能定义已经包括在pinctrl-0 中。这里自定义了一组管脚。参考RGB 和</p> </li> </ol> <p>I8080 管脚配置示意图，通过确定I8080 的位宽，像素格式（颜色数量），在表中确定需要连接哪些管脚。请看电源和管脚参数。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-23-1 id=__codelineno-23-1 name=__codelineno-23-1></a>&amp;pio {
<a href=#__codelineno-23-2 id=__codelineno-23-2 name=__codelineno-23-2></a>    I8080_8bit_pins_a: I8080_8bit@0 {
<a href=#__codelineno-23-3 id=__codelineno-23-3 name=__codelineno-23-3></a>        allwinner,pins = "PD1", "PD2", "PD3", "PD4", "PD5", "PD6", "PD7", "PD8", "PD18", "
<a href=#__codelineno-23-4 id=__codelineno-23-4 name=__codelineno-23-4></a>        PD19", "PD20", "PD21";
<a href=#__codelineno-23-5 id=__codelineno-23-5 name=__codelineno-23-5></a>        allwinner,pname = "PD1", "PD2", "PD3", "PD4", "PD5", "PD6", "PD7", "PD8", "PD18", "
<a href=#__codelineno-23-6 id=__codelineno-23-6 name=__codelineno-23-6></a>        PD19", "PD20", "PD21";
<a href=#__codelineno-23-7 id=__codelineno-23-7 name=__codelineno-23-7></a>        allwinner,function = "I8080_8bit";
<a href=#__codelineno-23-8 id=__codelineno-23-8 name=__codelineno-23-8></a>        allwinner,muxsel = &lt;2&gt;;
<a href=#__codelineno-23-9 id=__codelineno-23-9 name=__codelineno-23-9></a>        allwinner,drive = &lt;3&gt;;
<a href=#__codelineno-23-10 id=__codelineno-23-10 name=__codelineno-23-10></a>        allwinner,pull = &lt;0&gt;;
<a href=#__codelineno-23-11 id=__codelineno-23-11 name=__codelineno-23-11></a>    };
<a href=#__codelineno-23-12 id=__codelineno-23-12 name=__codelineno-23-12></a>    I8080_8bit_pins_b: I8080_8bit@1 {
<a href=#__codelineno-23-13 id=__codelineno-23-13 name=__codelineno-23-13></a>        allwinner,pins = "PD1", "PD2", "PD3", "PD4", "PD5", "PD6", "PD7", "PD8", "PD18", "
<a href=#__codelineno-23-14 id=__codelineno-23-14 name=__codelineno-23-14></a>        PD19", "PD20", "PD21";
<a href=#__codelineno-23-15 id=__codelineno-23-15 name=__codelineno-23-15></a>        allwinner,pname = "PD1", "PD2", "PD3", "PD4", "PD5", "PD6", "PD7", "PD8", "PD18", "
<a href=#__codelineno-23-16 id=__codelineno-23-16 name=__codelineno-23-16></a>        PD19", "PD20", "PD21";
<a href=#__codelineno-23-17 id=__codelineno-23-17 name=__codelineno-23-17></a>        allwinner,function = "I8080_8bit_suspend";
<a href=#__codelineno-23-18 id=__codelineno-23-18 name=__codelineno-23-18></a>        allwinner,muxsel = &lt;7&gt;;
<a href=#__codelineno-23-19 id=__codelineno-23-19 name=__codelineno-23-19></a>        allwinner,drive = &lt;3&gt;;
<a href=#__codelineno-23-20 id=__codelineno-23-20 name=__codelineno-23-20></a>        allwinner,pull = &lt;0&gt;;
<a href=#__codelineno-23-21 id=__codelineno-23-21 name=__codelineno-23-21></a>    };
<a href=#__codelineno-23-22 id=__codelineno-23-22 name=__codelineno-23-22></a>};
<a href=#__codelineno-23-23 id=__codelineno-23-23 name=__codelineno-23-23></a>&amp;lcd0 {
<a href=#__codelineno-23-24 id=__codelineno-23-24 name=__codelineno-23-24></a>    /* part 1 */
<a href=#__codelineno-23-25 id=__codelineno-23-25 name=__codelineno-23-25></a>    lcd_used = &lt;1&gt;;
<a href=#__codelineno-23-26 id=__codelineno-23-26 name=__codelineno-23-26></a>    lcd_driver_name = "s2003t46g";
<a href=#__codelineno-23-27 id=__codelineno-23-27 name=__codelineno-23-27></a>    /* part 2 */
<a href=#__codelineno-23-28 id=__codelineno-23-28 name=__codelineno-23-28></a>    lcd_if = &lt;1&gt;;
<a href=#__codelineno-23-29 id=__codelineno-23-29 name=__codelineno-23-29></a>    lcd_cpu_if = &lt;14&gt;;
<a href=#__codelineno-23-30 id=__codelineno-23-30 name=__codelineno-23-30></a>    /* part 3 */
<a href=#__codelineno-23-31 id=__codelineno-23-31 name=__codelineno-23-31></a>    lcd_x = &lt;240&gt;;
<a href=#__codelineno-23-32 id=__codelineno-23-32 name=__codelineno-23-32></a>    lcd_y = &lt;320&gt;;
<a href=#__codelineno-23-33 id=__codelineno-23-33 name=__codelineno-23-33></a>    lcd_width = &lt;108&gt;;
<a href=#__codelineno-23-34 id=__codelineno-23-34 name=__codelineno-23-34></a>    lcd_height = &lt;64&gt;;
<a href=#__codelineno-23-35 id=__codelineno-23-35 name=__codelineno-23-35></a>    lcd_dclk_freq = &lt;16&gt;;
<a href=#__codelineno-23-36 id=__codelineno-23-36 name=__codelineno-23-36></a>    lcd_hbp = &lt;20&gt;;
<a href=#__codelineno-23-37 id=__codelineno-23-37 name=__codelineno-23-37></a>    lcd_ht = &lt;298&gt;;
<a href=#__codelineno-23-38 id=__codelineno-23-38 name=__codelineno-23-38></a>    lcd_hspw = &lt;10&gt;;
<a href=#__codelineno-23-39 id=__codelineno-23-39 name=__codelineno-23-39></a>    lcd_vbp = &lt;8&gt;;
<a href=#__codelineno-23-40 id=__codelineno-23-40 name=__codelineno-23-40></a>    lcd_vt = &lt;336&gt;;
<a href=#__codelineno-23-41 id=__codelineno-23-41 name=__codelineno-23-41></a>    lcd_vspw = &lt;4&gt;;
<a href=#__codelineno-23-42 id=__codelineno-23-42 name=__codelineno-23-42></a>    /* part 4 */
<a href=#__codelineno-23-43 id=__codelineno-23-43 name=__codelineno-23-43></a>    lcd_pwm_used = &lt;1&gt;;
<a href=#__codelineno-23-44 id=__codelineno-23-44 name=__codelineno-23-44></a>    lcd_pwm_ch = &lt;8&gt;;
<a href=#__codelineno-23-45 id=__codelineno-23-45 name=__codelineno-23-45></a>    lcd_pwm_freq = &lt;50000&gt;;
<a href=#__codelineno-23-46 id=__codelineno-23-46 name=__codelineno-23-46></a>    lcd_pwm_pol = &lt;1&gt;;
<a href=#__codelineno-23-47 id=__codelineno-23-47 name=__codelineno-23-47></a>    lcd_pwm_max_limit = &lt;255&gt;;
<a href=#__codelineno-23-48 id=__codelineno-23-48 name=__codelineno-23-48></a>    lcd_bright_curve_en = &lt;1&gt;;
<a href=#__codelineno-23-49 id=__codelineno-23-49 name=__codelineno-23-49></a>    /* part 5 */
<a href=#__codelineno-23-50 id=__codelineno-23-50 name=__codelineno-23-50></a>    lcd_cpu_mode = &lt;1&gt;;
<a href=#__codelineno-23-51 id=__codelineno-23-51 name=__codelineno-23-51></a>    lcd_cpu_te = &lt;1&gt;;
<a href=#__codelineno-23-52 id=__codelineno-23-52 name=__codelineno-23-52></a>    /* part 6 */
<a href=#__codelineno-23-53 id=__codelineno-23-53 name=__codelineno-23-53></a>    lcd_frm = &lt;1&gt;;
<a href=#__codelineno-23-54 id=__codelineno-23-54 name=__codelineno-23-54></a>    lcd_gamma_en = &lt;0&gt;;
<a href=#__codelineno-23-55 id=__codelineno-23-55 name=__codelineno-23-55></a>    lcd_cmap_en = &lt;0&gt;;
<a href=#__codelineno-23-56 id=__codelineno-23-56 name=__codelineno-23-56></a>    lcd_rb_swap = &lt;0&gt;;
<a href=#__codelineno-23-57 id=__codelineno-23-57 name=__codelineno-23-57></a>    /* part 7 */
<a href=#__codelineno-23-58 id=__codelineno-23-58 name=__codelineno-23-58></a>    lcd_power = "vcc-lcd";
<a href=#__codelineno-23-59 id=__codelineno-23-59 name=__codelineno-23-59></a>    lcd_pin_power = "vcc-pd";
<a href=#__codelineno-23-60 id=__codelineno-23-60 name=__codelineno-23-60></a>    ;reset pin
<a href=#__codelineno-23-61 id=__codelineno-23-61 name=__codelineno-23-61></a>    lcd_gpio_0 = &lt;&amp;pio PD 9 1 0 3 1&gt;;
<a href=#__codelineno-23-62 id=__codelineno-23-62 name=__codelineno-23-62></a>    ;cs pin
<a href=#__codelineno-23-63 id=__codelineno-23-63 name=__codelineno-23-63></a>    lcd_gpio_1 = &lt;&amp;pio PD 10 1 0 3 0&gt;;
<a href=#__codelineno-23-64 id=__codelineno-23-64 name=__codelineno-23-64></a>    pinctrl-0 = &lt;&amp;I8080_8bit_pins_a&gt;;
<a href=#__codelineno-23-65 id=__codelineno-23-65 name=__codelineno-23-65></a>    pinctrl-1 = &lt;&amp;I8080_8bit_pins_a&gt;;
<a href=#__codelineno-23-66 id=__codelineno-23-66 name=__codelineno-23-66></a>};
</code></pre></div> <h3 id=46-lvds>4.6 LVDS 接口</h3> <h4 id=461>4.6.1 概述</h4> <p>LVDS 即Low Voltage Differential Signaling 是一种低压差分信号接口。</p> <h4 id=462-lvds-single-link>4.6.2 LVDS Single link 典型配置</h4> <p>LVDS 接口，lcd0 对应的lvds 管脚和lcd1 对应的lvds 管脚是固定而且不一样。</p> <p>由于lvds 协议不具备传输数据之外的能力，一般屏端不需要任何初始化，只需要初始化SoC 端即可。所以这里的lcd_driver_name 依旧是”default_lcd”，当然你可</p> <p>以为初始化的启动延时做专门的优化。</p> <p>下面是典型是single link lvds 屏的board.dts 配置示例，其中用空行把配置分成几个部分</p> <ol> <li> <p>第一部分，决定该配置是否使用，以及使用哪个屏驱动，lcd_driver_name 决定了用哪个屏 驱动来初始化。</p> </li> <li> <p>第二部分，决定该配置是lvds 接口，而且是single link。 <strong>技巧</strong> 如果Dual Link 的屏，那么除了要改lcd_lvds_if 为1 之外，管脚方面还要把lcd1 的管脚一起搬到下面去，也就是总共需要配置PD0 到PD9，和配置PD10 到</p> </li> </ol> <p>PD19 总共二十根脚为lvds 管脚功能（功能3）。当然屏的timing 也是要根据屏来改的。</p> <ol> <li> <p>第三部分，决定了SoC 中的LCD 模块发送时序，请查看屏时序参数说明。</p> </li> <li> <p>第四部分，背光相关的设置。请看背光相关参数。</p> </li> <li> <p>第五部分，lvds 接口的详细设置。</p> </li> <li> <p>第六部分，显示效果相关的设置。</p> </li> <li> <p>第七部分，管脚和电源设置。请看电源和管脚参数。</p> </li> </ol> <div class=highlight><pre><span></span><code><a href=#__codelineno-24-1 id=__codelineno-24-1 name=__codelineno-24-1></a>&amp;lcd0 {
<a href=#__codelineno-24-2 id=__codelineno-24-2 name=__codelineno-24-2></a>    /* part 1 */
<a href=#__codelineno-24-3 id=__codelineno-24-3 name=__codelineno-24-3></a>    lcd_used = 1
<a href=#__codelineno-24-4 id=__codelineno-24-4 name=__codelineno-24-4></a>    lcd_driver_name = "default_lcd";
<a href=#__codelineno-24-5 id=__codelineno-24-5 name=__codelineno-24-5></a>    /* part 2 */
<a href=#__codelineno-24-6 id=__codelineno-24-6 name=__codelineno-24-6></a>    lcd_if = 3
<a href=#__codelineno-24-7 id=__codelineno-24-7 name=__codelineno-24-7></a>    lcd_lvds_if = 0
<a href=#__codelineno-24-8 id=__codelineno-24-8 name=__codelineno-24-8></a>    /* part 3 */
<a href=#__codelineno-24-9 id=__codelineno-24-9 name=__codelineno-24-9></a>    lcd_x = 1280
<a href=#__codelineno-24-10 id=__codelineno-24-10 name=__codelineno-24-10></a>    lcd_y = 800
<a href=#__codelineno-24-11 id=__codelineno-24-11 name=__codelineno-24-11></a>    lcd_width = 150
<a href=#__codelineno-24-12 id=__codelineno-24-12 name=__codelineno-24-12></a>    lcd_height = 94
<a href=#__codelineno-24-13 id=__codelineno-24-13 name=__codelineno-24-13></a>    lcd_dclk_freq = 70
<a href=#__codelineno-24-14 id=__codelineno-24-14 name=__codelineno-24-14></a>    lcd_hbp = 20
<a href=#__codelineno-24-15 id=__codelineno-24-15 name=__codelineno-24-15></a>    lcd_ht = 1418
<a href=#__codelineno-24-16 id=__codelineno-24-16 name=__codelineno-24-16></a>    lcd_hspw = 10
<a href=#__codelineno-24-17 id=__codelineno-24-17 name=__codelineno-24-17></a>    lcd_vbp = 10
<a href=#__codelineno-24-18 id=__codelineno-24-18 name=__codelineno-24-18></a>    lcd_vt = 814
<a href=#__codelineno-24-19 id=__codelineno-24-19 name=__codelineno-24-19></a>    lcd_vspw = 5
<a href=#__codelineno-24-20 id=__codelineno-24-20 name=__codelineno-24-20></a>    /* part 4 */
<a href=#__codelineno-24-21 id=__codelineno-24-21 name=__codelineno-24-21></a>    lcd_pwm_used = 1
<a href=#__codelineno-24-22 id=__codelineno-24-22 name=__codelineno-24-22></a>    lcd_pwm_ch = 0
<a href=#__codelineno-24-23 id=__codelineno-24-23 name=__codelineno-24-23></a>    lcd_pwm_freq = 50000
<a href=#__codelineno-24-24 id=__codelineno-24-24 name=__codelineno-24-24></a>    lcd_pwm_pol = 0
<a href=#__codelineno-24-25 id=__codelineno-24-25 name=__codelineno-24-25></a>    lcd_pwm_max_limit = 255
<a href=#__codelineno-24-26 id=__codelineno-24-26 name=__codelineno-24-26></a>    lcd_backlight = 50
<a href=#__codelineno-24-27 id=__codelineno-24-27 name=__codelineno-24-27></a>    lcd_bright_curve_en = 0
<a href=#__codelineno-24-28 id=__codelineno-24-28 name=__codelineno-24-28></a>    lcd_bl_en = &lt;&amp;pio PD 21 1 0 3 1&gt;;
<a href=#__codelineno-24-29 id=__codelineno-24-29 name=__codelineno-24-29></a>    /* part 5 */
<a href=#__codelineno-24-30 id=__codelineno-24-30 name=__codelineno-24-30></a>    lcd_lvds_colordepth = 1
<a href=#__codelineno-24-31 id=__codelineno-24-31 name=__codelineno-24-31></a>    lcd_lvds_mode = 0
<a href=#__codelineno-24-32 id=__codelineno-24-32 name=__codelineno-24-32></a>    /* part 6 */
<a href=#__codelineno-24-33 id=__codelineno-24-33 name=__codelineno-24-33></a>    lcd_frm = 1
<a href=#__codelineno-24-34 id=__codelineno-24-34 name=__codelineno-24-34></a>    lcd_hv_clk_phase = 0
<a href=#__codelineno-24-35 id=__codelineno-24-35 name=__codelineno-24-35></a>    lcd_hv_sync_polarity= 0
<a href=#__codelineno-24-36 id=__codelineno-24-36 name=__codelineno-24-36></a>    lcd_gamma_en = 0
<a href=#__codelineno-24-37 id=__codelineno-24-37 name=__codelineno-24-37></a>    lcd_cmap_en = 0
<a href=#__codelineno-24-38 id=__codelineno-24-38 name=__codelineno-24-38></a>    /* part 7 */
<a href=#__codelineno-24-39 id=__codelineno-24-39 name=__codelineno-24-39></a>    lcd_power = "vcc-lcd"
<a href=#__codelineno-24-40 id=__codelineno-24-40 name=__codelineno-24-40></a>    pinctrl-0 = &lt;&amp;lvds0_pins_a&gt;;
<a href=#__codelineno-24-41 id=__codelineno-24-41 name=__codelineno-24-41></a>    pinctrl-1 = &lt;&amp;lvds0_pins_b&gt;;
<a href=#__codelineno-24-42 id=__codelineno-24-42 name=__codelineno-24-42></a>};
</code></pre></div> <p>4.6.3 LVDS dual link 典型配置</p> <p>如果Dual Link 的屏:</p> <ol> <li>lcd_lvds_if设置为1（场景1）或者2（场景2）。</li> <li>管脚配置方面，也从4 data lane 变成8 data lane，包括clk lane 总共20 根管脚。</li> </ol> <p>场景1，物理上连接一个屏，8 data lane，SoC 向每4 条lane 传输一半的像素，奇数像素或者偶数像素。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-25-1 id=__codelineno-25-1 name=__codelineno-25-1></a>&amp;lcd1 {
<a href=#__codelineno-25-2 id=__codelineno-25-2 name=__codelineno-25-2></a>    lcd_used = &lt;1&gt;;
<a href=#__codelineno-25-3 id=__codelineno-25-3 name=__codelineno-25-3></a>    lcd_driver_name = "bp101wx1";
<a href=#__codelineno-25-4 id=__codelineno-25-4 name=__codelineno-25-4></a>    lcd_backlight = &lt;50&gt;;
<a href=#__codelineno-25-5 id=__codelineno-25-5 name=__codelineno-25-5></a>    lcd_if = &lt;3&gt;;
<a href=#__codelineno-25-6 id=__codelineno-25-6 name=__codelineno-25-6></a>    lcd_x = &lt;2560&gt;;
<a href=#__codelineno-25-7 id=__codelineno-25-7 name=__codelineno-25-7></a>    lcd_y = &lt;800&gt;;
<a href=#__codelineno-25-8 id=__codelineno-25-8 name=__codelineno-25-8></a>    lcd_width = &lt;150&gt;;
<a href=#__codelineno-25-9 id=__codelineno-25-9 name=__codelineno-25-9></a>    lcd_height = &lt;94&gt;;
<a href=#__codelineno-25-10 id=__codelineno-25-10 name=__codelineno-25-10></a>    lcd_dclk_freq = &lt;138&gt;;
<a href=#__codelineno-25-11 id=__codelineno-25-11 name=__codelineno-25-11></a>    lcd_pwm_used = &lt;0&gt;;
<a href=#__codelineno-25-12 id=__codelineno-25-12 name=__codelineno-25-12></a>    lcd_pwm_ch = &lt;2&gt;;
<a href=#__codelineno-25-13 id=__codelineno-25-13 name=__codelineno-25-13></a>    lcd_pwm_freq = &lt;50000&gt;;
<a href=#__codelineno-25-14 id=__codelineno-25-14 name=__codelineno-25-14></a>    lcd_pwm_pol = &lt;1&gt;;
<a href=#__codelineno-25-15 id=__codelineno-25-15 name=__codelineno-25-15></a>    lcd_pwm_max_limit = &lt;255&gt;;
<a href=#__codelineno-25-16 id=__codelineno-25-16 name=__codelineno-25-16></a>    lcd_hbp = &lt;40&gt;;
<a href=#__codelineno-25-17 id=__codelineno-25-17 name=__codelineno-25-17></a>    lcd_ht = &lt;2836&gt;;
<a href=#__codelineno-25-18 id=__codelineno-25-18 name=__codelineno-25-18></a>    lcd_hspw = &lt;20&gt;;
<a href=#__codelineno-25-19 id=__codelineno-25-19 name=__codelineno-25-19></a>    lcd_vbp = &lt;10&gt;;
<a href=#__codelineno-25-20 id=__codelineno-25-20 name=__codelineno-25-20></a>    lcd_vt = &lt;814&gt;;
<a href=#__codelineno-25-21 id=__codelineno-25-21 name=__codelineno-25-21></a>    lcd_vspw = &lt;5&gt;;
<a href=#__codelineno-25-22 id=__codelineno-25-22 name=__codelineno-25-22></a>    lcd_lvds_if = &lt;1&gt;;
<a href=#__codelineno-25-23 id=__codelineno-25-23 name=__codelineno-25-23></a>    lcd_lvds_colordepth = &lt;0&gt;;
<a href=#__codelineno-25-24 id=__codelineno-25-24 name=__codelineno-25-24></a>    lcd_lvds_mode = &lt;0&gt;;
<a href=#__codelineno-25-25 id=__codelineno-25-25 name=__codelineno-25-25></a>    lcd_frm = &lt;0&gt;;
<a href=#__codelineno-25-26 id=__codelineno-25-26 name=__codelineno-25-26></a>    lcd_hv_clk_phase = &lt;0&gt;;
<a href=#__codelineno-25-27 id=__codelineno-25-27 name=__codelineno-25-27></a>    lcd_hv_sync_polarity= &lt;0&gt;;
<a href=#__codelineno-25-28 id=__codelineno-25-28 name=__codelineno-25-28></a>    lcd_gamma_en = &lt;0&gt;;
<a href=#__codelineno-25-29 id=__codelineno-25-29 name=__codelineno-25-29></a>    lcd_bright_curve_en = &lt;0&gt;;
<a href=#__codelineno-25-30 id=__codelineno-25-30 name=__codelineno-25-30></a>    lcd_cmap_en = &lt;0&gt;;
<a href=#__codelineno-25-31 id=__codelineno-25-31 name=__codelineno-25-31></a>    lcd_fsync_en = &lt;0&gt;;
<a href=#__codelineno-25-32 id=__codelineno-25-32 name=__codelineno-25-32></a>    lcd_fsync_act_time = &lt;1000&gt;;
<a href=#__codelineno-25-33 id=__codelineno-25-33 name=__codelineno-25-33></a>    lcd_fsync_dis_time = &lt;1000&gt;;
<a href=#__codelineno-25-34 id=__codelineno-25-34 name=__codelineno-25-34></a>    lcd_fsync_pol = &lt;0&gt;;
<a href=#__codelineno-25-35 id=__codelineno-25-35 name=__codelineno-25-35></a>    deu_mode = &lt;0&gt;;
<a href=#__codelineno-25-36 id=__codelineno-25-36 name=__codelineno-25-36></a>    lcdgamma4iep = &lt;22&gt;;
<a href=#__codelineno-25-37 id=__codelineno-25-37 name=__codelineno-25-37></a>    smart_color = &lt;90&gt;;
<a href=#__codelineno-25-38 id=__codelineno-25-38 name=__codelineno-25-38></a>    lcd_bl_en = &lt;&amp;pio PJ 27 1 0 3 1&gt;;
<a href=#__codelineno-25-39 id=__codelineno-25-39 name=__codelineno-25-39></a>    lcd_gpio_0 = &lt;&amp;pio PI 1 1 0 3 1&gt;;
<a href=#__codelineno-25-40 id=__codelineno-25-40 name=__codelineno-25-40></a>    lcd_pin_power = "bldo5";
<a href=#__codelineno-25-41 id=__codelineno-25-41 name=__codelineno-25-41></a>    lcd_power = "dc1sw";
<a href=#__codelineno-25-42 id=__codelineno-25-42 name=__codelineno-25-42></a>    pinctrl-0 = &lt;&amp;lcd1_lvds2link_pins_a&gt;;
<a href=#__codelineno-25-43 id=__codelineno-25-43 name=__codelineno-25-43></a>    pinctrl-1 = &lt;&amp;lcd1_lvds2link_pins_b&gt;;
<a href=#__codelineno-25-44 id=__codelineno-25-44 name=__codelineno-25-44></a>};
</code></pre></div> <p>场景2（部分IC 支持），物理上连接两个屏，每个屏各自4 条lane，两个屏是一样型号，分辨率和timing 一样，这时候部分IC 支持将全部像素发到每个屏上，实现</p> <p>双显（信号上的双显），注意这时候lcd timing 是一个屏的timing, lcd_lvds_if 为2。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-26-1 id=__codelineno-26-1 name=__codelineno-26-1></a>lcd1: lcd1@01c0c001 {
<a href=#__codelineno-26-2 id=__codelineno-26-2 name=__codelineno-26-2></a>    lcd_used = &lt;1&gt;;
<a href=#__codelineno-26-3 id=__codelineno-26-3 name=__codelineno-26-3></a>    lcd_driver_name = "bp101wx1";
<a href=#__codelineno-26-4 id=__codelineno-26-4 name=__codelineno-26-4></a>    lcd_backlight = &lt;50&gt;;
<a href=#__codelineno-26-5 id=__codelineno-26-5 name=__codelineno-26-5></a>    lcd_if = &lt;3&gt;;
<a href=#__codelineno-26-6 id=__codelineno-26-6 name=__codelineno-26-6></a>    lcd_x = &lt;1280&gt;;
<a href=#__codelineno-26-7 id=__codelineno-26-7 name=__codelineno-26-7></a>    lcd_y = &lt;800&gt;;
<a href=#__codelineno-26-8 id=__codelineno-26-8 name=__codelineno-26-8></a>    lcd_width = &lt;150&gt;;
<a href=#__codelineno-26-9 id=__codelineno-26-9 name=__codelineno-26-9></a>    lcd_height = &lt;94&gt;;
<a href=#__codelineno-26-10 id=__codelineno-26-10 name=__codelineno-26-10></a>    lcd_dclk_freq = &lt;70&gt;;
<a href=#__codelineno-26-11 id=__codelineno-26-11 name=__codelineno-26-11></a>    lcd_pwm_used = &lt;0&gt;;
<a href=#__codelineno-26-12 id=__codelineno-26-12 name=__codelineno-26-12></a>    lcd_pwm_ch = &lt;2&gt;;
<a href=#__codelineno-26-13 id=__codelineno-26-13 name=__codelineno-26-13></a>    lcd_pwm_freq = &lt;50000&gt;;
<a href=#__codelineno-26-14 id=__codelineno-26-14 name=__codelineno-26-14></a>    lcd_pwm_pol = &lt;1&gt;;
<a href=#__codelineno-26-15 id=__codelineno-26-15 name=__codelineno-26-15></a>    lcd_pwm_max_limit = &lt;255&gt;;
<a href=#__codelineno-26-16 id=__codelineno-26-16 name=__codelineno-26-16></a>    lcd_hbp = &lt;20&gt;;
<a href=#__codelineno-26-17 id=__codelineno-26-17 name=__codelineno-26-17></a>    lcd_ht = &lt;1418&gt;;
<a href=#__codelineno-26-18 id=__codelineno-26-18 name=__codelineno-26-18></a>    lcd_hspw = &lt;10&gt;;
<a href=#__codelineno-26-19 id=__codelineno-26-19 name=__codelineno-26-19></a>    lcd_vbp = &lt;10&gt;;
<a href=#__codelineno-26-20 id=__codelineno-26-20 name=__codelineno-26-20></a>    lcd_vt = &lt;814&gt;;
<a href=#__codelineno-26-21 id=__codelineno-26-21 name=__codelineno-26-21></a>    lcd_vspw = &lt;5&gt;;
<a href=#__codelineno-26-22 id=__codelineno-26-22 name=__codelineno-26-22></a>    lcd_lvds_if = &lt;2&gt;;
<a href=#__codelineno-26-23 id=__codelineno-26-23 name=__codelineno-26-23></a>    lcd_lvds_colordepth = &lt;0&gt;;
<a href=#__codelineno-26-24 id=__codelineno-26-24 name=__codelineno-26-24></a>    lcd_lvds_mode = &lt;0&gt;;
<a href=#__codelineno-26-25 id=__codelineno-26-25 name=__codelineno-26-25></a>    lcd_frm = &lt;0&gt;;
<a href=#__codelineno-26-26 id=__codelineno-26-26 name=__codelineno-26-26></a>    lcd_hv_clk_phase = &lt;0&gt;;
<a href=#__codelineno-26-27 id=__codelineno-26-27 name=__codelineno-26-27></a>    lcd_hv_sync_polarity= &lt;0&gt;;
<a href=#__codelineno-26-28 id=__codelineno-26-28 name=__codelineno-26-28></a>    lcd_gamma_en = &lt;0&gt;;
<a href=#__codelineno-26-29 id=__codelineno-26-29 name=__codelineno-26-29></a>    lcd_bright_curve_en = &lt;0&gt;;
<a href=#__codelineno-26-30 id=__codelineno-26-30 name=__codelineno-26-30></a>    lcd_cmap_en = &lt;0&gt;;
<a href=#__codelineno-26-31 id=__codelineno-26-31 name=__codelineno-26-31></a>    lcd_fsync_en = &lt;0&gt;;
<a href=#__codelineno-26-32 id=__codelineno-26-32 name=__codelineno-26-32></a>    lcd_fsync_act_time = &lt;1000&gt;;
<a href=#__codelineno-26-33 id=__codelineno-26-33 name=__codelineno-26-33></a>    lcd_fsync_dis_time = &lt;1000&gt;;
<a href=#__codelineno-26-34 id=__codelineno-26-34 name=__codelineno-26-34></a>    lcd_fsync_pol = &lt;0&gt;;
<a href=#__codelineno-26-35 id=__codelineno-26-35 name=__codelineno-26-35></a>    deu_mode = &lt;0&gt;;
<a href=#__codelineno-26-36 id=__codelineno-26-36 name=__codelineno-26-36></a>    lcdgamma4iep = &lt;22&gt;;
<a href=#__codelineno-26-37 id=__codelineno-26-37 name=__codelineno-26-37></a>    smart_color = &lt;90&gt;;
<a href=#__codelineno-26-38 id=__codelineno-26-38 name=__codelineno-26-38></a>    lcd_bl_en = &lt;&amp;pio PJ 27 1 0 3 1&gt;;
<a href=#__codelineno-26-39 id=__codelineno-26-39 name=__codelineno-26-39></a>    lcd_gpio_0 = &lt;&amp;pio PI 1 1 0 3 1&gt;;
<a href=#__codelineno-26-40 id=__codelineno-26-40 name=__codelineno-26-40></a>    lcd_pin_power = "bldo5";
<a href=#__codelineno-26-41 id=__codelineno-26-41 name=__codelineno-26-41></a>    lcd_power = "dc1sw";
<a href=#__codelineno-26-42 id=__codelineno-26-42 name=__codelineno-26-42></a>    pinctrl-0 = &lt;&amp;lcd1_lvds2link_pins_a&gt;;
<a href=#__codelineno-26-43 id=__codelineno-26-43 name=__codelineno-26-43></a>    pinctrl-1 = &lt;&amp;lcd1_lvds2link_pins_a&gt;;
<a href=#__codelineno-26-44 id=__codelineno-26-44 name=__codelineno-26-44></a>};
</code></pre></div> <h3 id=47-rgb-i8080>4.7 RGB 和I8080 管脚配置示意图</h3> <p><img alt=image-20221129120014562 src=https://photos.100ask.net/Tina-Sdk/Linux_LCD_DevGuide_image-20221129120014562.png></p> <center>图4-8: pinmux</center> <h3 id=48-sys_configfex-boarddtsi>4.8 从sys_config.fex 到board.dtsi 的迁移注意事项</h3> <p>为了规范等原因，部分平台将配置放在board.dtsi 中实现。下面说明了修改board.dtsi 的注意事项。</p> <h4 id=481>4.8.1 管脚定义</h4> <p>在配置RGB 屏或者LVDS 屏时，现在不再需要复杂的定义，也不需要了解到底哪些管脚需要配置，也不需要lcd0_suspend节点了。其中rgb24_pins_a这个名字是</p> <p>定义好的，直接用即可，一般LCD屏直接可用的配置会在注释中写明，你可以在内核目录下arch/arm/boot/dts或者arch/arm64/boot/dts下的平台-pinctrl.dtsi 文</p> <p>件中找。</p> <p>例子:</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-27-1 id=__codelineno-27-1 name=__codelineno-27-1></a>pinctrl-0 = &lt;&amp;rgb24_pins_a&gt;;
<a href=#__codelineno-27-2 id=__codelineno-27-2 name=__codelineno-27-2></a>pinctrl-1 = &lt;&amp;rgb24_pins_b&gt;;//休眠时候的定义，io_disable
</code></pre></div> <p>当然，你也可以自定义一组脚，写在board.dtsi 中，只要名字不要和现有名字重复就行。</p> <p>为了规范，我们将在所有平台保持一致的名字，其中后缀为a 即为管脚使能，b 的为io_disable用于设备关闭时。</p> <p>目前有以下管脚定义可用：</p> <center>表4-2: 显示管脚名称表</center> <table> <thead> <tr> <th>管脚名称</th> <th>描述</th> </tr> </thead> <tbody> <tr> <td>rgb24_pins_a 和rgb24_pins_b</td> <td>RGB 屏接口，而且数据位宽是24，RGB888</td> </tr> <tr> <td>rgb18_pins_a 和rgb18_pins_b</td> <td>RGB 屏接口，而且数据位宽是16，RGB666</td> </tr> <tr> <td>lvds0_pins_a和lvds0_pins_b</td> <td>Single link LVDS 接口0 管脚定义（主显lcd0）</td> </tr> <tr> <td>lvds1_pins_a 和lvds1_pins_b</td> <td>Single link LVDS 接口1 管脚定义（主显lcd0)</td> </tr> <tr> <td>lvds2link_pins_a 和lvds2link_pins_b</td> <td>Dual link LVDS 接口管脚定义（主显lcd0）</td> </tr> <tr> <td>lvds2_pins_a 和lvds2_pins_b</td> <td>Single link LVDS 接口0 管脚定义（主显lcd1）</td> </tr> <tr> <td>lvds3_pins_a 和lvds3_pins_b</td> <td>Single link LVDS 接口1 管脚定义（主显lcd1）</td> </tr> <tr> <td>lcd1_lvds2link_pins_a 和lcd1_lvds2link_pins_b</td> <td>Dual link LVDS 接口管脚定义（主显lcd1）</td> </tr> <tr> <td>dsi4lane_pins_a 和dsi4lane_pins_b</td> <td>DSI 屏接口管脚定义，4lane，如果是其它lane 数量，只</td> </tr> </tbody> </table> <h4 id=482>4.8.2 电源定义</h4> <p>电源定义在旧的SDK 中并不需要注意什么，还是直接把axp 的别名字符串赋值给想lcd_power这样的属性上即可，但是新的SDK 中，如果需要使用某路电源必须先</p> <p>在disp 节点中定义，然后lcd 部分使用的字符串则要和disp 中定义的一致。比如下面的例子：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-28-1 id=__codelineno-28-1 name=__codelineno-28-1></a>disp: disp@01000000 {
<a href=#__codelineno-28-2 id=__codelineno-28-2 name=__codelineno-28-2></a>    disp_init_enable = &lt;1&gt;;
<a href=#__codelineno-28-3 id=__codelineno-28-3 name=__codelineno-28-3></a>    disp_mode = &lt;0&gt;;
<a href=#__codelineno-28-4 id=__codelineno-28-4 name=__codelineno-28-4></a>    /* VCC-LCD */
<a href=#__codelineno-28-5 id=__codelineno-28-5 name=__codelineno-28-5></a>    dc1sw-supply = &lt;&amp;reg_sw&gt;;
<a href=#__codelineno-28-6 id=__codelineno-28-6 name=__codelineno-28-6></a>    /* VCC-LVDS and VCC-HDMI */
<a href=#__codelineno-28-7 id=__codelineno-28-7 name=__codelineno-28-7></a>    bldo1-supply = &lt;&amp;reg_bldo1&gt;;
<a href=#__codelineno-28-8 id=__codelineno-28-8 name=__codelineno-28-8></a>    /* VCC-TV */
<a href=#__codelineno-28-9 id=__codelineno-28-9 name=__codelineno-28-9></a>    cldo4-supply = &lt;&amp;reg_cldo4&gt;;
<a href=#__codelineno-28-10 id=__codelineno-28-10 name=__codelineno-28-10></a>}；
</code></pre></div> <p>其中”-supply” 是固定的，它之前的字符串则是随意的，不过建议取有意义的名字。而后面的像&lt;&amp;reg_sw&gt; 则必须在board.dtsi 的regulator0 节点中找到。</p> <p>然后lcd0 节点中，如果要使用reg_sw，则类似下面这样写就行，dc1sw 对应dc1sw-supply。</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-29-1 id=__codelineno-29-1 name=__codelineno-29-1></a>lcd_power=”dc1sw”
</code></pre></div> <p>由于u-boot 中也有axp 驱动和display 驱动，它们和内核一样，都是读取同份配置，为了能互相兼容，取名的时候，有以下限制。</p> <p>在u-boot 2018 中，axp 驱动只认类似bldo1 这样从axp 芯片中定义的名字，所以命名xxxsupply的时候最好按照这个axp 芯片的定义来命名。</p> <h4 id=483>4.8.3 其它注意事项</h4> <p>board.dtsi 里面可能只有lcd0 没有lcd1，或只有tv0 没有tv1，这时候你要添加的话，需要参考内核目录arch/arm/boot/dts 或者arch/arm64/boot/dts 下对应的平</p> <p>台.dtsi 文件。其中最关键的是@ 后面那串地址必须与内核中定义一致，比如：</p> <div class=highlight><pre><span></span><code><a href=#__codelineno-30-1 id=__codelineno-30-1 name=__codelineno-30-1></a>lcd1: lcd1@01c0c000
</code></pre></div> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by using our <a href=... target=_blank>feedback form</a>. </div> </div> </div> </fieldset> </form> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg> 回到页面顶部 </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2008 - 2022 100ask Team </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.code.annotate", "header.autohide", "navigation.indexes", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script> <script src=../../assets/javascripts/bundle.13a4f30d.min.js></script> <script src=https://unpkg.com/d3@6.7.0/dist/d3.min.js></script> <script src=https://unpkg.com/markmap-lib@0.14.1/dist/browser/index.min.js></script> <script src=https://unpkg.com/markmap-view@0.14.0/dist/index.min.js></script> </body> </html>