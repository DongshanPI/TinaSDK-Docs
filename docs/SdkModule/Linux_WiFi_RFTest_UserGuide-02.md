## 2 WiFi 测试

### 2.1 WiFi 传导测试

Wi-Fi 的传导测试是通过射频电缆线，以有线的方式连接到测试仪器，用来测试不带天线，射频芯片出来的RF 性能。

传导测试又分为信令模式和非信令模式。信令模式可以理解为小机和综合测试仪进行信息交互，小机既能发射信号，又能接收信号，具有回环机制；非信令模式

下，小机只能作为发射机或者接收机，信息传递是单向的；两种模式下测试结果是差不多的。注：小机：指带有Wi-Fi 芯片的开发板。测试仪器：种类多样如下面

列举的：传导测试的仪器设备有IQ2015、N9020A（频谱仪）和CMW270（综合测试仪）。其中CMW270 既可以用于信令模式，也可以非信令模式，常用于信令

模式；IQ2015 和N9020A 只能用于信令模式，另外N9020A 只能测传导TX，不能测RX，IQ2015 则都可以测。

### 2.2 测试指标

![Tina_Linux_WiFi_RFTesting_Development_Guide-image-20230103093015882](https://cdn.staticaly.com/gh/DongshanPI/Docs-Photos@master/Tina-Sdk/Tina_Linux_WiFi_RFTesting_Development_Guide-image-20230103093015882.png)

<center>图2-1: RF 测试指标</center>

### 2.3 ETF 工具介绍

为了方便测试RF 性能，Xradio 提供ETF CLI（一种Linux 测试命令客户端工具）。

ETF 工具的大致功能如下：

| 类别     | 测试支持         | 描述                                       | 备注                         |
| -------- | ---------------- | ------------------------------------------ | ---------------------------- |
| 基本配置 | 频段选择（2.4G） | 测试的频段可配置                           | 目前只支持2.4G               |
|          | 信道选择         | 测试信道可配置（1~14）                     |                              |
|          | MAC 地址配置     | 修改发送帧的MAC 地址                       | 可配置A1，A2，A3             |
| TX       | 连续发送         | 连续发送模式下不断发送帧，直到进行停止操作 |                              |
|          | 帧数发送         | 发送一定数目的帧后停止发送                 |                              |
|          | 帧长度           | 配置发送的帧长度可以调整                   | 大于MAC 头部（14 字节），    |
|          | 速率选择         | 速率可选择11b, 11g, 11n HT20               | 11b 22Mbps 33Mbps 除外       |
|          | 功率调整         | 发送功率可以按等级调整，单位不是dbm        | 每个速率有对应默认功率，一般 |
|          | 单载波发送       | 可发送单载波，幅度可调整                   | CLI 支持频偏可调整           |
| RX       | 连续接收         | 停止接收后显示接收帧总数，错误帧数目       |                              |
|          | 模式配置         | 可以配置11b only, 11g/n 或者11b/g/n        | APK 暂不支持11b only 和11g/  |